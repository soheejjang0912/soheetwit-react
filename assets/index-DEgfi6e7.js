function LI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(t,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function zI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var km={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function BI(){if(gE)return dl;gE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:l}}return dl.Fragment=e,dl.jsx=n,dl.jsxs=n,dl}var yE;function jI(){return yE||(yE=1,km.exports=BI()),km.exports}var te=jI(),Um={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function qI(){if(vE)return be;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function V(A,j,ee){this.props=A,this.context=j,this.refs=k,this.updater=ee||w}V.prototype.isReactComponent={},V.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},V.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=V.prototype;function G(A,j,ee){this.props=A,this.context=j,this.refs=k,this.updater=ee||w}var $=G.prototype=new F;$.constructor=G,I($,V.prototype),$.isPureReactComponent=!0;var b=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function J(A,j,ee,X,W,Se){return ee=Se.ref,{$$typeof:t,type:A,key:j,ref:ee!==void 0?ee:null,props:Se}}function ze(A,j){return J(A.type,j,void 0,void 0,void 0,A.props)}function qe(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ct(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return j[ee]})}var Ut=/\/+/g;function Ce(A,j){return typeof A=="object"&&A!==null&&A.key!=null?ct(""+A.key):j.toString(36)}function En(){}function fn(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(En,En):(A.status="pending",A.then(function(j){A.status==="pending"&&(A.status="fulfilled",A.value=j)},function(j){A.status==="pending"&&(A.status="rejected",A.reason=j)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function it(A,j,ee,X,W){var Se=typeof A;(Se==="undefined"||Se==="boolean")&&(A=null);var fe=!1;if(A===null)fe=!0;else switch(Se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(A.$$typeof){case t:case e:fe=!0;break;case g:return fe=A._init,it(fe(A._payload),j,ee,X,W)}}if(fe)return W=W(A),fe=X===""?"."+Ce(A,0):X,b(W)?(ee="",fe!=null&&(ee=fe.replace(Ut,"$&/")+"/"),it(W,j,ee,"",function(dn){return dn})):W!=null&&(qe(W)&&(W=ze(W,ee+(W.key==null||A&&A.key===W.key?"":(""+W.key).replace(Ut,"$&/")+"/")+fe)),j.push(W)),1;fe=0;var mt=X===""?".":X+":";if(b(A))for(var Ne=0;Ne<A.length;Ne++)X=A[Ne],Se=mt+Ce(X,Ne),fe+=it(X,j,ee,Se,W);else if(Ne=E(A),typeof Ne=="function")for(A=Ne.call(A),Ne=0;!(X=A.next()).done;)X=X.value,Se=mt+Ce(X,Ne++),fe+=it(X,j,ee,Se,W);else if(Se==="object"){if(typeof A.then=="function")return it(fn(A),j,ee,X,W);throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return fe}function P(A,j,ee){if(A==null)return A;var X=[],W=0;return it(A,X,"","",function(Se){return j.call(ee,Se,W++)}),X}function Y(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Re(){}return be.Children={map:P,forEach:function(A,j,ee){P(A,function(){j.apply(this,arguments)},ee)},count:function(A){var j=0;return P(A,function(){j++}),j},toArray:function(A){return P(A,function(j){return j})||[]},only:function(A){if(!qe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},be.Component=V,be.Fragment=n,be.Profiler=s,be.PureComponent=G,be.StrictMode=r,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,be.__COMPILER_RUNTIME={__proto__:null,c:function(A){return H.H.useMemoCache(A)}},be.cache=function(A){return function(){return A.apply(null,arguments)}},be.cloneElement=function(A,j,ee){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=I({},A.props),W=A.key,Se=void 0;if(j!=null)for(fe in j.ref!==void 0&&(Se=void 0),j.key!==void 0&&(W=""+j.key),j)!ne.call(j,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&j.ref===void 0||(X[fe]=j[fe]);var fe=arguments.length-2;if(fe===1)X.children=ee;else if(1<fe){for(var mt=Array(fe),Ne=0;Ne<fe;Ne++)mt[Ne]=arguments[Ne+2];X.children=mt}return J(A.type,W,void 0,void 0,Se,X)},be.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},be.createElement=function(A,j,ee){var X,W={},Se=null;if(j!=null)for(X in j.key!==void 0&&(Se=""+j.key),j)ne.call(j,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(W[X]=j[X]);var fe=arguments.length-2;if(fe===1)W.children=ee;else if(1<fe){for(var mt=Array(fe),Ne=0;Ne<fe;Ne++)mt[Ne]=arguments[Ne+2];W.children=mt}if(A&&A.defaultProps)for(X in fe=A.defaultProps,fe)W[X]===void 0&&(W[X]=fe[X]);return J(A,Se,void 0,void 0,null,W)},be.createRef=function(){return{current:null}},be.forwardRef=function(A){return{$$typeof:d,render:A}},be.isValidElement=qe,be.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:Y}},be.memo=function(A,j){return{$$typeof:p,type:A,compare:j===void 0?null:j}},be.startTransition=function(A){var j=H.T,ee={};H.T=ee;try{var X=A(),W=H.S;W!==null&&W(ee,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Re,oe)}catch(Se){oe(Se)}finally{H.T=j}},be.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},be.use=function(A){return H.H.use(A)},be.useActionState=function(A,j,ee){return H.H.useActionState(A,j,ee)},be.useCallback=function(A,j){return H.H.useCallback(A,j)},be.useContext=function(A){return H.H.useContext(A)},be.useDebugValue=function(){},be.useDeferredValue=function(A,j){return H.H.useDeferredValue(A,j)},be.useEffect=function(A,j,ee){var X=H.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,j)},be.useId=function(){return H.H.useId()},be.useImperativeHandle=function(A,j,ee){return H.H.useImperativeHandle(A,j,ee)},be.useInsertionEffect=function(A,j){return H.H.useInsertionEffect(A,j)},be.useLayoutEffect=function(A,j){return H.H.useLayoutEffect(A,j)},be.useMemo=function(A,j){return H.H.useMemo(A,j)},be.useOptimistic=function(A,j){return H.H.useOptimistic(A,j)},be.useReducer=function(A,j,ee){return H.H.useReducer(A,j,ee)},be.useRef=function(A){return H.H.useRef(A)},be.useState=function(A){return H.H.useState(A)},be.useSyncExternalStore=function(A,j,ee){return H.H.useSyncExternalStore(A,j,ee)},be.useTransition=function(){return H.H.useTransition()},be.version="19.1.0",be}var _E;function lg(){return _E||(_E=1,Um.exports=qI()),Um.exports}var Q=lg();const Ei=zI(Q),HI=LI({__proto__:null,default:Ei},[Q]);var Lm={exports:{}},ml={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function FI(){return EE||(EE=1,function(t){function e(P,Y){var oe=P.length;P.push(Y);e:for(;0<oe;){var Re=oe-1>>>1,A=P[Re];if(0<s(A,Y))P[Re]=Y,P[oe]=A,oe=Re;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var Y=P[0],oe=P.pop();if(oe!==Y){P[0]=oe;e:for(var Re=0,A=P.length,j=A>>>1;Re<j;){var ee=2*(Re+1)-1,X=P[ee],W=ee+1,Se=P[W];if(0>s(X,oe))W<A&&0>s(Se,X)?(P[Re]=Se,P[W]=oe,Re=W):(P[Re]=X,P[ee]=oe,Re=ee);else if(W<A&&0>s(Se,oe))P[Re]=Se,P[W]=oe,Re=W;else break e}}return Y}function s(P,Y){var oe=P.sortIndex-Y.sortIndex;return oe!==0?oe:P.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],g=1,_=null,E=3,w=!1,I=!1,k=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function b(P){for(var Y=n(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=P)r(p),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=n(p)}}function H(P){if(k=!1,b(P),!I)if(n(m)!==null)I=!0,ne||(ne=!0,Ce());else{var Y=n(p);Y!==null&&it(H,Y.startTime-P)}}var ne=!1,J=-1,ze=5,qe=-1;function ct(){return V?!0:!(t.unstable_now()-qe<ze)}function Ut(){if(V=!1,ne){var P=t.unstable_now();qe=P;var Y=!0;try{e:{I=!1,k&&(k=!1,G(J),J=-1),w=!0;var oe=E;try{t:{for(b(P),_=n(m);_!==null&&!(_.expirationTime>P&&ct());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,E=_.priorityLevel;var A=Re(_.expirationTime<=P);if(P=t.unstable_now(),typeof A=="function"){_.callback=A,b(P),Y=!0;break t}_===n(m)&&r(m),b(P)}else r(m);_=n(m)}if(_!==null)Y=!0;else{var j=n(p);j!==null&&it(H,j.startTime-P),Y=!1}}break e}finally{_=null,E=oe,w=!1}Y=void 0}}finally{Y?Ce():ne=!1}}}var Ce;if(typeof $=="function")Ce=function(){$(Ut)};else if(typeof MessageChannel<"u"){var En=new MessageChannel,fn=En.port2;En.port1.onmessage=Ut,Ce=function(){fn.postMessage(null)}}else Ce=function(){F(Ut,0)};function it(P,Y){J=F(function(){P(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(P){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var oe=E;E=Y;try{return P()}finally{E=oe}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(P,Y){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var oe=E;E=P;try{return Y()}finally{E=oe}},t.unstable_scheduleCallback=function(P,Y,oe){var Re=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,P){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=oe+A,P={id:g++,callback:Y,priorityLevel:P,startTime:oe,expirationTime:A,sortIndex:-1},oe>Re?(P.sortIndex=oe,e(p,P),n(m)===null&&P===n(p)&&(k?(G(J),J=-1):k=!0,it(H,oe-Re))):(P.sortIndex=A,e(m,P),I||w||(I=!0,ne||(ne=!0,Ce()))),P},t.unstable_shouldYield=ct,t.unstable_wrapCallback=function(P){var Y=E;return function(){var oe=E;E=Y;try{return P.apply(this,arguments)}finally{E=oe}}}}(Bm)),Bm}var TE;function GI(){return TE||(TE=1,zm.exports=FI()),zm.exports}var jm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function KI(){if(AE)return en;AE=1;var t=lg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,p,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,g)},en.flushSync=function(m){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=g,r.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:w}):g==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,_=d(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var SE;function $I(){if(SE)return jm.exports;SE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=KI(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function QI(){if(wE)return ml;wE=1;var t=GI(),e=lg(),n=$I();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,u=a;;){var h=o.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===o)return d(h),i;if(f===u)return d(h),a;f=f.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=f;else{for(var y=!1,v=h.child;v;){if(v===o){y=!0,o=h,u=f;break}if(v===u){y=!0,u=h,o=f;break}v=v.sibling}if(!y){for(v=f.child;v;){if(v===o){y=!0,o=f,u=h;break}if(v===u){y=!0,u=f,o=h;break}v=v.sibling}if(!y)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),$=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),qe=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),Ut=Symbol.iterator;function Ce(i){return i===null||typeof i!="object"?null:(i=Ut&&i[Ut]||i["@@iterator"],typeof i=="function"?i:null)}var En=Symbol.for("react.client.reference");function fn(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===En?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case ne:return"SuspenseList";case qe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case $:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case b:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return a=i.displayName||null,a!==null?a:fn(i.type)||"Memo";case ze:a=i._payload,i=i._init;try{return fn(i(a))}catch{}}return null}var it=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Re=[],A=-1;function j(i){return{current:i}}function ee(i){0>A||(i.current=Re[A],Re[A]=null,A--)}function X(i,a){A++,Re[A]=i.current,i.current=a}var W=j(null),Se=j(null),fe=j(null),mt=j(null);function Ne(i,a){switch(X(fe,a),X(Se,i),X(W,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?F0(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=F0(a),i=G0(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(W),X(W,i)}function dn(){ee(W),ee(Se),ee(fe)}function Tn(i){i.memoizedState!==null&&X(mt,i);var a=W.current,o=G0(a,i.type);a!==o&&(X(Se,i),X(W,o))}function Hr(i){Se.current===i&&(ee(W),ee(Se)),mt.current===i&&(ee(mt),ll._currentValue=oe)}var po=Object.prototype.hasOwnProperty,go=t.unstable_scheduleCallback,yo=t.unstable_cancelCallback,Fr=t.unstable_shouldYield,Cu=t.unstable_requestPaint,An=t.unstable_now,Pa=t.unstable_getCurrentPriorityLevel,ka=t.unstable_ImmediatePriority,ei=t.unstable_UserBlockingPriority,Gr=t.unstable_NormalPriority,Du=t.unstable_LowPriority,vo=t.unstable_IdlePriority,Cf=t.log,Ou=t.unstable_setDisableYieldValue,ci=null,Wt=null;function Ln(i){if(typeof Cf=="function"&&Ou(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ci,i)}catch{}}var mn=Math.clz32?Math.clz32:Mu,Nu=Math.log,Df=Math.LN2;function Mu(i){return i>>>=0,i===0?32:31-(Nu(i)/Df|0)|0}var Ua=256,M=4194304;function x(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function q(i,a,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,f=i.suspendedLanes,y=i.pingedLanes;i=i.warmLanes;var v=u&134217727;return v!==0?(u=v&~f,u!==0?h=x(u):(y&=v,y!==0?h=x(y):o||(o=v&~i,o!==0&&(h=x(o))))):(v=u&~f,v!==0?h=x(v):y!==0?h=x(y):o||(o=u&~i,o!==0&&(h=x(o)))),h===0?0:a!==0&&a!==h&&(a&f)===0&&(f=h&-h,o=a&-a,f>=o||f===32&&(o&4194048)!==0)?a:h}function ie(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Ee(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pe(){var i=Ua;return Ua<<=1,(Ua&4194048)===0&&(Ua=256),i}function ye(){var i=M;return M<<=1,(M&62914560)===0&&(M=4194304),i}function ce(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function se(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xe(i,a,o,u,h,f){var y=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var v=i.entanglements,T=i.expirationTimes,D=i.hiddenUpdates;for(o=y&~o;0<o;){var U=31-mn(o),z=1<<U;v[U]=0,T[U]=-1;var O=D[U];if(O!==null)for(D[U]=null,U=0;U<O.length;U++){var N=O[U];N!==null&&(N.lane&=-536870913)}o&=~z}u!==0&&Nt(i,u,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(y&~a))}function Nt(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-mn(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function He(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var u=31-mn(o),h=1<<u;h&a|i[u]&a&&(i[u]|=a),o&=~h}}function rt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function yt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hi(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:cE(i.type))}function Ii(i,a){var o=Y.p;try{return Y.p=i,a()}finally{Y.p=o}}var Sn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Sn,ht="__reactProps$"+Sn,Zt="__reactContainer$"+Sn,nr="__reactEvents$"+Sn,_o="__reactListeners$"+Sn,Eo="__reactHandles$"+Sn,La="__reactResources$"+Sn,ke="__reactMarker$"+Sn;function pn(i){delete i[wt],delete i[ht],delete i[nr],delete i[_o],delete i[Eo]}function gn(i){var a=i[wt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[Zt]||o[wt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=Y0(i);i!==null;){if(o=i[wt])return o;i=Y0(i)}return a}i=o,o=i.parentNode}return null}function fi(i){if(i=i[wt]||i[Zt]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function at(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function zn(i){var a=i[La];return a||(a=i[La]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Tt(i){i[ke]=!0}var xu=new Set,Vy={};function Kr(i,a){za(i,a),za(i+"Capture",a)}function za(i,a){for(Vy[i]=a,i=0;i<a.length;i++)xu.add(a[i])}var Ob=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Py={},ky={};function Nb(i){return po.call(ky,i)?!0:po.call(Py,i)?!1:Ob.test(i)?ky[i]=!0:(Py[i]=!0,!1)}function Vu(i,a,o){if(Nb(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Pu(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Ci(i,a,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+u)}}var Of,Uy;function Ba(i){if(Of===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Of=a&&a[1]||"",Uy=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Of+i+Uy}var Nf=!1;function Mf(i,a){if(!i||Nf)return"";Nf=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(N){var O=N}Reflect.construct(i,[],z)}else{try{z.call()}catch(N){O=N}i.call(z.prototype)}}else{try{throw Error()}catch(N){O=N}(z=i())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(N){if(N&&O&&typeof N.stack=="string")return[N.stack,O.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),y=f[0],v=f[1];if(y&&v){var T=y.split(`
`),D=v.split(`
`);for(h=u=0;u<T.length&&!T[u].includes("DetermineComponentFrameRoot");)u++;for(;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;if(u===T.length||h===D.length)for(u=T.length-1,h=D.length-1;1<=u&&0<=h&&T[u]!==D[h];)h--;for(;1<=u&&0<=h;u--,h--)if(T[u]!==D[h]){if(u!==1||h!==1)do if(u--,h--,0>h||T[u]!==D[h]){var U=`
`+T[u].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=u&&0<=h);break}}}finally{Nf=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ba(o):""}function Mb(i){switch(i.tag){case 26:case 27:case 5:return Ba(i.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 15:return Mf(i.type,!1);case 11:return Mf(i.type.render,!1);case 1:return Mf(i.type,!0);case 31:return Ba("Activity");default:return""}}function Ly(i){try{var a="";do a+=Mb(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zy(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xb(i){var a=zy(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ku(i){i._valueTracker||(i._valueTracker=xb(i))}function By(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return i&&(u=zy(i)?i.checked?"true":"false":i.value),i=u,i!==o?(a.setValue(i),!0):!1}function Uu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vb=/[\n"\\]/g;function jn(i){return i.replace(Vb,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xf(i,a,o,u,h,f,y,v){i.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?i.type=y:i.removeAttribute("type"),a!=null?y==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Bn(a)):i.value!==""+Bn(a)&&(i.value=""+Bn(a)):y!=="submit"&&y!=="reset"||i.removeAttribute("value"),a!=null?Vf(i,y,Bn(a)):o!=null?Vf(i,y,Bn(o)):u!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.name=""+Bn(v):i.removeAttribute("name")}function jy(i,a,o,u,h,f,y,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),a!=null||o!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;o=o!=null?""+Bn(o):"",a=a!=null?""+Bn(a):o,v||a===i.value||(i.value=a),i.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=v?i.checked:!!u,i.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.name=y)}function Vf(i,a,o){a==="number"&&Uu(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ja(i,a,o,u){if(i=i.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=a.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Bn(o),a=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}a!==null||i[h].disabled||(a=i[h])}a!==null&&(a.selected=!0)}}function qy(i,a,o){if(a!=null&&(a=""+Bn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+Bn(o):""}function Hy(i,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(r(92));if(it(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Bn(a),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function qa(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Pb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fy(i,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,o):typeof o!="number"||o===0||Pb.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function Gy(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Fy(i,h,u)}else for(var f in a)a.hasOwnProperty(f)&&Fy(i,f,a[f])}function Pf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lu(i){return Ub.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var kf=null;function Uf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ha=null,Fa=null;function Ky(i){var a=fi(i);if(a&&(i=a.stateNode)){var o=i[ht]||null;e:switch(i=a.stateNode,a.type){case"input":if(xf(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==i&&u.form===i.form){var h=u[ht]||null;if(!h)throw Error(r(90));xf(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===i.form&&By(u)}break e;case"textarea":qy(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ja(i,!!o.multiple,a,!1)}}}var Lf=!1;function $y(i,a,o){if(Lf)return i(a,o);Lf=!0;try{var u=i(a);return u}finally{if(Lf=!1,(Ha!==null||Fa!==null)&&(Sc(),Ha&&(a=Ha,i=Fa,Fa=Ha=null,Ky(a),i)))for(a=0;a<i.length;a++)Ky(i[a])}}function To(i,a){var o=i.stateNode;if(o===null)return null;var u=o[ht]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=!1;if(Di)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){zf=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{zf=!1}var ir=null,Bf=null,zu=null;function Qy(){if(zu)return zu;var i,a=Bf,o=a.length,u,h="value"in ir?ir.value:ir.textContent,f=h.length;for(i=0;i<o&&a[i]===h[i];i++);var y=o-i;for(u=1;u<=y&&a[o-u]===h[f-u];u++);return zu=h.slice(i,1<u?1-u:void 0)}function Bu(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ju(){return!0}function Yy(){return!1}function wn(i){function a(o,u,h,f,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var v in i)i.hasOwnProperty(v)&&(o=i[v],this[v]=o?o(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ju:Yy,this.isPropagationStopped=Yy,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),a}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=wn($r),So=g({},$r,{view:0,detail:0}),Lb=wn(So),jf,qf,wo,Hu=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wo&&(wo&&i.type==="mousemove"?(jf=i.screenX-wo.screenX,qf=i.screenY-wo.screenY):qf=jf=0,wo=i),jf)},movementY:function(i){return"movementY"in i?i.movementY:qf}}),Xy=wn(Hu),zb=g({},Hu,{dataTransfer:0}),Bb=wn(zb),jb=g({},So,{relatedTarget:0}),Hf=wn(jb),qb=g({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Hb=wn(qb),Fb=g({},$r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gb=wn(Fb),Kb=g({},$r,{data:0}),Wy=wn(Kb),$b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Yb[i])?!!a[i]:!1}function Ff(){return Xb}var Wb=g({},So,{key:function(i){if(i.key){var a=$b[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Bu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(i){return i.type==="keypress"?Bu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zb=wn(Wb),Jb=g({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zy=wn(Jb),e1=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),t1=wn(e1),n1=g({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),i1=wn(n1),r1=g({},Hu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=wn(r1),s1=g({},$r,{newState:0,oldState:0}),o1=wn(s1),l1=[9,13,27,32],Gf=Di&&"CompositionEvent"in window,Ro=null;Di&&"documentMode"in document&&(Ro=document.documentMode);var u1=Di&&"TextEvent"in window&&!Ro,Jy=Di&&(!Gf||Ro&&8<Ro&&11>=Ro),ev=" ",tv=!1;function nv(i,a){switch(i){case"keyup":return l1.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ga=!1;function c1(i,a){switch(i){case"compositionend":return iv(a);case"keypress":return a.which!==32?null:(tv=!0,ev);case"textInput":return i=a.data,i===ev&&tv?null:i;default:return null}}function h1(i,a){if(Ga)return i==="compositionend"||!Gf&&nv(i,a)?(i=Qy(),zu=Bf=ir=null,Ga=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jy&&a.locale!=="ko"?null:a.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!f1[i.type]:a==="textarea"}function av(i,a,o,u){Ha?Fa?Fa.push(u):Fa=[u]:Ha=u,a=Dc(a,"onChange"),0<a.length&&(o=new qu("onChange","change",null,o,u),i.push({event:o,listeners:a}))}var bo=null,Io=null;function d1(i){z0(i,0)}function Fu(i){var a=at(i);if(By(a))return i}function sv(i,a){if(i==="change")return a}var ov=!1;if(Di){var Kf;if(Di){var $f="oninput"in document;if(!$f){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),$f=typeof lv.oninput=="function"}Kf=$f}else Kf=!1;ov=Kf&&(!document.documentMode||9<document.documentMode)}function uv(){bo&&(bo.detachEvent("onpropertychange",cv),Io=bo=null)}function cv(i){if(i.propertyName==="value"&&Fu(Io)){var a=[];av(a,Io,i,Uf(i)),$y(d1,a)}}function m1(i,a,o){i==="focusin"?(uv(),bo=a,Io=o,bo.attachEvent("onpropertychange",cv)):i==="focusout"&&uv()}function p1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fu(Io)}function g1(i,a){if(i==="click")return Fu(a)}function y1(i,a){if(i==="input"||i==="change")return Fu(a)}function v1(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Cn=typeof Object.is=="function"?Object.is:v1;function Co(i,a){if(Cn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!po.call(a,h)||!Cn(i[h],a[h]))return!1}return!0}function hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fv(i,a){var o=hv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=a&&u>=a)return{node:o,offset:a-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hv(o)}}function dv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?dv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Uu(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Uu(i.document)}return a}function Qf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var _1=Di&&"documentMode"in document&&11>=document.documentMode,Ka=null,Yf=null,Do=null,Xf=!1;function pv(i,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xf||Ka==null||Ka!==Uu(u)||(u=Ka,"selectionStart"in u&&Qf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Do&&Co(Do,u)||(Do=u,u=Dc(Yf,"onSelect"),0<u.length&&(a=new qu("onSelect","select",null,a,o),i.push({event:a,listeners:u}),a.target=Ka)))}function Qr(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var $a={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Wf={},gv={};Di&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Yr(i){if(Wf[i])return Wf[i];if(!$a[i])return i;var a=$a[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in gv)return Wf[i]=a[o];return i}var yv=Yr("animationend"),vv=Yr("animationiteration"),_v=Yr("animationstart"),E1=Yr("transitionrun"),T1=Yr("transitionstart"),A1=Yr("transitioncancel"),Ev=Yr("transitionend"),Tv=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function ti(i,a){Tv.set(i,a),Kr(a,[i])}var Av=new WeakMap;function qn(i,a){if(typeof i=="object"&&i!==null){var o=Av.get(i);return o!==void 0?o:(a={value:i,source:a,stack:Ly(a)},Av.set(i,a),a)}return{value:i,source:a,stack:Ly(a)}}var Hn=[],Qa=0,Jf=0;function Gu(){for(var i=Qa,a=Jf=Qa=0;a<i;){var o=Hn[a];Hn[a++]=null;var u=Hn[a];Hn[a++]=null;var h=Hn[a];Hn[a++]=null;var f=Hn[a];if(Hn[a++]=null,u!==null&&h!==null){var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}f!==0&&Sv(o,h,f)}}function Ku(i,a,o,u){Hn[Qa++]=i,Hn[Qa++]=a,Hn[Qa++]=o,Hn[Qa++]=u,Jf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ed(i,a,o,u){return Ku(i,a,o,u),$u(i)}function Ya(i,a){return Ku(i,null,null,a),$u(i)}function Sv(i,a,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var h=!1,f=i.return;f!==null;)f.childLanes|=o,u=f.alternate,u!==null&&(u.childLanes|=o),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;return i.tag===3?(f=i.stateNode,h&&a!==null&&(h=31-mn(o),i=f.hiddenUpdates,u=i[h],u===null?i[h]=[a]:u.push(a),a.lane=o|536870912),f):null}function $u(i){if(50<el)throw el=0,sm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Xa={};function S1(i,a,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,a,o,u){return new S1(i,a,o,u)}function td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,a){var o=i.alternate;return o===null?(o=Dn(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function wv(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Qu(i,a,o,u,h,f){var y=0;if(u=i,typeof i=="function")td(i)&&(y=1);else if(typeof i=="string")y=RI(i,o,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case qe:return i=Dn(31,o,a,h),i.elementType=qe,i.lanes=f,i;case I:return Xr(o.children,h,f,a);case k:y=8,h|=24;break;case V:return i=Dn(12,o,a,h|2),i.elementType=V,i.lanes=f,i;case H:return i=Dn(13,o,a,h),i.elementType=H,i.lanes=f,i;case ne:return i=Dn(19,o,a,h),i.elementType=ne,i.lanes=f,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case $:y=10;break e;case G:y=9;break e;case b:y=11;break e;case J:y=14;break e;case ze:y=16,u=null;break e}y=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Dn(y,o,a,h),a.elementType=i,a.type=u,a.lanes=f,a}function Xr(i,a,o,u){return i=Dn(7,i,u,a),i.lanes=o,i}function nd(i,a,o){return i=Dn(6,i,null,a),i.lanes=o,i}function id(i,a,o){return a=Dn(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Wa=[],Za=0,Yu=null,Xu=0,Fn=[],Gn=0,Wr=null,Ni=1,Mi="";function Zr(i,a){Wa[Za++]=Xu,Wa[Za++]=Yu,Yu=i,Xu=a}function Rv(i,a,o){Fn[Gn++]=Ni,Fn[Gn++]=Mi,Fn[Gn++]=Wr,Wr=i;var u=Ni;i=Mi;var h=32-mn(u)-1;u&=~(1<<h),o+=1;var f=32-mn(a)+h;if(30<f){var y=h-h%5;f=(u&(1<<y)-1).toString(32),u>>=y,h-=y,Ni=1<<32-mn(a)+h|o<<h|u,Mi=f+i}else Ni=1<<f|o<<h|u,Mi=i}function rd(i){i.return!==null&&(Zr(i,1),Rv(i,1,0))}function ad(i){for(;i===Yu;)Yu=Wa[--Za],Wa[Za]=null,Xu=Wa[--Za],Wa[Za]=null;for(;i===Wr;)Wr=Fn[--Gn],Fn[Gn]=null,Mi=Fn[--Gn],Fn[Gn]=null,Ni=Fn[--Gn],Fn[Gn]=null}var yn=null,vt=null,Fe=!1,Jr=null,di=!1,sd=Error(r(519));function ea(i){var a=Error(r(418,""));throw Mo(qn(a,i)),sd}function bv(i){var a=i.stateNode,o=i.type,u=i.memoizedProps;switch(a[wt]=i,a[ht]=u,o){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(o=0;o<nl.length;o++)xe(nl[o],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":xe("invalid",a),jy(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ku(a);break;case"select":xe("invalid",a);break;case"textarea":xe("invalid",a),Hy(a,u.value,u.defaultValue,u.children),ku(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||H0(a.textContent,o)?(u.popover!=null&&(xe("beforetoggle",a),xe("toggle",a)),u.onScroll!=null&&xe("scroll",a),u.onScrollEnd!=null&&xe("scrollend",a),u.onClick!=null&&(a.onclick=Oc),a=!0):a=!1,a||ea(i)}function Iv(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:yn=yn.return}}function Oo(i){if(i!==yn)return!1;if(!Fe)return Iv(i),Fe=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Am(i.type,i.memoizedProps)),o=!o),o&&vt&&ea(i),Iv(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){vt=ii(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}vt=null}}else a===27?(a=vt,_r(i.type)?(i=bm,bm=null,vt=i):vt=a):vt=yn?ii(i.stateNode.nextSibling):null;return!0}function No(){vt=yn=null,Fe=!1}function Cv(){var i=Jr;return i!==null&&(In===null?In=i:In.push.apply(In,i),Jr=null),i}function Mo(i){Jr===null?Jr=[i]:Jr.push(i)}var od=j(null),ta=null,xi=null;function rr(i,a,o){X(od,a._currentValue),a._currentValue=o}function Vi(i){i._currentValue=od.current,ee(od)}function ld(i,a,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===o)break;i=i.return}}function ud(i,a,o,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=h;for(var T=0;T<a.length;T++)if(v.context===a[T]){f.lanes|=o,v=f.alternate,v!==null&&(v.lanes|=o),ld(f.return,o,i),u||(y=null);break e}f=v.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=o,f=y.alternate,f!==null&&(f.lanes|=o),ld(y,o,i),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===i){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function xo(i,a,o,u){i=null;for(var h=a,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var v=h.type;Cn(h.pendingProps.value,y.value)||(i!==null?i.push(v):i=[v])}}else if(h===mt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(ll):i=[ll])}h=h.return}i!==null&&ud(a,i,o,u),a.flags|=262144}function Wu(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){ta=i,xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return Dv(ta,i)}function Zu(i,a){return ta===null&&na(i),Dv(i,a)}function Dv(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},xi===null){if(i===null)throw Error(r(308));xi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else xi=xi.next=a;return o}var w1=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},R1=t.unstable_scheduleCallback,b1=t.unstable_NormalPriority,Mt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new w1,data:new Map,refCount:0}}function Vo(i){i.refCount--,i.refCount===0&&R1(b1,function(){i.controller.abort()})}var Po=null,hd=0,Ja=0,es=null;function I1(i,a){if(Po===null){var o=Po=[];hd=0,Ja=dm(),es={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hd++,a.then(Ov,Ov),a}function Ov(){if(--hd===0&&Po!==null){es!==null&&(es.status="fulfilled");var i=Po;Po=null,Ja=0,es=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function C1(i,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Nv=P.S;P.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&I1(i,a),Nv!==null&&Nv(i,a)};var ia=j(null);function fd(){var i=ia.current;return i!==null?i:nt.pooledCache}function Ju(i,a){a===null?X(ia,ia.current):X(ia,a.pool)}function Mv(){var i=fd();return i===null?null:{parent:Mt._currentValue,pool:i}}var ko=Error(r(460)),xv=Error(r(474)),ec=Error(r(542)),dd={then:function(){}};function Vv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tc(){}function Pv(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(tc,tc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Uv(i),i;default:if(typeof a.status=="string")a.then(tc,tc);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Uv(i),i}throw Uo=a,ko}}var Uo=null;function kv(){if(Uo===null)throw Error(r(459));var i=Uo;return Uo=null,i}function Uv(i){if(i===ko||i===ec)throw Error(r(483))}var ar=!1;function md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function sr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function or(i,a,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=$u(i),Sv(i,null,o),a}return Ku(i,u,a,o),$u(i)}function Lo(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,He(i,o)}}function gd(i,a){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?h=f=a:f=f.next=a}else h=f=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var yd=!1;function zo(){if(yd){var i=es;if(i!==null)throw i}}function Bo(i,a,o,u){yd=!1;var h=i.updateQueue;ar=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var T=v,D=T.next;T.next=null,y===null?f=D:y.next=D,y=T;var U=i.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==y&&(v===null?U.firstBaseUpdate=D:v.next=D,U.lastBaseUpdate=T))}if(f!==null){var z=h.baseState;y=0,U=D=T=null,v=f;do{var O=v.lane&-536870913,N=O!==v.lane;if(N?(Ue&O)===O:(u&O)===O){O!==0&&O===Ja&&(yd=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ge=i,de=v;O=a;var Je=o;switch(de.tag){case 1:if(ge=de.payload,typeof ge=="function"){z=ge.call(Je,z,O);break e}z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=de.payload,O=typeof ge=="function"?ge.call(Je,z,O):ge,O==null)break e;z=g({},z,O);break e;case 2:ar=!0}}O=v.callback,O!==null&&(i.flags|=64,N&&(i.flags|=8192),N=h.callbacks,N===null?h.callbacks=[O]:N.push(O))}else N={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(D=U=N,T=z):U=U.next=N,y|=O;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;N=v,v=N.next,N.next=null,h.lastBaseUpdate=N,h.shared.pending=null}}while(!0);U===null&&(T=z),h.baseState=T,h.firstBaseUpdate=D,h.lastBaseUpdate=U,f===null&&(h.shared.lanes=0),pr|=y,i.lanes=y,i.memoizedState=z}}function Lv(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function zv(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Lv(o[i],a)}var ts=j(null),nc=j(0);function Bv(i,a){i=ji,X(nc,i),X(ts,a),ji=i|a.baseLanes}function vd(){X(nc,ji),X(ts,ts.current)}function _d(){ji=nc.current,ee(ts),ee(nc)}var lr=0,De=null,We=null,Rt=null,ic=!1,ns=!1,ra=!1,rc=0,jo=0,is=null,D1=0;function At(){throw Error(r(321))}function Ed(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Cn(i[o],a[o]))return!1;return!0}function Td(i,a,o,u,h,f){return lr=f,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=i===null||i.memoizedState===null?S_:w_,ra=!1,f=o(u,h),ra=!1,ns&&(f=qv(a,o,u,h)),jv(i),f}function jv(i){P.H=cc;var a=We!==null&&We.next!==null;if(lr=0,Rt=We=De=null,ic=!1,jo=0,is=null,a)throw Error(r(300));i===null||Lt||(i=i.dependencies,i!==null&&Wu(i)&&(Lt=!0))}function qv(i,a,o,u){De=i;var h=0;do{if(ns&&(is=null),jo=0,ns=!1,25<=h)throw Error(r(301));if(h+=1,Rt=We=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=k1,f=a(o,u)}while(ns);return f}function O1(){var i=P.H,a=i.useState()[0];return a=typeof a.then=="function"?qo(a):a,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(De.flags|=1024),a}function Ad(){var i=rc!==0;return rc=0,i}function Sd(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function wd(i){if(ic){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ic=!1}lr=0,Rt=We=De=null,ns=!1,jo=rc=0,is=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?De.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function bt(){if(We===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var a=Rt===null?De.memoizedState:Rt.next;if(a!==null)Rt=a,We=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?De.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(i){var a=jo;return jo+=1,is===null&&(is=[]),i=Pv(is,i,a),a=De,(Rt===null?a.memoizedState:Rt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?S_:w_),i}function ac(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qo(i);if(i.$$typeof===$)return Jt(i)}throw Error(r(438,String(i)))}function bd(i){var a=null,o=De.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Rd(),De.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),u=0;u<i;u++)o[u]=ct;return a.index++,o}function Pi(i,a){return typeof a=="function"?a(i):a}function sc(i){var a=bt();return Id(a,We,i)}function Id(i,a,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=i.baseQueue,f=u.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}a.baseQueue=h=f,u.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{a=h.next;var v=y=null,T=null,D=a,U=!1;do{var z=D.lane&-536870913;if(z!==D.lane?(Ue&z)===z:(lr&z)===z){var O=D.revertLane;if(O===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),z===Ja&&(U=!0);else if((lr&O)===O){D=D.next,O===Ja&&(U=!0);continue}else z={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(v=T=z,y=f):T=T.next=z,De.lanes|=O,pr|=O;z=D.action,ra&&o(f,z),f=D.hasEagerState?D.eagerState:o(f,z)}else O={lane:z,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},T===null?(v=T=O,y=f):T=T.next=O,De.lanes|=z,pr|=z;D=D.next}while(D!==null&&D!==a);if(T===null?y=f:T.next=v,!Cn(f,i.memoizedState)&&(Lt=!0,U&&(o=es,o!==null)))throw o;i.memoizedState=f,i.baseState=y,i.baseQueue=T,u.lastRenderedState=f}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Cd(i){var a=bt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,h=o.pending,f=a.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do f=i(f,y.action),y=y.next;while(y!==h);Cn(f,a.memoizedState)||(Lt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),o.lastRenderedState=f}return[f,u]}function Hv(i,a,o){var u=De,h=bt(),f=Fe;if(f){if(o===void 0)throw Error(r(407));o=o()}else o=a();var y=!Cn((We||h).memoizedState,o);y&&(h.memoizedState=o,Lt=!0),h=h.queue;var v=Kv.bind(null,u,h,i);if(Ho(2048,8,v,[i]),h.getSnapshot!==a||y||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,rs(9,oc(),Gv.bind(null,u,h,o,a),null),nt===null)throw Error(r(349));f||(lr&124)!==0||Fv(u,a,o)}return o}function Fv(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=De.updateQueue,a===null?(a=Rd(),De.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function Gv(i,a,o,u){a.value=o,a.getSnapshot=u,$v(a)&&Qv(i)}function Kv(i,a,o){return o(function(){$v(a)&&Qv(i)})}function $v(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Cn(i,o)}catch{return!0}}function Qv(i){var a=Ya(i,2);a!==null&&Vn(a,i,2)}function Dd(i){var a=Rn();if(typeof i=="function"){var o=i;if(i=o(),ra){Ln(!0);try{o()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:i},a}function Yv(i,a,o,u){return i.baseState=o,Id(i,We,typeof u=="function"?u:Pi)}function N1(i,a,o,u,h){if(uc(i))throw Error(r(485));if(i=a.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};P.T!==null?o(!0):f.isTransition=!1,u(f),o=a.pending,o===null?(f.next=a.pending=f,Xv(a,f)):(f.next=o.next,a.pending=o.next=f)}}function Xv(i,a){var o=a.action,u=a.payload,h=i.state;if(a.isTransition){var f=P.T,y={};P.T=y;try{var v=o(h,u),T=P.S;T!==null&&T(y,v),Wv(i,a,v)}catch(D){Od(i,a,D)}finally{P.T=f}}else try{f=o(h,u),Wv(i,a,f)}catch(D){Od(i,a,D)}}function Wv(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Zv(i,a,u)},function(u){return Od(i,a,u)}):Zv(i,a,o)}function Zv(i,a,o){a.status="fulfilled",a.value=o,Jv(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,Xv(i,o)))}function Od(i,a,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,Jv(a),a=a.next;while(a!==u)}i.action=null}function Jv(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function e_(i,a){return a}function t_(i,a){if(Fe){var o=nt.formState;if(o!==null){e:{var u=De;if(Fe){if(vt){t:{for(var h=vt,f=di;h.nodeType!==8;){if(!f){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ii(h.nextSibling),u=h.data==="F!";break e}}ea(u)}u=!1}u&&(a=o[0])}}return o=Rn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:a},o.queue=u,o=E_.bind(null,De,u),u.dispatch=o,u=Dd(!1),f=Pd.bind(null,De,!1,u.queue),u=Rn(),h={state:a,dispatch:null,action:i,pending:null},u.queue=h,o=N1.bind(null,De,h,f,o),h.dispatch=o,u.memoizedState=i,[a,o,!1]}function n_(i){var a=bt();return i_(a,We,i)}function i_(i,a,o){if(a=Id(i,a,e_)[0],i=sc(Pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=qo(a)}catch(y){throw y===ko?ec:y}else u=a;a=bt();var h=a.queue,f=h.dispatch;return o!==a.memoizedState&&(De.flags|=2048,rs(9,oc(),M1.bind(null,h,o),null)),[u,f,i]}function M1(i,a){i.action=a}function r_(i){var a=bt(),o=We;if(o!==null)return i_(a,o,i);bt(),a=a.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=i,[a,u,!1]}function rs(i,a,o,u){return i={tag:i,create:o,deps:u,inst:a,next:null},a=De.updateQueue,a===null&&(a=Rd(),De.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,a.lastEffect=i),i}function oc(){return{destroy:void 0,resource:void 0}}function a_(){return bt().memoizedState}function lc(i,a,o,u){var h=Rn();u=u===void 0?null:u,De.flags|=i,h.memoizedState=rs(1|a,oc(),o,u)}function Ho(i,a,o,u){var h=bt();u=u===void 0?null:u;var f=h.memoizedState.inst;We!==null&&u!==null&&Ed(u,We.memoizedState.deps)?h.memoizedState=rs(a,f,o,u):(De.flags|=i,h.memoizedState=rs(1|a,f,o,u))}function s_(i,a){lc(8390656,8,i,a)}function o_(i,a){Ho(2048,8,i,a)}function l_(i,a){return Ho(4,2,i,a)}function u_(i,a){return Ho(4,4,i,a)}function c_(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function h_(i,a,o){o=o!=null?o.concat([i]):null,Ho(4,4,c_.bind(null,a,i),o)}function Nd(){}function f_(i,a){var o=bt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Ed(a,u[1])?u[0]:(o.memoizedState=[i,a],i)}function d_(i,a){var o=bt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Ed(a,u[1]))return u[0];if(u=i(),ra){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,a],u}function Md(i,a,o){return o===void 0||(lr&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=g0(),De.lanes|=i,pr|=i,o)}function m_(i,a,o,u){return Cn(o,a)?o:ts.current!==null?(i=Md(i,o,u),Cn(i,a)||(Lt=!0),i):(lr&42)===0?(Lt=!0,i.memoizedState=o):(i=g0(),De.lanes|=i,pr|=i,a)}function p_(i,a,o,u,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var y=P.T,v={};P.T=v,Pd(i,!1,a,o);try{var T=h(),D=P.S;if(D!==null&&D(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=C1(T,u);Fo(i,a,U,xn(i))}else Fo(i,a,u,xn(i))}catch(z){Fo(i,a,{then:function(){},status:"rejected",reason:z},xn())}finally{Y.p=f,P.T=y}}function x1(){}function xd(i,a,o,u){if(i.tag!==5)throw Error(r(476));var h=g_(i).queue;p_(i,h,a,oe,o===null?x1:function(){return y_(i),o(u)})}function g_(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:oe},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function y_(i){var a=g_(i).next.queue;Fo(i,a,{},xn())}function Vd(){return Jt(ll)}function v_(){return bt().memoizedState}function __(){return bt().memoizedState}function V1(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=xn();i=sr(o);var u=or(a,i,o);u!==null&&(Vn(u,a,o),Lo(u,a,o)),a={cache:cd()},i.payload=a;return}a=a.return}}function P1(i,a,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},uc(i)?T_(a,o):(o=ed(i,a,o,u),o!==null&&(Vn(o,i,u),A_(o,a,u)))}function E_(i,a,o){var u=xn();Fo(i,a,o,u)}function Fo(i,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(uc(i))T_(a,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var y=a.lastRenderedState,v=f(y,o);if(h.hasEagerState=!0,h.eagerState=v,Cn(v,y))return Ku(i,a,h,0),nt===null&&Gu(),!1}catch{}finally{}if(o=ed(i,a,h,u),o!==null)return Vn(o,i,u),A_(o,a,u),!0}return!1}function Pd(i,a,o,u){if(u={lane:2,revertLane:dm(),action:u,hasEagerState:!1,eagerState:null,next:null},uc(i)){if(a)throw Error(r(479))}else a=ed(i,o,u,2),a!==null&&Vn(a,i,2)}function uc(i){var a=i.alternate;return i===De||a!==null&&a===De}function T_(i,a){ns=ic=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function A_(i,a,o){if((o&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,He(i,o)}}var cc={readContext:Jt,use:ac,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},S_={readContext:Jt,use:ac,useCallback:function(i,a){return Rn().memoizedState=[i,a===void 0?null:a],i},useContext:Jt,useEffect:s_,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,lc(4194308,4,c_.bind(null,a,i),o)},useLayoutEffect:function(i,a){return lc(4194308,4,i,a)},useInsertionEffect:function(i,a){lc(4,2,i,a)},useMemo:function(i,a){var o=Rn();a=a===void 0?null:a;var u=i();if(ra){Ln(!0);try{i()}finally{Ln(!1)}}return o.memoizedState=[u,a],u},useReducer:function(i,a,o){var u=Rn();if(o!==void 0){var h=o(a);if(ra){Ln(!0);try{o(a)}finally{Ln(!1)}}}else h=a;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=P1.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var a=Rn();return i={current:i},a.memoizedState=i},useState:function(i){i=Dd(i);var a=i.queue,o=E_.bind(null,De,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Nd,useDeferredValue:function(i,a){var o=Rn();return Md(o,i,a)},useTransition:function(){var i=Dd(!1);return i=p_.bind(null,De,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var u=De,h=Rn();if(Fe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),nt===null)throw Error(r(349));(Ue&124)!==0||Fv(u,a,o)}h.memoizedState=o;var f={value:o,getSnapshot:a};return h.queue=f,s_(Kv.bind(null,u,f,i),[i]),u.flags|=2048,rs(9,oc(),Gv.bind(null,u,f,o,a),null),o},useId:function(){var i=Rn(),a=nt.identifierPrefix;if(Fe){var o=Mi,u=Ni;o=(u&~(1<<32-mn(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=rc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=D1++,a="«"+a+"r"+o.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Vd,useFormState:t_,useActionState:t_,useOptimistic:function(i){var a=Rn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Pd.bind(null,De,!0,o),o.dispatch=a,[i,a]},useMemoCache:bd,useCacheRefresh:function(){return Rn().memoizedState=V1.bind(null,De)}},w_={readContext:Jt,use:ac,useCallback:f_,useContext:Jt,useEffect:o_,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:sc,useRef:a_,useState:function(){return sc(Pi)},useDebugValue:Nd,useDeferredValue:function(i,a){var o=bt();return m_(o,We.memoizedState,i,a)},useTransition:function(){var i=sc(Pi)[0],a=bt().memoizedState;return[typeof i=="boolean"?i:qo(i),a]},useSyncExternalStore:Hv,useId:v_,useHostTransitionStatus:Vd,useFormState:n_,useActionState:n_,useOptimistic:function(i,a){var o=bt();return Yv(o,We,i,a)},useMemoCache:bd,useCacheRefresh:__},k1={readContext:Jt,use:ac,useCallback:f_,useContext:Jt,useEffect:o_,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:Cd,useRef:a_,useState:function(){return Cd(Pi)},useDebugValue:Nd,useDeferredValue:function(i,a){var o=bt();return We===null?Md(o,i,a):m_(o,We.memoizedState,i,a)},useTransition:function(){var i=Cd(Pi)[0],a=bt().memoizedState;return[typeof i=="boolean"?i:qo(i),a]},useSyncExternalStore:Hv,useId:v_,useHostTransitionStatus:Vd,useFormState:r_,useActionState:r_,useOptimistic:function(i,a){var o=bt();return We!==null?Yv(o,We,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:bd,useCacheRefresh:__},as=null,Go=0;function hc(i){var a=Go;return Go+=1,as===null&&(as=[]),Pv(as,i,a)}function Ko(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function fc(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function R_(i){var a=i._init;return a(i._payload)}function b_(i){function a(R,S){if(i){var C=R.deletions;C===null?(R.deletions=[S],R.flags|=16):C.push(S)}}function o(R,S){if(!i)return null;for(;S!==null;)a(R,S),S=S.sibling;return null}function u(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function h(R,S){return R=Oi(R,S),R.index=0,R.sibling=null,R}function f(R,S,C){return R.index=C,i?(C=R.alternate,C!==null?(C=C.index,C<S?(R.flags|=67108866,S):C):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function y(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function v(R,S,C,L){return S===null||S.tag!==6?(S=nd(C,R.mode,L),S.return=R,S):(S=h(S,C),S.return=R,S)}function T(R,S,C,L){var ae=C.type;return ae===I?U(R,S,C.props.children,L,C.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ze&&R_(ae)===S.type)?(S=h(S,C.props),Ko(S,C),S.return=R,S):(S=Qu(C.type,C.key,C.props,null,R.mode,L),Ko(S,C),S.return=R,S)}function D(R,S,C,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=id(C,R.mode,L),S.return=R,S):(S=h(S,C.children||[]),S.return=R,S)}function U(R,S,C,L,ae){return S===null||S.tag!==7?(S=Xr(C,R.mode,L,ae),S.return=R,S):(S=h(S,C),S.return=R,S)}function z(R,S,C){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=nd(""+S,R.mode,C),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case E:return C=Qu(S.type,S.key,S.props,null,R.mode,C),Ko(C,S),C.return=R,C;case w:return S=id(S,R.mode,C),S.return=R,S;case ze:var L=S._init;return S=L(S._payload),z(R,S,C)}if(it(S)||Ce(S))return S=Xr(S,R.mode,C,null),S.return=R,S;if(typeof S.then=="function")return z(R,hc(S),C);if(S.$$typeof===$)return z(R,Zu(R,S),C);fc(R,S)}return null}function O(R,S,C,L){var ae=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:v(R,S,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return C.key===ae?T(R,S,C,L):null;case w:return C.key===ae?D(R,S,C,L):null;case ze:return ae=C._init,C=ae(C._payload),O(R,S,C,L)}if(it(C)||Ce(C))return ae!==null?null:U(R,S,C,L,null);if(typeof C.then=="function")return O(R,S,hc(C),L);if(C.$$typeof===$)return O(R,S,Zu(R,C),L);fc(R,C)}return null}function N(R,S,C,L,ae){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return R=R.get(C)||null,v(S,R,""+L,ae);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return R=R.get(L.key===null?C:L.key)||null,T(S,R,L,ae);case w:return R=R.get(L.key===null?C:L.key)||null,D(S,R,L,ae);case ze:var Oe=L._init;return L=Oe(L._payload),N(R,S,C,L,ae)}if(it(L)||Ce(L))return R=R.get(C)||null,U(S,R,L,ae,null);if(typeof L.then=="function")return N(R,S,C,hc(L),ae);if(L.$$typeof===$)return N(R,S,C,Zu(S,L),ae);fc(S,L)}return null}function ge(R,S,C,L){for(var ae=null,Oe=null,ue=S,me=S=0,Bt=null;ue!==null&&me<C.length;me++){ue.index>me?(Bt=ue,ue=null):Bt=ue.sibling;var Be=O(R,ue,C[me],L);if(Be===null){ue===null&&(ue=Bt);break}i&&ue&&Be.alternate===null&&a(R,ue),S=f(Be,S,me),Oe===null?ae=Be:Oe.sibling=Be,Oe=Be,ue=Bt}if(me===C.length)return o(R,ue),Fe&&Zr(R,me),ae;if(ue===null){for(;me<C.length;me++)ue=z(R,C[me],L),ue!==null&&(S=f(ue,S,me),Oe===null?ae=ue:Oe.sibling=ue,Oe=ue);return Fe&&Zr(R,me),ae}for(ue=u(ue);me<C.length;me++)Bt=N(ue,R,me,C[me],L),Bt!==null&&(i&&Bt.alternate!==null&&ue.delete(Bt.key===null?me:Bt.key),S=f(Bt,S,me),Oe===null?ae=Bt:Oe.sibling=Bt,Oe=Bt);return i&&ue.forEach(function(wr){return a(R,wr)}),Fe&&Zr(R,me),ae}function de(R,S,C,L){if(C==null)throw Error(r(151));for(var ae=null,Oe=null,ue=S,me=S=0,Bt=null,Be=C.next();ue!==null&&!Be.done;me++,Be=C.next()){ue.index>me?(Bt=ue,ue=null):Bt=ue.sibling;var wr=O(R,ue,Be.value,L);if(wr===null){ue===null&&(ue=Bt);break}i&&ue&&wr.alternate===null&&a(R,ue),S=f(wr,S,me),Oe===null?ae=wr:Oe.sibling=wr,Oe=wr,ue=Bt}if(Be.done)return o(R,ue),Fe&&Zr(R,me),ae;if(ue===null){for(;!Be.done;me++,Be=C.next())Be=z(R,Be.value,L),Be!==null&&(S=f(Be,S,me),Oe===null?ae=Be:Oe.sibling=Be,Oe=Be);return Fe&&Zr(R,me),ae}for(ue=u(ue);!Be.done;me++,Be=C.next())Be=N(ue,R,me,Be.value,L),Be!==null&&(i&&Be.alternate!==null&&ue.delete(Be.key===null?me:Be.key),S=f(Be,S,me),Oe===null?ae=Be:Oe.sibling=Be,Oe=Be);return i&&ue.forEach(function(UI){return a(R,UI)}),Fe&&Zr(R,me),ae}function Je(R,S,C,L){if(typeof C=="object"&&C!==null&&C.type===I&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case E:e:{for(var ae=C.key;S!==null;){if(S.key===ae){if(ae=C.type,ae===I){if(S.tag===7){o(R,S.sibling),L=h(S,C.props.children),L.return=R,R=L;break e}}else if(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ze&&R_(ae)===S.type){o(R,S.sibling),L=h(S,C.props),Ko(L,C),L.return=R,R=L;break e}o(R,S);break}else a(R,S);S=S.sibling}C.type===I?(L=Xr(C.props.children,R.mode,L,C.key),L.return=R,R=L):(L=Qu(C.type,C.key,C.props,null,R.mode,L),Ko(L,C),L.return=R,R=L)}return y(R);case w:e:{for(ae=C.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){o(R,S.sibling),L=h(S,C.children||[]),L.return=R,R=L;break e}else{o(R,S);break}else a(R,S);S=S.sibling}L=id(C,R.mode,L),L.return=R,R=L}return y(R);case ze:return ae=C._init,C=ae(C._payload),Je(R,S,C,L)}if(it(C))return ge(R,S,C,L);if(Ce(C)){if(ae=Ce(C),typeof ae!="function")throw Error(r(150));return C=ae.call(C),de(R,S,C,L)}if(typeof C.then=="function")return Je(R,S,hc(C),L);if(C.$$typeof===$)return Je(R,S,Zu(R,C),L);fc(R,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,S!==null&&S.tag===6?(o(R,S.sibling),L=h(S,C),L.return=R,R=L):(o(R,S),L=nd(C,R.mode,L),L.return=R,R=L),y(R)):o(R,S)}return function(R,S,C,L){try{Go=0;var ae=Je(R,S,C,L);return as=null,ae}catch(ue){if(ue===ko||ue===ec)throw ue;var Oe=Dn(29,ue,null,R.mode);return Oe.lanes=L,Oe.return=R,Oe}finally{}}}var ss=b_(!0),I_=b_(!1),Kn=j(null),mi=null;function ur(i){var a=i.alternate;X(xt,xt.current&1),X(Kn,i),mi===null&&(a===null||ts.current!==null||a.memoizedState!==null)&&(mi=i)}function C_(i){if(i.tag===22){if(X(xt,xt.current),X(Kn,i),mi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(mi=i)}}else cr()}function cr(){X(xt,xt.current),X(Kn,Kn.current)}function ki(i){ee(Kn),mi===i&&(mi=null),ee(xt)}var xt=j(0);function dc(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Rm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function kd(i,a,o,u){a=i.memoizedState,o=o(u,a),o=o==null?a:g({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ud={enqueueSetState:function(i,a,o){i=i._reactInternals;var u=xn(),h=sr(u);h.payload=a,o!=null&&(h.callback=o),a=or(i,h,u),a!==null&&(Vn(a,i,u),Lo(a,i,u))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var u=xn(),h=sr(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=or(i,h,u),a!==null&&(Vn(a,i,u),Lo(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=xn(),u=sr(o);u.tag=2,a!=null&&(u.callback=a),a=or(i,u,o),a!==null&&(Vn(a,i,o),Lo(a,i,o))}};function D_(i,a,o,u,h,f,y){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,f,y):a.prototype&&a.prototype.isPureReactComponent?!Co(o,u)||!Co(h,f):!0}function O_(i,a,o,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==i&&Ud.enqueueReplaceState(a,a.state,null)}function aa(i,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(i=i.defaultProps){o===a&&(o=g({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var mc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function N_(i){mc(i)}function M_(i){console.error(i)}function x_(i){mc(i)}function pc(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function V_(i,a,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ld(i,a,o){return o=sr(o),o.tag=3,o.payload={element:null},o.callback=function(){pc(i,a)},o}function P_(i){return i=sr(i),i.tag=3,i}function k_(i,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;i.payload=function(){return h(f)},i.callback=function(){V_(a,o,u)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){V_(a,o,u),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var v=u.stack;this.componentDidCatch(u.value,{componentStack:v!==null?v:""})})}function U1(i,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&xo(a,o,h,!0),o=Kn.current,o!==null){switch(o.tag){case 13:return mi===null?lm():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===dd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),cm(i,u,h)),!1;case 22:return o.flags|=65536,u===dd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),cm(i,u,h)),!1}throw Error(r(435,o.tag))}return cm(i,u,h),lm(),!1}if(Fe)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==sd&&(i=Error(r(422),{cause:u}),Mo(qn(i,o)))):(u!==sd&&(a=Error(r(423),{cause:u}),Mo(qn(a,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=qn(u,o),h=Ld(i.stateNode,u,h),gd(i,h),_t!==4&&(_t=2)),!1;var f=Error(r(520),{cause:u});if(f=qn(f,o),Jo===null?Jo=[f]:Jo.push(f),_t!==4&&(_t=2),a===null)return!0;u=qn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=Ld(o.stateNode,u,i),gd(o,i),!1;case 1:if(a=o.type,f=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gr===null||!gr.has(f))))return o.flags|=65536,h&=-h,o.lanes|=h,h=P_(h),k_(h,i,o,u),gd(o,h),!1}o=o.return}while(o!==null);return!1}var U_=Error(r(461)),Lt=!1;function Gt(i,a,o,u){a.child=i===null?I_(a,null,o,u):ss(a,i.child,o,u)}function L_(i,a,o,u,h){o=o.render;var f=a.ref;if("ref"in u){var y={};for(var v in u)v!=="ref"&&(y[v]=u[v])}else y=u;return na(a),u=Td(i,a,o,y,f,h),v=Ad(),i!==null&&!Lt?(Sd(i,a,h),Ui(i,a,h)):(Fe&&v&&rd(a),a.flags|=1,Gt(i,a,u,h),a.child)}function z_(i,a,o,u,h){if(i===null){var f=o.type;return typeof f=="function"&&!td(f)&&f.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=f,B_(i,a,f,u,h)):(i=Qu(o.type,null,u,a,a.mode,h),i.ref=a.ref,i.return=a,a.child=i)}if(f=i.child,!Kd(i,h)){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(y,u)&&i.ref===a.ref)return Ui(i,a,h)}return a.flags|=1,i=Oi(f,u),i.ref=a.ref,i.return=a,a.child=i}function B_(i,a,o,u,h){if(i!==null){var f=i.memoizedProps;if(Co(f,u)&&i.ref===a.ref)if(Lt=!1,a.pendingProps=u=f,Kd(i,h))(i.flags&131072)!==0&&(Lt=!0);else return a.lanes=i.lanes,Ui(i,a,h)}return zd(i,a,o,u,h)}function j_(i,a,o){var u=a.pendingProps,h=u.children,f=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=f!==null?f.baseLanes|o:o,i!==null){for(h=a.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;a.childLanes=f&~u}else a.childLanes=0,a.child=null;return q_(i,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ju(a,f!==null?f.cachePool:null),f!==null?Bv(a,f):vd(),C_(a);else return a.lanes=a.childLanes=536870912,q_(i,a,f!==null?f.baseLanes|o:o,o)}else f!==null?(Ju(a,f.cachePool),Bv(a,f),cr(),a.memoizedState=null):(i!==null&&Ju(a,null),vd(),cr());return Gt(i,a,h,o),a.child}function q_(i,a,o,u){var h=fd();return h=h===null?null:{parent:Mt._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},i!==null&&Ju(a,null),vd(),C_(a),i!==null&&xo(i,a,u,!0),null}function gc(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function zd(i,a,o,u,h){return na(a),o=Td(i,a,o,u,void 0,h),u=Ad(),i!==null&&!Lt?(Sd(i,a,h),Ui(i,a,h)):(Fe&&u&&rd(a),a.flags|=1,Gt(i,a,o,h),a.child)}function H_(i,a,o,u,h,f){return na(a),a.updateQueue=null,o=qv(a,u,o,h),jv(i),u=Ad(),i!==null&&!Lt?(Sd(i,a,f),Ui(i,a,f)):(Fe&&u&&rd(a),a.flags|=1,Gt(i,a,o,f),a.child)}function F_(i,a,o,u,h){if(na(a),a.stateNode===null){var f=Xa,y=o.contextType;typeof y=="object"&&y!==null&&(f=Jt(y)),f=new o(u,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ud,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=u,f.state=a.memoizedState,f.refs={},md(a),y=o.contextType,f.context=typeof y=="object"&&y!==null?Jt(y):Xa,f.state=a.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(kd(a,o,y,u),f.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ud.enqueueReplaceState(f,f.state,null),Bo(a,u,f,h),zo(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){f=a.stateNode;var v=a.memoizedProps,T=aa(o,v);f.props=T;var D=f.context,U=o.contextType;y=Xa,typeof U=="object"&&U!==null&&(y=Jt(U));var z=o.getDerivedStateFromProps;U=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=a.pendingProps!==v,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||D!==y)&&O_(a,f,u,y),ar=!1;var O=a.memoizedState;f.state=O,Bo(a,u,f,h),zo(),D=a.memoizedState,v||O!==D||ar?(typeof z=="function"&&(kd(a,o,z,u),D=a.memoizedState),(T=ar||D_(a,o,T,u,O,D,y))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=D),f.props=u,f.state=D,f.context=y,u=T):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{f=a.stateNode,pd(i,a),y=a.memoizedProps,U=aa(o,y),f.props=U,z=a.pendingProps,O=f.context,D=o.contextType,T=Xa,typeof D=="object"&&D!==null&&(T=Jt(D)),v=o.getDerivedStateFromProps,(D=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==z||O!==T)&&O_(a,f,u,T),ar=!1,O=a.memoizedState,f.state=O,Bo(a,u,f,h),zo();var N=a.memoizedState;y!==z||O!==N||ar||i!==null&&i.dependencies!==null&&Wu(i.dependencies)?(typeof v=="function"&&(kd(a,o,v,u),N=a.memoizedState),(U=ar||D_(a,o,U,u,O,N,T)||i!==null&&i.dependencies!==null&&Wu(i.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,N,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,N,T)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===i.memoizedProps&&O===i.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&O===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=N),f.props=u,f.state=N,f.context=T,u=U):(typeof f.componentDidUpdate!="function"||y===i.memoizedProps&&O===i.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&O===i.memoizedState||(a.flags|=1024),u=!1)}return f=u,gc(i,a),u=(a.flags&128)!==0,f||u?(f=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,i!==null&&u?(a.child=ss(a,i.child,null,h),a.child=ss(a,null,o,h)):Gt(i,a,o,h),a.memoizedState=f.state,i=a.child):i=Ui(i,a,h),i}function G_(i,a,o,u){return No(),a.flags|=256,Gt(i,a,o,u),a.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(i){return{baseLanes:i,cachePool:Mv()}}function qd(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=$n),i}function K_(i,a,o){var u=a.pendingProps,h=!1,f=(a.flags&128)!==0,y;if((y=f)||(y=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),y&&(h=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,i===null){if(Fe){if(h?ur(a):cr(),Fe){var v=vt,T;if(T=v){e:{for(T=v,v=di;T.nodeType!==8;){if(!v){v=null;break e}if(T=ii(T.nextSibling),T===null){v=null;break e}}v=T}v!==null?(a.memoizedState={dehydrated:v,treeContext:Wr!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},T=Dn(18,null,null,0),T.stateNode=v,T.return=a,a.child=T,yn=a,vt=null,T=!0):T=!1}T||ea(a)}if(v=a.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Rm(v)?a.lanes=32:a.lanes=536870912,null;ki(a)}return v=u.children,u=u.fallback,h?(cr(),h=a.mode,v=yc({mode:"hidden",children:v},h),u=Xr(u,h,o,null),v.return=a,u.return=a,v.sibling=u,a.child=v,h=a.child,h.memoizedState=jd(o),h.childLanes=qd(i,y,o),a.memoizedState=Bd,u):(ur(a),Hd(a,v))}if(T=i.memoizedState,T!==null&&(v=T.dehydrated,v!==null)){if(f)a.flags&256?(ur(a),a.flags&=-257,a=Fd(i,a,o)):a.memoizedState!==null?(cr(),a.child=i.child,a.flags|=128,a=null):(cr(),h=u.fallback,v=a.mode,u=yc({mode:"visible",children:u.children},v),h=Xr(h,v,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,ss(a,i.child,null,o),u=a.child,u.memoizedState=jd(o),u.childLanes=qd(i,y,o),a.memoizedState=Bd,a=h);else if(ur(a),Rm(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var D=y.dgst;y=D,u=Error(r(419)),u.stack="",u.digest=y,Mo({value:u,source:null,stack:null}),a=Fd(i,a,o)}else if(Lt||xo(i,a,o,!1),y=(o&i.childLanes)!==0,Lt||y){if(y=nt,y!==null&&(u=o&-o,u=(u&42)!==0?1:rt(u),u=(u&(y.suspendedLanes|o))!==0?0:u,u!==0&&u!==T.retryLane))throw T.retryLane=u,Ya(i,u),Vn(y,i,u),U_;v.data==="$?"||lm(),a=Fd(i,a,o)}else v.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=T.treeContext,vt=ii(v.nextSibling),yn=a,Fe=!0,Jr=null,di=!1,i!==null&&(Fn[Gn++]=Ni,Fn[Gn++]=Mi,Fn[Gn++]=Wr,Ni=i.id,Mi=i.overflow,Wr=a),a=Hd(a,u.children),a.flags|=4096);return a}return h?(cr(),h=u.fallback,v=a.mode,T=i.child,D=T.sibling,u=Oi(T,{mode:"hidden",children:u.children}),u.subtreeFlags=T.subtreeFlags&65011712,D!==null?h=Oi(D,h):(h=Xr(h,v,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,v=i.child.memoizedState,v===null?v=jd(o):(T=v.cachePool,T!==null?(D=Mt._currentValue,T=T.parent!==D?{parent:D,pool:D}:T):T=Mv(),v={baseLanes:v.baseLanes|o,cachePool:T}),h.memoizedState=v,h.childLanes=qd(i,y,o),a.memoizedState=Bd,u):(ur(a),o=i.child,i=o.sibling,o=Oi(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,i!==null&&(y=a.deletions,y===null?(a.deletions=[i],a.flags|=16):y.push(i)),a.child=o,a.memoizedState=null,o)}function Hd(i,a){return a=yc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function yc(i,a){return i=Dn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Fd(i,a,o){return ss(a,i.child,null,o),i=Hd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $_(i,a,o){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),ld(i.return,a,o)}function Gd(i,a,o,u,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=h)}function Q_(i,a,o){var u=a.pendingProps,h=u.revealOrder,f=u.tail;if(Gt(i,a,u.children,o),u=xt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$_(i,o,a);else if(i.tag===19)$_(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(X(xt,u),h){case"forwards":for(o=a.child,h=null;o!==null;)i=o.alternate,i!==null&&dc(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Gd(a,!1,h,o,f);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(i=h.alternate,i!==null&&dc(i)===null){a.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}Gd(a,!0,o,null,f);break;case"together":Gd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ui(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),pr|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(xo(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=Oi(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Oi(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Kd(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Wu(i)))}function L1(i,a,o){switch(a.tag){case 3:Ne(a,a.stateNode.containerInfo),rr(a,Mt,i.memoizedState.cache),No();break;case 27:case 5:Tn(a);break;case 4:Ne(a,a.stateNode.containerInfo);break;case 10:rr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ur(a),a.flags|=128,null):(o&a.child.childLanes)!==0?K_(i,a,o):(ur(a),i=Ui(i,a,o),i!==null?i.sibling:null);ur(a);break;case 19:var h=(i.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(xo(i,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return Q_(i,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(xt,xt.current),u)break;return null;case 22:case 23:return a.lanes=0,j_(i,a,o);case 24:rr(a,Mt,i.memoizedState.cache)}return Ui(i,a,o)}function Y_(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)Lt=!0;else{if(!Kd(i,o)&&(a.flags&128)===0)return Lt=!1,L1(i,a,o);Lt=(i.flags&131072)!==0}else Lt=!1,Fe&&(a.flags&1048576)!==0&&Rv(a,Xu,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")td(u)?(i=aa(u,i),a.tag=1,a=F_(null,a,u,i,o)):(a.tag=0,a=zd(null,a,u,i,o));else{if(u!=null){if(h=u.$$typeof,h===b){a.tag=11,a=L_(null,a,u,i,o);break e}else if(h===J){a.tag=14,a=z_(null,a,u,i,o);break e}}throw a=fn(u)||u,Error(r(306,a,""))}}return a;case 0:return zd(i,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=aa(u,a.pendingProps),F_(i,a,u,h,o);case 3:e:{if(Ne(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var f=a.memoizedState;h=f.element,pd(i,a),Bo(a,u,null,o);var y=a.memoizedState;if(u=y.cache,rr(a,Mt,u),u!==f.cache&&ud(a,[Mt],o,!0),zo(),u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=G_(i,a,u,o);break e}else if(u!==h){h=qn(Error(r(424)),a),Mo(h),a=G_(i,a,u,o);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vt=ii(i.firstChild),yn=a,Fe=!0,Jr=null,di=!0,o=I_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(No(),u===h){a=Ui(i,a,o);break e}Gt(i,a,u,o)}a=a.child}return a;case 26:return gc(i,a),i===null?(o=J0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Fe||(o=a.type,i=a.pendingProps,u=Nc(fe.current).createElement(o),u[wt]=a,u[ht]=i,$t(u,o,i),Tt(u),a.stateNode=u):a.memoizedState=J0(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Tn(a),i===null&&Fe&&(u=a.stateNode=X0(a.type,a.pendingProps,fe.current),yn=a,di=!0,h=vt,_r(a.type)?(bm=h,vt=ii(u.firstChild)):vt=h),Gt(i,a,a.pendingProps.children,o),gc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Fe&&((h=u=vt)&&(u=fI(u,a.type,a.pendingProps,di),u!==null?(a.stateNode=u,yn=a,vt=ii(u.firstChild),di=!1,h=!0):h=!1),h||ea(a)),Tn(a),h=a.type,f=a.pendingProps,y=i!==null?i.memoizedProps:null,u=f.children,Am(h,f)?u=null:y!==null&&Am(h,y)&&(a.flags|=32),a.memoizedState!==null&&(h=Td(i,a,O1,null,null,o),ll._currentValue=h),gc(i,a),Gt(i,a,u,o),a.child;case 6:return i===null&&Fe&&((i=o=vt)&&(o=dI(o,a.pendingProps,di),o!==null?(a.stateNode=o,yn=a,vt=null,i=!0):i=!1),i||ea(a)),null;case 13:return K_(i,a,o);case 4:return Ne(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=ss(a,null,u,o):Gt(i,a,u,o),a.child;case 11:return L_(i,a,a.type,a.pendingProps,o);case 7:return Gt(i,a,a.pendingProps,o),a.child;case 8:return Gt(i,a,a.pendingProps.children,o),a.child;case 12:return Gt(i,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,rr(a,a.type,u.value),Gt(i,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,na(a),h=Jt(h),u=u(h),a.flags|=1,Gt(i,a,u,o),a.child;case 14:return z_(i,a,a.type,a.pendingProps,o);case 15:return B_(i,a,a.type,a.pendingProps,o);case 19:return Q_(i,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},i===null?(o=yc(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Oi(i.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return j_(i,a,o);case 24:return na(a),u=Jt(Mt),i===null?(h=fd(),h===null&&(h=nt,f=cd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=o),h=f),a.memoizedState={parent:u,cache:h},md(a),rr(a,Mt,h)):((i.lanes&o)!==0&&(pd(i,a),Bo(a,null,null,o),zo()),h=i.memoizedState,f=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),rr(a,Mt,u)):(u=f.cache,rr(a,Mt,u),u!==h.cache&&ud(a,[Mt],o,!0))),Gt(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Li(i){i.flags|=4}function X_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rE(a)){if(a=Kn.current,a!==null&&((Ue&4194048)===Ue?mi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||a!==mi))throw Uo=dd,xv;i.flags|=8192}}function vc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ye():536870912,i.lanes|=a,cs|=a)}function $o(i,a){if(!Fe)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function pt(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(a)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=o,a}function z1(i,a,o){var u=a.pendingProps;switch(ad(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(a),null;case 1:return pt(a),null;case 3:return o=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Vi(Mt),dn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Oo(a)?Li(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cv())),pt(a),null;case 26:return o=a.memoizedState,i===null?(Li(a),o!==null?(pt(a),X_(a,o)):(pt(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Li(a),pt(a),X_(a,o)):(pt(a),a.flags&=-16777217):(i.memoizedProps!==u&&Li(a),pt(a),a.flags&=-16777217),null;case 27:Hr(a),o=fe.current;var h=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Li(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return pt(a),null}i=W.current,Oo(a)?bv(a):(i=X0(h,u,o),a.stateNode=i,Li(a))}return pt(a),null;case 5:if(Hr(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Li(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return pt(a),null}if(i=W.current,Oo(a))bv(a);else{switch(h=Nc(fe.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}i[wt]=a,i[ht]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=i;e:switch($t(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Li(a)}}return pt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Li(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=fe.current,Oo(a)){if(i=a.stateNode,o=a.memoizedProps,u=null,h=yn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[wt]=a,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||H0(i.nodeValue,o)),i||ea(a)}else i=Nc(i).createTextNode(u),i[wt]=a,a.stateNode=i}return pt(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Oo(a),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=a}else No(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pt(a),h=!1}else h=Cv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(ki(a),a):(ki(a),null)}if(ki(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var f=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),vc(a,a.updateQueue),pt(a),null;case 4:return dn(),i===null&&ym(a.stateNode.containerInfo),pt(a),null;case 10:return Vi(a.type),pt(a),null;case 19:if(ee(xt),h=a.memoizedState,h===null)return pt(a),null;if(u=(a.flags&128)!==0,f=h.rendering,f===null)if(u)$o(h,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(f=dc(i),f!==null){for(a.flags|=128,$o(h,!1),i=f.updateQueue,a.updateQueue=i,vc(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)wv(o,i),o=o.sibling;return X(xt,xt.current&1|2),a.child}i=i.sibling}h.tail!==null&&An()>Tc&&(a.flags|=128,u=!0,$o(h,!1),a.lanes=4194304)}else{if(!u)if(i=dc(f),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,vc(a,i),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Fe)return pt(a),null}else 2*An()-h.renderingStartTime>Tc&&o!==536870912&&(a.flags|=128,u=!0,$o(h,!1),a.lanes=4194304);h.isBackwards?(f.sibling=a.child,a.child=f):(i=h.last,i!==null?i.sibling=f:a.child=f,h.last=f)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=An(),a.sibling=null,i=xt.current,X(xt,u?i&1|2:i&1),a):(pt(a),null);case 22:case 23:return ki(a),_d(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(pt(a),a.subtreeFlags&6&&(a.flags|=8192)):pt(a),o=a.updateQueue,o!==null&&vc(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),i!==null&&ee(ia),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Vi(Mt),pt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function B1(i,a){switch(ad(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Vi(Mt),dn(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Hr(a),null;case 13:if(ki(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));No()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ee(xt),null;case 4:return dn(),null;case 10:return Vi(a.type),null;case 22:case 23:return ki(a),_d(),i!==null&&ee(ia),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Vi(Mt),null;case 25:return null;default:return null}}function W_(i,a){switch(ad(a),a.tag){case 3:Vi(Mt),dn();break;case 26:case 27:case 5:Hr(a);break;case 4:dn();break;case 13:ki(a);break;case 19:ee(xt);break;case 10:Vi(a.type);break;case 22:case 23:ki(a),_d(),i!==null&&ee(ia);break;case 24:Vi(Mt)}}function Qo(i,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&i)===i){u=void 0;var f=o.create,y=o.inst;u=f(),y.destroy=u}o=o.next}while(o!==h)}}catch(v){tt(a,a.return,v)}}function hr(i,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&i)===i){var y=u.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,h=a;var T=o,D=v;try{D()}catch(U){tt(h,T,U)}}}u=u.next}while(u!==f)}}catch(U){tt(a,a.return,U)}}function Z_(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{zv(a,o)}catch(u){tt(i,i.return,u)}}}function J_(i,a,o){o.props=aa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){tt(i,a,u)}}function Yo(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(h){tt(i,a,h)}}function pi(i,a){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){tt(i,a,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){tt(i,a,h)}else o.current=null}function e0(i){var a=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){tt(i,i.return,h)}}function $d(i,a,o){try{var u=i.stateNode;oI(u,i.type,o,a),u[ht]=a}catch(h){tt(i,i.return,h)}}function t0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_r(i.type)||i.tag===4}function Qd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||t0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_r(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Yd(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Oc));else if(u!==4&&(u===27&&_r(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Yd(i,a,o),i=i.sibling;i!==null;)Yd(i,a,o),i=i.sibling}function _c(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(u!==4&&(u===27&&_r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(_c(i,a,o),i=i.sibling;i!==null;)_c(i,a,o),i=i.sibling}function n0(i){var a=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);$t(a,u,o),a[wt]=i,a[ht]=o}catch(f){tt(i,i.return,f)}}var zi=!1,St=!1,Xd=!1,i0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function j1(i,a){if(i=i.containerInfo,Em=Uc,i=mv(i),Qf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,v=-1,T=-1,D=0,U=0,z=i,O=null;t:for(;;){for(var N;z!==o||h!==0&&z.nodeType!==3||(v=y+h),z!==f||u!==0&&z.nodeType!==3||(T=y+u),z.nodeType===3&&(y+=z.nodeValue.length),(N=z.firstChild)!==null;)O=z,z=N;for(;;){if(z===i)break t;if(O===o&&++D===h&&(v=y),O===f&&++U===u&&(T=y),(N=z.nextSibling)!==null)break;z=O,O=z.parentNode}z=N}o=v===-1||T===-1?null:{start:v,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:i,selectionRange:o},Uc=!1,zt=a;zt!==null;)if(a=zt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,zt=i;else for(;zt!==null;){switch(a=zt,f=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,o=a,h=f.memoizedProps,f=f.memoizedState,u=o.stateNode;try{var ge=aa(o.type,h,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ge,f),u.__reactInternalSnapshotBeforeUpdate=i}catch(de){tt(o,o.return,de)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)wm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,zt=i;break}zt=a.return}}function r0(i,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:fr(i,o),u&4&&Qo(5,o);break;case 1:if(fr(i,o),u&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(y){tt(o,o.return,y)}else{var h=aa(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(h,a,i.__reactInternalSnapshotBeforeUpdate)}catch(y){tt(o,o.return,y)}}u&64&&Z_(o),u&512&&Yo(o,o.return);break;case 3:if(fr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{zv(i,a)}catch(y){tt(o,o.return,y)}}break;case 27:a===null&&u&4&&n0(o);case 26:case 5:fr(i,o),a===null&&u&4&&e0(o),u&512&&Yo(o,o.return);break;case 12:fr(i,o);break;case 13:fr(i,o),u&4&&o0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=X1.bind(null,o),mI(i,o))));break;case 22:if(u=o.memoizedState!==null||zi,!u){a=a!==null&&a.memoizedState!==null||St,h=zi;var f=St;zi=u,(St=a)&&!f?dr(i,o,(o.subtreeFlags&8772)!==0):fr(i,o),zi=h,St=f}break;case 30:break;default:fr(i,o)}}function a0(i){var a=i.alternate;a!==null&&(i.alternate=null,a0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&pn(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function Bi(i,a,o){for(o=o.child;o!==null;)s0(i,a,o),o=o.sibling}function s0(i,a,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 26:St||pi(o,a),Bi(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||pi(o,a);var u=ft,h=bn;_r(o.type)&&(ft=o.stateNode,bn=!1),Bi(i,a,o),rl(o.stateNode),ft=u,bn=h;break;case 5:St||pi(o,a);case 6:if(u=ft,h=bn,ft=null,Bi(i,a,o),ft=u,bn=h,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(f){tt(o,a,f)}else try{ft.removeChild(o.stateNode)}catch(f){tt(o,a,f)}break;case 18:ft!==null&&(bn?(i=ft,Q0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),fl(i)):Q0(ft,o.stateNode));break;case 4:u=ft,h=bn,ft=o.stateNode.containerInfo,bn=!0,Bi(i,a,o),ft=u,bn=h;break;case 0:case 11:case 14:case 15:St||hr(2,o,a),St||hr(4,o,a),Bi(i,a,o);break;case 1:St||(pi(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&J_(o,a,u)),Bi(i,a,o);break;case 21:Bi(i,a,o);break;case 22:St=(u=St)||o.memoizedState!==null,Bi(i,a,o),St=u;break;default:Bi(i,a,o)}}function o0(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fl(i)}catch(o){tt(a,a.return,o)}}function q1(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new i0),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new i0),a;default:throw Error(r(435,i.tag))}}function Wd(i,a){var o=q1(i);a.forEach(function(u){var h=W1.bind(null,i,u);o.has(u)||(o.add(u),u.then(h,h))})}function On(i,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],f=i,y=a,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(_r(v.type)){ft=v.stateNode,bn=!1;break e}break;case 5:ft=v.stateNode,bn=!1;break e;case 3:case 4:ft=v.stateNode.containerInfo,bn=!0;break e}v=v.return}if(ft===null)throw Error(r(160));s0(f,y,h),ft=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)l0(a,i),a=a.sibling}var ni=null;function l0(i,a){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:On(a,i),Nn(i),u&4&&(hr(3,i,i.return),Qo(3,i),hr(5,i,i.return));break;case 1:On(a,i),Nn(i),u&512&&(St||o===null||pi(o,o.return)),u&64&&zi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=ni;if(On(a,i),Nn(i),u&512&&(St||o===null||pi(o,o.return)),u&4){var f=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ke]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(u),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,u,o),f[wt]=i,Tt(f),u=f;break e;case"link":var y=nE("link","href",h).get(u+(o.href||""));if(y){for(var v=0;v<y.length;v++)if(f=y[v],f.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&f.getAttribute("rel")===(o.rel==null?null:o.rel)&&f.getAttribute("title")===(o.title==null?null:o.title)&&f.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(v,1);break t}}f=h.createElement(u),$t(f,u,o),h.head.appendChild(f);break;case"meta":if(y=nE("meta","content",h).get(u+(o.content||""))){for(v=0;v<y.length;v++)if(f=y[v],f.getAttribute("content")===(o.content==null?null:""+o.content)&&f.getAttribute("name")===(o.name==null?null:o.name)&&f.getAttribute("property")===(o.property==null?null:o.property)&&f.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&f.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(v,1);break t}}f=h.createElement(u),$t(f,u,o),h.head.appendChild(f);break;default:throw Error(r(468,u))}f[wt]=i,Tt(f),u=f}i.stateNode=u}else iE(h,i.type,i.stateNode);else i.stateNode=tE(h,u,i.memoizedProps);else f!==u?(f===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):f.count--,u===null?iE(h,i.type,i.stateNode):tE(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&$d(i,i.memoizedProps,o.memoizedProps)}break;case 27:On(a,i),Nn(i),u&512&&(St||o===null||pi(o,o.return)),o!==null&&u&4&&$d(i,i.memoizedProps,o.memoizedProps);break;case 5:if(On(a,i),Nn(i),u&512&&(St||o===null||pi(o,o.return)),i.flags&32){h=i.stateNode;try{qa(h,"")}catch(N){tt(i,i.return,N)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,$d(i,h,o!==null?o.memoizedProps:h)),u&1024&&(Xd=!0);break;case 6:if(On(a,i),Nn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(N){tt(i,i.return,N)}}break;case 3:if(Vc=null,h=ni,ni=Mc(a.containerInfo),On(a,i),ni=h,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fl(a.containerInfo)}catch(N){tt(i,i.return,N)}Xd&&(Xd=!1,u0(i));break;case 4:u=ni,ni=Mc(i.stateNode.containerInfo),On(a,i),Nn(i),ni=u;break;case 12:On(a,i),Nn(i);break;case 13:On(a,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(im=An()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wd(i,u)));break;case 22:h=i.memoizedState!==null;var T=o!==null&&o.memoizedState!==null,D=zi,U=St;if(zi=D||h,St=U||T,On(a,i),St=U,zi=D,Nn(i),u&8192)e:for(a=i.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||T||zi||St||sa(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){T=o=a;try{if(f=T.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=T.stateNode;var z=T.memoizedProps.style,O=z!=null&&z.hasOwnProperty("display")?z.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(N){tt(T,T.return,N)}}}else if(a.tag===6){if(o===null){T=a;try{T.stateNode.nodeValue=h?"":T.memoizedProps}catch(N){tt(T,T.return,N)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Wd(i,o))));break;case 19:On(a,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wd(i,u)));break;case 30:break;case 21:break;default:On(a,i),Nn(i)}}function Nn(i){var a=i.flags;if(a&2){try{for(var o,u=i.return;u!==null;){if(t0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,f=Qd(i);_c(i,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(qa(y,""),o.flags&=-33);var v=Qd(i);_c(i,v,y);break;case 3:case 4:var T=o.stateNode.containerInfo,D=Qd(i);Yd(i,D,T);break;default:throw Error(r(161))}}catch(U){tt(i,i.return,U)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function u0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;u0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function fr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)r0(i,a.alternate,a),a=a.sibling}function sa(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:hr(4,a,a.return),sa(a);break;case 1:pi(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&J_(a,a.return,o),sa(a);break;case 27:rl(a.stateNode);case 26:case 5:pi(a,a.return),sa(a);break;case 22:a.memoizedState===null&&sa(a);break;case 30:sa(a);break;default:sa(a)}i=i.sibling}}function dr(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=i,f=a,y=f.flags;switch(f.tag){case 0:case 11:case 15:dr(h,f,o),Qo(4,f);break;case 1:if(dr(h,f,o),u=f,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(D){tt(u,u.return,D)}if(u=f,h=u.updateQueue,h!==null){var v=u.stateNode;try{var T=h.shared.hiddenCallbacks;if(T!==null)for(h.shared.hiddenCallbacks=null,h=0;h<T.length;h++)Lv(T[h],v)}catch(D){tt(u,u.return,D)}}o&&y&64&&Z_(f),Yo(f,f.return);break;case 27:n0(f);case 26:case 5:dr(h,f,o),o&&u===null&&y&4&&e0(f),Yo(f,f.return);break;case 12:dr(h,f,o);break;case 13:dr(h,f,o),o&&y&4&&o0(h,f);break;case 22:f.memoizedState===null&&dr(h,f,o),Yo(f,f.return);break;case 30:break;default:dr(h,f,o)}a=a.sibling}}function Zd(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vo(o))}function Jd(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Vo(i))}function gi(i,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)c0(i,a,o,u),a=a.sibling}function c0(i,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:gi(i,a,o,u),h&2048&&Qo(9,a);break;case 1:gi(i,a,o,u);break;case 3:gi(i,a,o,u),h&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Vo(i)));break;case 12:if(h&2048){gi(i,a,o,u),i=a.stateNode;try{var f=a.memoizedProps,y=f.id,v=f.onPostCommit;typeof v=="function"&&v(y,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){tt(a,a.return,T)}}else gi(i,a,o,u);break;case 13:gi(i,a,o,u);break;case 23:break;case 22:f=a.stateNode,y=a.alternate,a.memoizedState!==null?f._visibility&2?gi(i,a,o,u):Xo(i,a):f._visibility&2?gi(i,a,o,u):(f._visibility|=2,os(i,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&Zd(y,a);break;case 24:gi(i,a,o,u),h&2048&&Jd(a.alternate,a);break;default:gi(i,a,o,u)}}function os(i,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=i,y=a,v=o,T=u,D=y.flags;switch(y.tag){case 0:case 11:case 15:os(f,y,v,T,h),Qo(8,y);break;case 23:break;case 22:var U=y.stateNode;y.memoizedState!==null?U._visibility&2?os(f,y,v,T,h):Xo(f,y):(U._visibility|=2,os(f,y,v,T,h)),h&&D&2048&&Zd(y.alternate,y);break;case 24:os(f,y,v,T,h),h&&D&2048&&Jd(y.alternate,y);break;default:os(f,y,v,T,h)}a=a.sibling}}function Xo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,u=a,h=u.flags;switch(u.tag){case 22:Xo(o,u),h&2048&&Zd(u.alternate,u);break;case 24:Xo(o,u),h&2048&&Jd(u.alternate,u);break;default:Xo(o,u)}a=a.sibling}}var Wo=8192;function ls(i){if(i.subtreeFlags&Wo)for(i=i.child;i!==null;)h0(i),i=i.sibling}function h0(i){switch(i.tag){case 26:ls(i),i.flags&Wo&&i.memoizedState!==null&&II(ni,i.memoizedState,i.memoizedProps);break;case 5:ls(i);break;case 3:case 4:var a=ni;ni=Mc(i.stateNode.containerInfo),ls(i),ni=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Wo,Wo=16777216,ls(i),Wo=a):ls(i));break;default:ls(i)}}function f0(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Zo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];zt=u,m0(u,i)}f0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d0(i),i=i.sibling}function d0(i){switch(i.tag){case 0:case 11:case 15:Zo(i),i.flags&2048&&hr(9,i,i.return);break;case 3:Zo(i);break;case 12:Zo(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Ec(i)):Zo(i);break;default:Zo(i)}}function Ec(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];zt=u,m0(u,i)}f0(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:hr(8,a,a.return),Ec(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Ec(a));break;default:Ec(a)}i=i.sibling}}function m0(i,a){for(;zt!==null;){var o=zt;switch(o.tag){case 0:case 11:case 15:hr(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,zt=u;else e:for(o=i;zt!==null;){u=zt;var h=u.sibling,f=u.return;if(a0(u),u===o){zt=null;break e}if(h!==null){h.return=f,zt=h;break e}zt=f}}}var H1={getCacheForType:function(i){var a=Jt(Mt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},F1=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Me=null,Ue=0,Qe=0,Mn=null,mr=!1,us=!1,em=!1,ji=0,_t=0,pr=0,oa=0,tm=0,$n=0,cs=0,Jo=null,In=null,nm=!1,im=0,Tc=1/0,Ac=null,gr=null,Kt=0,yr=null,hs=null,fs=0,rm=0,am=null,p0=null,el=0,sm=null;function xn(){if(($e&2)!==0&&Ue!==0)return Ue&-Ue;if(P.T!==null){var i=Ja;return i!==0?i:dm()}return hi()}function g0(){$n===0&&($n=(Ue&536870912)===0||Fe?pe():536870912);var i=Kn.current;return i!==null&&(i.flags|=32),$n}function Vn(i,a,o){(i===nt&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(ds(i,0),vr(i,Ue,$n,!1)),se(i,o),(($e&2)===0||i!==nt)&&(i===nt&&(($e&2)===0&&(oa|=o),_t===4&&vr(i,Ue,$n,!1)),yi(i))}function y0(i,a,o){if(($e&6)!==0)throw Error(r(327));var u=!o&&(a&124)===0&&(a&i.expiredLanes)===0||ie(i,a),h=u?$1(i,a):um(i,a,!0),f=u;do{if(h===0){us&&!u&&vr(i,a,0,!1);break}else{if(o=i.current.alternate,f&&!G1(o)){h=um(i,a,!1),f=!1;continue}if(h===2){if(f=a,i.errorRecoveryDisabledLanes&f)var y=0;else y=i.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var v=i;h=Jo;var T=v.current.memoizedState.isDehydrated;if(T&&(ds(v,y).flags|=256),y=um(v,y,!1),y!==2){if(em&&!T){v.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ds(i,0),vr(i,a,0,!0);break}e:{switch(u=i,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:vr(u,a,$n,!mr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=im+300-An(),10<h)){if(vr(u,a,$n,!mr),q(u,0,!0)!==0)break e;u.timeoutHandle=K0(v0.bind(null,u,o,In,Ac,nm,a,$n,oa,cs,mr,f,2,-0,0),h);break e}v0(u,o,In,Ac,nm,a,$n,oa,cs,mr,f,0,-0,0)}}break}while(!0);yi(i)}function v0(i,a,o,u,h,f,y,v,T,D,U,z,O,N){if(i.timeoutHandle=-1,z=a.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:bI},h0(a),z=CI(),z!==null)){i.cancelPendingCommit=z(R0.bind(null,i,a,f,o,u,h,y,v,T,U,1,O,N)),vr(i,f,y,!D);return}R0(i,a,f,o,u,h,y,v,T)}function G1(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function vr(i,a,o,u){a&=~tm,a&=~oa,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var h=a;0<h;){var f=31-mn(h),y=1<<f;u[f]=-1,h&=~y}o!==0&&Nt(i,o,a)}function Sc(){return($e&6)===0?(tl(0),!1):!0}function om(){if(Me!==null){if(Qe===0)var i=Me.return;else i=Me,xi=ta=null,wd(i),as=null,Go=0,i=Me;for(;i!==null;)W_(i.alternate,i),i=i.return;Me=null}}function ds(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,uI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),om(),nt=i,Me=o=Oi(i.current,null),Ue=a,Qe=0,Mn=null,mr=!1,us=ie(i,a),em=!1,cs=$n=tm=oa=pr=_t=0,In=Jo=null,nm=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var h=31-mn(u),f=1<<h;a|=i[h],u&=~f}return ji=a,Gu(),o}function _0(i,a){De=null,P.H=cc,a===ko||a===ec?(a=kv(),Qe=3):a===xv?(a=kv(),Qe=4):Qe=a===U_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Mn=a,Me===null&&(_t=1,pc(i,qn(a,i.current)))}function E0(){var i=P.H;return P.H=cc,i===null?cc:i}function T0(){var i=P.A;return P.A=H1,i}function lm(){_t=4,mr||(Ue&4194048)!==Ue&&Kn.current!==null||(us=!0),(pr&134217727)===0&&(oa&134217727)===0||nt===null||vr(nt,Ue,$n,!1)}function um(i,a,o){var u=$e;$e|=2;var h=E0(),f=T0();(nt!==i||Ue!==a)&&(Ac=null,ds(i,a)),a=!1;var y=_t;e:do try{if(Qe!==0&&Me!==null){var v=Me,T=Mn;switch(Qe){case 8:om(),y=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var D=Qe;if(Qe=0,Mn=null,ms(i,v,T,D),o&&us){y=0;break e}break;default:D=Qe,Qe=0,Mn=null,ms(i,v,T,D)}}K1(),y=_t;break}catch(U){_0(i,U)}while(!0);return a&&i.shellSuspendCounter++,xi=ta=null,$e=u,P.H=h,P.A=f,Me===null&&(nt=null,Ue=0,Gu()),y}function K1(){for(;Me!==null;)A0(Me)}function $1(i,a){var o=$e;$e|=2;var u=E0(),h=T0();nt!==i||Ue!==a?(Ac=null,Tc=An()+500,ds(i,a)):us=ie(i,a);e:do try{if(Qe!==0&&Me!==null){a=Me;var f=Mn;t:switch(Qe){case 1:Qe=0,Mn=null,ms(i,a,f,1);break;case 2:case 9:if(Vv(f)){Qe=0,Mn=null,S0(a);break}a=function(){Qe!==2&&Qe!==9||nt!==i||(Qe=7),yi(i)},f.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Vv(f)?(Qe=0,Mn=null,S0(a)):(Qe=0,Mn=null,ms(i,a,f,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var v=Me;if(!y||rE(y)){Qe=0,Mn=null;var T=v.sibling;if(T!==null)Me=T;else{var D=v.return;D!==null?(Me=D,wc(D)):Me=null}break t}}Qe=0,Mn=null,ms(i,a,f,5);break;case 6:Qe=0,Mn=null,ms(i,a,f,6);break;case 8:om(),_t=6;break e;default:throw Error(r(462))}}Q1();break}catch(U){_0(i,U)}while(!0);return xi=ta=null,P.H=u,P.A=h,$e=o,Me!==null?0:(nt=null,Ue=0,Gu(),_t)}function Q1(){for(;Me!==null&&!Fr();)A0(Me)}function A0(i){var a=Y_(i.alternate,i,ji);i.memoizedProps=i.pendingProps,a===null?wc(i):Me=a}function S0(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=H_(o,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=H_(o,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:wd(a);default:W_(o,a),a=Me=wv(a,ji),a=Y_(o,a,ji)}i.memoizedProps=i.pendingProps,a===null?wc(i):Me=a}function ms(i,a,o,u){xi=ta=null,wd(a),as=null,Go=0;var h=a.return;try{if(U1(i,h,a,o,Ue)){_t=1,pc(i,qn(o,i.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;_t=1,pc(i,qn(o,i.current)),Me=null;return}a.flags&32768?(Fe||u===1?i=!0:us||(Ue&536870912)!==0?i=!1:(mr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(a,i)):wc(a)}function wc(i){var a=i;do{if((a.flags&32768)!==0){w0(a,mr);return}i=a.return;var o=z1(a.alternate,a,ji);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=i}while(a!==null);_t===0&&(_t=5)}function w0(i,a){do{var o=B1(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);_t=6,Me=null}function R0(i,a,o,u,h,f,y,v,T){i.cancelPendingCommit=null;do Rc();while(Kt!==0);if(($e&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(f=a.lanes|a.childLanes,f|=Jf,Xe(i,o,f,y,v,T),i===nt&&(Me=nt=null,Ue=0),hs=a,yr=i,fs=o,rm=f,am=h,p0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Z1(Gr,function(){return O0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,h=Y.p,Y.p=2,y=$e,$e|=4;try{j1(i,a,o)}finally{$e=y,Y.p=h,P.T=u}}Kt=1,b0(),I0(),C0()}}function b0(){if(Kt===1){Kt=0;var i=yr,a=hs,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var u=Y.p;Y.p=2;var h=$e;$e|=4;try{l0(a,i);var f=Tm,y=mv(i.containerInfo),v=f.focusedElem,T=f.selectionRange;if(y!==v&&v&&v.ownerDocument&&dv(v.ownerDocument.documentElement,v)){if(T!==null&&Qf(v)){var D=T.start,U=T.end;if(U===void 0&&(U=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(U,v.value.length);else{var z=v.ownerDocument||document,O=z&&z.defaultView||window;if(O.getSelection){var N=O.getSelection(),ge=v.textContent.length,de=Math.min(T.start,ge),Je=T.end===void 0?de:Math.min(T.end,ge);!N.extend&&de>Je&&(y=Je,Je=de,de=y);var R=fv(v,de),S=fv(v,Je);if(R&&S&&(N.rangeCount!==1||N.anchorNode!==R.node||N.anchorOffset!==R.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var C=z.createRange();C.setStart(R.node,R.offset),N.removeAllRanges(),de>Je?(N.addRange(C),N.extend(S.node,S.offset)):(C.setEnd(S.node,S.offset),N.addRange(C))}}}}for(z=[],N=v;N=N.parentNode;)N.nodeType===1&&z.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<z.length;v++){var L=z[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Uc=!!Em,Tm=Em=null}finally{$e=h,Y.p=u,P.T=o}}i.current=a,Kt=2}}function I0(){if(Kt===2){Kt=0;var i=yr,a=hs,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var u=Y.p;Y.p=2;var h=$e;$e|=4;try{r0(i,a.alternate,a)}finally{$e=h,Y.p=u,P.T=o}}Kt=3}}function C0(){if(Kt===4||Kt===3){Kt=0,Cu();var i=yr,a=hs,o=fs,u=p0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Kt=5:(Kt=0,hs=yr=null,D0(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(gr=null),yt(o),a=a.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ci,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=P.T,h=Y.p,Y.p=2,P.T=null;try{for(var f=i.onRecoverableError,y=0;y<u.length;y++){var v=u[y];f(v.value,{componentStack:v.stack})}}finally{P.T=a,Y.p=h}}(fs&3)!==0&&Rc(),yi(i),h=i.pendingLanes,(o&4194090)!==0&&(h&42)!==0?i===sm?el++:(el=0,sm=i):el=0,tl(0)}}function D0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Vo(a)))}function Rc(i){return b0(),I0(),C0(),O0()}function O0(){if(Kt!==5)return!1;var i=yr,a=rm;rm=0;var o=yt(fs),u=P.T,h=Y.p;try{Y.p=32>o?32:o,P.T=null,o=am,am=null;var f=yr,y=fs;if(Kt=0,hs=yr=null,fs=0,($e&6)!==0)throw Error(r(331));var v=$e;if($e|=4,d0(f.current),c0(f,f.current,y,o),$e=v,tl(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ci,f)}catch{}return!0}finally{Y.p=h,P.T=u,D0(i,a)}}function N0(i,a,o){a=qn(o,a),a=Ld(i.stateNode,a,2),i=or(i,a,2),i!==null&&(se(i,2),yi(i))}function tt(i,a,o){if(i.tag===3)N0(i,i,o);else for(;a!==null;){if(a.tag===3){N0(a,i,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(gr===null||!gr.has(u))){i=qn(o,i),o=P_(2),u=or(a,o,2),u!==null&&(k_(o,u,a,i),se(u,2),yi(u));break}}a=a.return}}function cm(i,a,o){var u=i.pingCache;if(u===null){u=i.pingCache=new F1;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(em=!0,h.add(o),i=Y1.bind(null,i,a,o),a.then(i,i))}function Y1(i,a,o){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,nt===i&&(Ue&o)===o&&(_t===4||_t===3&&(Ue&62914560)===Ue&&300>An()-im?($e&2)===0&&ds(i,0):tm|=o,cs===Ue&&(cs=0)),yi(i)}function M0(i,a){a===0&&(a=ye()),i=Ya(i,a),i!==null&&(se(i,a),yi(i))}function X1(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),M0(i,o)}function W1(i,a){var o=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),M0(i,o)}function Z1(i,a){return go(i,a)}var bc=null,ps=null,hm=!1,Ic=!1,fm=!1,la=0;function yi(i){i!==ps&&i.next===null&&(ps===null?bc=ps=i:ps=ps.next=i),Ic=!0,hm||(hm=!0,eI())}function tl(i,a){if(!fm&&Ic){fm=!0;do for(var o=!1,u=bc;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var y=u.suspendedLanes,v=u.pingedLanes;f=(1<<31-mn(42|i)+1)-1,f&=h&~(y&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(o=!0,k0(u,f))}else f=Ue,f=q(u,u===nt?f:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(f&3)===0||ie(u,f)||(o=!0,k0(u,f));u=u.next}while(o);fm=!1}}function J1(){x0()}function x0(){Ic=hm=!1;var i=0;la!==0&&(lI()&&(i=la),la=0);for(var a=An(),o=null,u=bc;u!==null;){var h=u.next,f=V0(u,a);f===0?(u.next=null,o===null?bc=h:o.next=h,h===null&&(ps=o)):(o=u,(i!==0||(f&3)!==0)&&(Ic=!0)),u=h}tl(i)}function V0(i,a){for(var o=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var y=31-mn(f),v=1<<y,T=h[y];T===-1?((v&o)===0||(v&u)!==0)&&(h[y]=Ee(v,a)):T<=a&&(i.expiredLanes|=v),f&=~v}if(a=nt,o=Ue,o=q(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===a&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&yo(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ie(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(u!==null&&yo(u),yt(o)){case 2:case 8:o=ei;break;case 32:o=Gr;break;case 268435456:o=vo;break;default:o=Gr}return u=P0.bind(null,i),o=go(o,u),i.callbackPriority=a,i.callbackNode=o,a}return u!==null&&u!==null&&yo(u),i.callbackPriority=2,i.callbackNode=null,2}function P0(i,a){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Rc()&&i.callbackNode!==o)return null;var u=Ue;return u=q(i,i===nt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(y0(i,u,a),V0(i,An()),i.callbackNode!=null&&i.callbackNode===o?P0.bind(null,i):null)}function k0(i,a){if(Rc())return null;y0(i,a,!0)}function eI(){cI(function(){($e&6)!==0?go(ka,J1):x0()})}function dm(){return la===0&&(la=pe()),la}function U0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lu(""+i)}function L0(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function tI(i,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var f=U0((h[ht]||null).action),y=u.submitter;y&&(a=(a=y[ht]||null)?U0(a.formAction):y.getAttribute("formAction"),a!==null&&(f=a,y=null));var v=new qu("action","action",null,u,h);i.push({event:v,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(la!==0){var T=y?L0(h,y):new FormData(h);xd(o,{pending:!0,data:T,method:h.method,action:f},null,T)}}else typeof f=="function"&&(v.preventDefault(),T=y?L0(h,y):new FormData(h),xd(o,{pending:!0,data:T,method:h.method,action:f},f,T))},currentTarget:h}]})}}for(var mm=0;mm<Zf.length;mm++){var pm=Zf[mm],nI=pm.toLowerCase(),iI=pm[0].toUpperCase()+pm.slice(1);ti(nI,"on"+iI)}ti(yv,"onAnimationEnd"),ti(vv,"onAnimationIteration"),ti(_v,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(E1,"onTransitionRun"),ti(T1,"onTransitionStart"),ti(A1,"onTransitionCancel"),ti(Ev,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function z0(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],h=u.event;u=u.listeners;e:{var f=void 0;if(a)for(var y=u.length-1;0<=y;y--){var v=u[y],T=v.instance,D=v.currentTarget;if(v=v.listener,T!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=D;try{f(h)}catch(U){mc(U)}h.currentTarget=null,f=T}else for(y=0;y<u.length;y++){if(v=u[y],T=v.instance,D=v.currentTarget,v=v.listener,T!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=D;try{f(h)}catch(U){mc(U)}h.currentTarget=null,f=T}}}}function xe(i,a){var o=a[nr];o===void 0&&(o=a[nr]=new Set);var u=i+"__bubble";o.has(u)||(B0(a,i,2,!1),o.add(u))}function gm(i,a,o){var u=0;a&&(u|=4),B0(o,i,u,a)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function ym(i){if(!i[Cc]){i[Cc]=!0,xu.forEach(function(o){o!=="selectionchange"&&(rI.has(o)||gm(o,!1,i),gm(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Cc]||(a[Cc]=!0,gm("selectionchange",!1,a))}}function B0(i,a,o,u){switch(cE(a)){case 2:var h=NI;break;case 8:h=MI;break;default:h=Nm}o=h.bind(null,a,o,i),h=void 0,!zf||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(a,o,{capture:!0,passive:h}):i.addEventListener(a,o,!0):h!==void 0?i.addEventListener(a,o,{passive:h}):i.addEventListener(a,o,!1)}function vm(i,a,o,u,h){var f=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var v=u.stateNode.containerInfo;if(v===h)break;if(y===4)for(y=u.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;v!==null;){if(y=gn(v),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){u=f=y;continue e}v=v.parentNode}}u=u.return}$y(function(){var D=f,U=Uf(o),z=[];e:{var O=Tv.get(i);if(O!==void 0){var N=qu,ge=i;switch(i){case"keypress":if(Bu(o)===0)break e;case"keydown":case"keyup":N=Zb;break;case"focusin":ge="focus",N=Hf;break;case"focusout":ge="blur",N=Hf;break;case"beforeblur":case"afterblur":N=Hf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=t1;break;case yv:case vv:case _v:N=Hb;break;case Ev:N=i1;break;case"scroll":case"scrollend":N=Lb;break;case"wheel":N=a1;break;case"copy":case"cut":case"paste":N=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Zy;break;case"toggle":case"beforetoggle":N=o1}var de=(a&4)!==0,Je=!de&&(i==="scroll"||i==="scrollend"),R=de?O!==null?O+"Capture":null:O;de=[];for(var S=D,C;S!==null;){var L=S;if(C=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||C===null||R===null||(L=To(S,R),L!=null&&de.push(il(S,L,C))),Je)break;S=S.return}0<de.length&&(O=new N(O,ge,null,o,U),z.push({event:O,listeners:de}))}}if((a&7)===0){e:{if(O=i==="mouseover"||i==="pointerover",N=i==="mouseout"||i==="pointerout",O&&o!==kf&&(ge=o.relatedTarget||o.fromElement)&&(gn(ge)||ge[Zt]))break e;if((N||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,N?(ge=o.relatedTarget||o.toElement,N=D,ge=ge?gn(ge):null,ge!==null&&(Je=l(ge),de=ge.tag,ge!==Je||de!==5&&de!==27&&de!==6)&&(ge=null)):(N=null,ge=D),N!==ge)){if(de=Xy,L="onMouseLeave",R="onMouseEnter",S="mouse",(i==="pointerout"||i==="pointerover")&&(de=Zy,L="onPointerLeave",R="onPointerEnter",S="pointer"),Je=N==null?O:at(N),C=ge==null?O:at(ge),O=new de(L,S+"leave",N,o,U),O.target=Je,O.relatedTarget=C,L=null,gn(U)===D&&(de=new de(R,S+"enter",ge,o,U),de.target=C,de.relatedTarget=Je,L=de),Je=L,N&&ge)t:{for(de=N,R=ge,S=0,C=de;C;C=gs(C))S++;for(C=0,L=R;L;L=gs(L))C++;for(;0<S-C;)de=gs(de),S--;for(;0<C-S;)R=gs(R),C--;for(;S--;){if(de===R||R!==null&&de===R.alternate)break t;de=gs(de),R=gs(R)}de=null}else de=null;N!==null&&j0(z,O,N,de,!1),ge!==null&&Je!==null&&j0(z,Je,ge,de,!0)}}e:{if(O=D?at(D):window,N=O.nodeName&&O.nodeName.toLowerCase(),N==="select"||N==="input"&&O.type==="file")var ae=sv;else if(rv(O))if(ov)ae=y1;else{ae=p1;var Oe=m1}else N=O.nodeName,!N||N.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&Pf(D.elementType)&&(ae=sv):ae=g1;if(ae&&(ae=ae(i,D))){av(z,ae,o,U);break e}Oe&&Oe(i,O,D),i==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&Vf(O,"number",O.value)}switch(Oe=D?at(D):window,i){case"focusin":(rv(Oe)||Oe.contentEditable==="true")&&(Ka=Oe,Yf=D,Do=null);break;case"focusout":Do=Yf=Ka=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,pv(z,o,U);break;case"selectionchange":if(_1)break;case"keydown":case"keyup":pv(z,o,U)}var ue;if(Gf)e:{switch(i){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ga?nv(i,o)&&(me="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(me="onCompositionStart");me&&(Jy&&o.locale!=="ko"&&(Ga||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ga&&(ue=Qy()):(ir=U,Bf="value"in ir?ir.value:ir.textContent,Ga=!0)),Oe=Dc(D,me),0<Oe.length&&(me=new Wy(me,i,null,o,U),z.push({event:me,listeners:Oe}),ue?me.data=ue:(ue=iv(o),ue!==null&&(me.data=ue)))),(ue=u1?c1(i,o):h1(i,o))&&(me=Dc(D,"onBeforeInput"),0<me.length&&(Oe=new Wy("onBeforeInput","beforeinput",null,o,U),z.push({event:Oe,listeners:me}),Oe.data=ue)),tI(z,i,D,o,U)}z0(z,a)})}function il(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Dc(i,a){for(var o=a+"Capture",u=[];i!==null;){var h=i,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=To(i,o),h!=null&&u.unshift(il(i,h,f)),h=To(i,a),h!=null&&u.push(il(i,h,f))),i.tag===3)return u;i=i.return}return[]}function gs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j0(i,a,o,u,h){for(var f=a._reactName,y=[];o!==null&&o!==u;){var v=o,T=v.alternate,D=v.stateNode;if(v=v.tag,T!==null&&T===u)break;v!==5&&v!==26&&v!==27||D===null||(T=D,h?(D=To(o,f),D!=null&&y.unshift(il(o,D,T))):h||(D=To(o,f),D!=null&&y.push(il(o,D,T)))),o=o.return}y.length!==0&&i.push({event:a,listeners:y})}var aI=/\r\n?/g,sI=/\u0000|\uFFFD/g;function q0(i){return(typeof i=="string"?i:""+i).replace(aI,`
`).replace(sI,"")}function H0(i,a){return a=q0(a),q0(i)===a}function Oc(){}function Ze(i,a,o,u,h,f){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||qa(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&qa(i,""+u);break;case"className":Pu(i,"class",u);break;case"tabIndex":Pu(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pu(i,o,u);break;case"style":Gy(i,u,f);break;case"data":if(a!=="object"){Pu(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Lu(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(o==="formAction"?(a!=="input"&&Ze(i,a,"name",h.name,h,null),Ze(i,a,"formEncType",h.formEncType,h,null),Ze(i,a,"formMethod",h.formMethod,h,null),Ze(i,a,"formTarget",h.formTarget,h,null)):(Ze(i,a,"encType",h.encType,h,null),Ze(i,a,"method",h.method,h,null),Ze(i,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Lu(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Oc);break;case"onScroll":u!=null&&xe("scroll",i);break;case"onScrollEnd":u!=null&&xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Lu(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":xe("beforetoggle",i),xe("toggle",i),Vu(i,"popover",u);break;case"xlinkActuate":Ci(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ci(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ci(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ci(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ci(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ci(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ci(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vu(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kb.get(o)||o,Vu(i,o,u))}}function _m(i,a,o,u,h,f){switch(o){case"style":Gy(i,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?qa(i,u):(typeof u=="number"||typeof u=="bigint")&&qa(i,""+u);break;case"onScroll":u!=null&&xe("scroll",i);break;case"onScrollEnd":u!=null&&xe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vy.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),f=i[ht]||null,f=f!=null?f[o]:null,typeof f=="function"&&i.removeEventListener(a,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,u,h);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Vu(i,o,u)}}}function $t(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",i),xe("load",i);var u=!1,h=!1,f;for(f in o)if(o.hasOwnProperty(f)){var y=o[f];if(y!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,f,y,o,null)}}h&&Ze(i,a,"srcSet",o.srcSet,o,null),u&&Ze(i,a,"src",o.src,o,null);return;case"input":xe("invalid",i);var v=f=y=h=null,T=null,D=null;for(u in o)if(o.hasOwnProperty(u)){var U=o[u];if(U!=null)switch(u){case"name":h=U;break;case"type":y=U;break;case"checked":T=U;break;case"defaultChecked":D=U;break;case"value":f=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,a));break;default:Ze(i,a,u,U,o,null)}}jy(i,f,v,T,D,y,h,!1),ku(i);return;case"select":xe("invalid",i),u=y=f=null;for(h in o)if(o.hasOwnProperty(h)&&(v=o[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":y=v;break;case"multiple":u=v;default:Ze(i,a,h,v,o,null)}a=f,o=y,i.multiple=!!u,a!=null?ja(i,!!u,a,!1):o!=null&&ja(i,!!u,o,!0);return;case"textarea":xe("invalid",i),f=h=u=null;for(y in o)if(o.hasOwnProperty(y)&&(v=o[y],v!=null))switch(y){case"value":u=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ze(i,a,y,v,o,null)}Hy(i,u,h,f),ku(i);return;case"option":for(T in o)if(o.hasOwnProperty(T)&&(u=o[T],u!=null))switch(T){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(i,a,T,u,o,null)}return;case"dialog":xe("beforetoggle",i),xe("toggle",i),xe("cancel",i),xe("close",i);break;case"iframe":case"object":xe("load",i);break;case"video":case"audio":for(u=0;u<nl.length;u++)xe(nl[u],i);break;case"image":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"embed":case"source":case"link":xe("error",i),xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,D,u,o,null)}return;default:if(Pf(a)){for(U in o)o.hasOwnProperty(U)&&(u=o[U],u!==void 0&&_m(i,a,U,u,o,void 0));return}}for(v in o)o.hasOwnProperty(v)&&(u=o[v],u!=null&&Ze(i,a,v,u,o,null))}function oI(i,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,v=null,T=null,D=null,U=null;for(N in o){var z=o[N];if(o.hasOwnProperty(N)&&z!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":T=z;default:u.hasOwnProperty(N)||Ze(i,a,N,null,u,z)}}for(var O in u){var N=u[O];if(z=o[O],u.hasOwnProperty(O)&&(N!=null||z!=null))switch(O){case"type":f=N;break;case"name":h=N;break;case"checked":D=N;break;case"defaultChecked":U=N;break;case"value":y=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,a));break;default:N!==z&&Ze(i,a,O,N,u,z)}}xf(i,y,v,T,D,U,f,h);return;case"select":N=y=v=O=null;for(f in o)if(T=o[f],o.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":N=T;default:u.hasOwnProperty(f)||Ze(i,a,f,null,u,T)}for(h in u)if(f=u[h],T=o[h],u.hasOwnProperty(h)&&(f!=null||T!=null))switch(h){case"value":O=f;break;case"defaultValue":v=f;break;case"multiple":y=f;default:f!==T&&Ze(i,a,h,f,u,T)}a=v,o=y,u=N,O!=null?ja(i,!!o,O,!1):!!u!=!!o&&(a!=null?ja(i,!!o,a,!0):ja(i,!!o,o?[]:"",!1));return;case"textarea":N=O=null;for(v in o)if(h=o[v],o.hasOwnProperty(v)&&h!=null&&!u.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ze(i,a,v,null,u,h)}for(y in u)if(h=u[y],f=o[y],u.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":O=h;break;case"defaultValue":N=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Ze(i,a,y,h,u,f)}qy(i,O,N);return;case"option":for(var ge in o)if(O=o[ge],o.hasOwnProperty(ge)&&O!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:Ze(i,a,ge,null,u,O)}for(T in u)if(O=u[T],N=o[T],u.hasOwnProperty(T)&&O!==N&&(O!=null||N!=null))switch(T){case"selected":i.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ze(i,a,T,O,u,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)O=o[de],o.hasOwnProperty(de)&&O!=null&&!u.hasOwnProperty(de)&&Ze(i,a,de,null,u,O);for(D in u)if(O=u[D],N=o[D],u.hasOwnProperty(D)&&O!==N&&(O!=null||N!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,a));break;default:Ze(i,a,D,O,u,N)}return;default:if(Pf(a)){for(var Je in o)O=o[Je],o.hasOwnProperty(Je)&&O!==void 0&&!u.hasOwnProperty(Je)&&_m(i,a,Je,void 0,u,O);for(U in u)O=u[U],N=o[U],!u.hasOwnProperty(U)||O===N||O===void 0&&N===void 0||_m(i,a,U,O,u,N);return}}for(var R in o)O=o[R],o.hasOwnProperty(R)&&O!=null&&!u.hasOwnProperty(R)&&Ze(i,a,R,null,u,O);for(z in u)O=u[z],N=o[z],!u.hasOwnProperty(z)||O===N||O==null&&N==null||Ze(i,a,z,O,u,N)}var Em=null,Tm=null;function Nc(i){return i.nodeType===9?i:i.ownerDocument}function F0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Am(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sm=null;function lI(){var i=window.event;return i&&i.type==="popstate"?i===Sm?!1:(Sm=i,!0):(Sm=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,uI=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(i){return $0.resolve(null).then(i).catch(hI)}:K0;function hI(i){setTimeout(function(){throw i})}function _r(i){return i==="head"}function Q0(i,a){var o=a,u=0,h=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(0<u&&8>u){o=u;var y=i.ownerDocument;if(o&1&&rl(y.documentElement),o&2&&rl(y.body),o&4)for(o=y.head,rl(o),y=o.firstChild;y;){var v=y.nextSibling,T=y.nodeName;y[ke]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=v}}if(h===0){i.removeChild(f),fl(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=f}while(o);fl(a)}function wm(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wm(o),pn(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function fI(i,a,o,u){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ke])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=ii(i.nextSibling),i===null)break}return null}function dI(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ii(i.nextSibling),i===null))return null;return i}function Rm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function mI(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ii(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var bm=null;function Y0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function X0(i,a,o){switch(a=Nc(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function rl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);pn(i)}var Qn=new Map,W0=new Set;function Mc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var qi=Y.d;Y.d={f:pI,r:gI,D:yI,C:vI,L:_I,m:EI,X:AI,S:TI,M:SI};function pI(){var i=qi.f(),a=Sc();return i||a}function gI(i){var a=fi(i);a!==null&&a.tag===5&&a.type==="form"?y_(a):qi.r(i)}var ys=typeof document>"u"?null:document;function Z0(i,a,o){var u=ys;if(u&&typeof a=="string"&&a){var h=jn(a);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),W0.has(h)||(W0.add(h),i={rel:i,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),$t(a,"link",i),Tt(a),u.head.appendChild(a)))}}function yI(i){qi.D(i),Z0("dns-prefetch",i,null)}function vI(i,a){qi.C(i,a),Z0("preconnect",i,a)}function _I(i,a,o){qi.L(i,a,o);var u=ys;if(u&&i&&a){var h='link[rel="preload"][as="'+jn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+jn(o.imageSizes)+'"]')):h+='[href="'+jn(i)+'"]';var f=h;switch(a){case"style":f=vs(i);break;case"script":f=_s(i)}Qn.has(f)||(i=g({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),Qn.set(f,i),u.querySelector(h)!==null||a==="style"&&u.querySelector(al(f))||a==="script"&&u.querySelector(sl(f))||(a=u.createElement("link"),$t(a,"link",i),Tt(a),u.head.appendChild(a)))}}function EI(i,a){qi.m(i,a);var o=ys;if(o&&i){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+jn(u)+'"][href="'+jn(i)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(i)}if(!Qn.has(f)&&(i=g({rel:"modulepreload",href:i},a),Qn.set(f,i),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sl(f)))return}u=o.createElement("link"),$t(u,"link",i),Tt(u),o.head.appendChild(u)}}}function TI(i,a,o){qi.S(i,a,o);var u=ys;if(u&&i){var h=zn(u).hoistableStyles,f=vs(i);a=a||"default";var y=h.get(f);if(!y){var v={loading:0,preload:null};if(y=u.querySelector(al(f)))v.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},o),(o=Qn.get(f))&&Im(i,o);var T=y=u.createElement("link");Tt(T),$t(T,"link",i),T._p=new Promise(function(D,U){T.onload=D,T.onerror=U}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,xc(y,a,u)}y={type:"stylesheet",instance:y,count:1,state:v},h.set(f,y)}}}function AI(i,a){qi.X(i,a);var o=ys;if(o&&i){var u=zn(o).hoistableScripts,h=_s(i),f=u.get(h);f||(f=o.querySelector(sl(h)),f||(i=g({src:i,async:!0},a),(a=Qn.get(h))&&Cm(i,a),f=o.createElement("script"),Tt(f),$t(f,"link",i),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function SI(i,a){qi.M(i,a);var o=ys;if(o&&i){var u=zn(o).hoistableScripts,h=_s(i),f=u.get(h);f||(f=o.querySelector(sl(h)),f||(i=g({src:i,async:!0,type:"module"},a),(a=Qn.get(h))&&Cm(i,a),f=o.createElement("script"),Tt(f),$t(f,"link",i),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}function J0(i,a,o,u){var h=(h=fe.current)?Mc(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=vs(o.href),o=zn(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=vs(o.href);var f=zn(h).hoistableStyles,y=f.get(i);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,y),(f=h.querySelector(al(i)))&&!f._p&&(y.instance=f,y.state.loading=5),Qn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(i,o),f||wI(h,i,o,y.state))),a&&u===null)throw Error(r(528,""));return y}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_s(o),o=zn(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function vs(i){return'href="'+jn(i)+'"'}function al(i){return'link[rel="stylesheet"]['+i+"]"}function eE(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function wI(i,a,o,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),$t(a,"link",o),Tt(a),i.head.appendChild(a))}function _s(i){return'[src="'+jn(i)+'"]'}function sl(i){return"script[async]"+i}function tE(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+jn(o.href)+'"]');if(u)return a.instance=u,Tt(u),u;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Tt(u),$t(u,"style",h),xc(u,o.precedence,i),a.instance=u;case"stylesheet":h=vs(o.href);var f=i.querySelector(al(h));if(f)return a.state.loading|=4,a.instance=f,Tt(f),f;u=eE(o),(h=Qn.get(h))&&Im(u,h),f=(i.ownerDocument||i).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),$t(f,"link",u),a.state.loading|=4,xc(f,o.precedence,i),a.instance=f;case"script":return f=_s(o.src),(h=i.querySelector(sl(f)))?(a.instance=h,Tt(h),h):(u=o,(h=Qn.get(f))&&(u=g({},o),Cm(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),Tt(h),$t(h,"link",u),i.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,xc(u,o.precedence,i));return a.instance}function xc(i,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,y=0;y<u.length;y++){var v=u[y];if(v.dataset.precedence===a)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Im(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Cm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Vc=null;function nE(i,a,o){if(Vc===null){var u=new Map,h=Vc=new Map;h.set(o,u)}else h=Vc,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var f=o[h];if(!(f[ke]||f[wt]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(a)||"";y=i+y;var v=u.get(y);v?v.push(f):u.set(y,[f])}}return u}function iE(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function RI(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ol=null;function bI(){}function II(i,a,o){if(ol===null)throw Error(r(475));var u=ol;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=vs(o.href),f=i.querySelector(al(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Pc.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=f,Tt(f);return}f=i.ownerDocument||i,o=eE(o),(h=Qn.get(h))&&Im(o,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),$t(f,"link",o),a.instance=f}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Pc.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function CI(){if(ol===null)throw Error(r(475));var i=ol;return i.stylesheets&&i.count===0&&Dm(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&Dm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kc=null;function Dm(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kc=new Map,a.forEach(DI,i),kc=null,Pc.call(i))}function DI(i,a){if(!(a.state.loading&4)){var o=kc.get(i);if(o)var u=o.get(null);else{o=new Map,kc.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),u=y)}u&&o.set(null,u)}h=a.instance,y=h.getAttribute("data-precedence"),f=o.get(y)||u,f===u&&o.set(null,h),o.set(y,h),this.count++,u=Pc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),a.state.loading|=4}}var ll={$$typeof:$,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function OI(i,a,o,u,h,f,y,v){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ce(0),this.hiddenUpdates=ce(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function aE(i,a,o,u,h,f,y,v,T,D,U,z){return i=new OI(i,a,o,y,v,T,D,z),a=1,f===!0&&(a|=24),f=Dn(3,null,null,a),i.current=f,f.stateNode=i,a=cd(),a.refCount++,i.pooledCache=a,a.refCount++,f.memoizedState={element:u,isDehydrated:o,cache:a},md(f),i}function sE(i){return i?(i=Xa,i):Xa}function oE(i,a,o,u,h,f){h=sE(h),u.context===null?u.context=h:u.pendingContext=h,u=sr(a),u.payload={element:o},f=f===void 0?null:f,f!==null&&(u.callback=f),o=or(i,u,a),o!==null&&(Vn(o,i,a),Lo(o,i,a))}function lE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function Om(i,a){lE(i,a),(i=i.alternate)&&lE(i,a)}function uE(i){if(i.tag===13){var a=Ya(i,67108864);a!==null&&Vn(a,i,67108864),Om(i,67108864)}}var Uc=!0;function NI(i,a,o,u){var h=P.T;P.T=null;var f=Y.p;try{Y.p=2,Nm(i,a,o,u)}finally{Y.p=f,P.T=h}}function MI(i,a,o,u){var h=P.T;P.T=null;var f=Y.p;try{Y.p=8,Nm(i,a,o,u)}finally{Y.p=f,P.T=h}}function Nm(i,a,o,u){if(Uc){var h=Mm(u);if(h===null)vm(i,a,u,Lc,o),hE(i,u);else if(VI(h,i,a,o,u))u.stopPropagation();else if(hE(i,u),a&4&&-1<xI.indexOf(i)){for(;h!==null;){var f=fi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=x(f.pendingLanes);if(y!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var T=1<<31-mn(y);v.entanglements[1]|=T,y&=~T}yi(f),($e&6)===0&&(Tc=An()+500,tl(0))}}break;case 13:v=Ya(f,2),v!==null&&Vn(v,f,2),Sc(),Om(f,2)}if(f=Mm(u),f===null&&vm(i,a,u,Lc,o),f===h)break;h=f}h!==null&&u.stopPropagation()}else vm(i,a,u,null,o)}}function Mm(i){return i=Uf(i),xm(i)}var Lc=null;function xm(i){if(Lc=null,i=gn(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=c(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lc=i,null}function cE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case ka:return 2;case ei:return 8;case Gr:case Du:return 32;case vo:return 268435456;default:return 32}default:return 32}}var Vm=!1,Er=null,Tr=null,Ar=null,ul=new Map,cl=new Map,Sr=[],xI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(i,a){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ul.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(a.pointerId)}}function hl(i,a,o,u,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},a!==null&&(a=fi(a),a!==null&&uE(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),i)}function VI(i,a,o,u,h){switch(a){case"focusin":return Er=hl(Er,i,a,o,u,h),!0;case"dragenter":return Tr=hl(Tr,i,a,o,u,h),!0;case"mouseover":return Ar=hl(Ar,i,a,o,u,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,i,a,o,u,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,i,a,o,u,h)),!0}return!1}function fE(i){var a=gn(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){i.blockedOn=a,Ii(i.priority,function(){if(o.tag===13){var u=xn();u=rt(u);var h=Ya(o,u);h!==null&&Vn(h,o,u),Om(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=Mm(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);kf=u,o.target.dispatchEvent(u),kf=null}else return a=fi(o),a!==null&&uE(a),i.blockedOn=o,!1;a.shift()}return!0}function dE(i,a,o){zc(i)&&o.delete(a)}function PI(){Vm=!1,Er!==null&&zc(Er)&&(Er=null),Tr!==null&&zc(Tr)&&(Tr=null),Ar!==null&&zc(Ar)&&(Ar=null),ul.forEach(dE),cl.forEach(dE)}function Bc(i,a){i.blockedOn===a&&(i.blockedOn=null,Vm||(Vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PI)))}var jc=null;function mE(i){jc!==i&&(jc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jc===i&&(jc=null);for(var a=0;a<i.length;a+=3){var o=i[a],u=i[a+1],h=i[a+2];if(typeof u!="function"){if(xm(u||o)===null)continue;break}var f=fi(o);f!==null&&(i.splice(a,3),a-=3,xd(f,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function fl(i){function a(T){return Bc(T,i)}Er!==null&&Bc(Er,i),Tr!==null&&Bc(Tr,i),Ar!==null&&Bc(Ar,i),ul.forEach(a),cl.forEach(a);for(var o=0;o<Sr.length;o++){var u=Sr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)fE(o),o.blockedOn===null&&Sr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],f=o[u+1],y=h[ht]||null;if(typeof f=="function")y||mE(o);else if(y){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ht]||null)v=y.formAction;else if(xm(h)!==null)continue}else v=y.action;typeof v=="function"?o[u+1]=v:(o.splice(u,3),u-=3),mE(o)}}}function Pm(i){this._internalRoot=i}qc.prototype.render=Pm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,u=xn();oE(o,u,i,a,null,null)},qc.prototype.unmount=Pm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;oE(i.current,2,null,i,null,null),Sc(),a[Zt]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var a=hi();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Sr.length&&a!==0&&a<Sr[o].priority;o++);Sr.splice(o,0,i),o===0&&fE(i)}};var pE=e.version;if(pE!=="19.1.0")throw Error(r(527,pE,"19.1.0"));Y.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var kI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{ci=Hc.inject(kI),Wt=Hc}catch{}}return ml.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,u="",h=N_,f=M_,y=x_,v=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks)),a=aE(i,1,!1,null,null,o,u,h,f,y,v,null),i[Zt]=a.current,ym(i),new Pm(a)},ml.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var u=!1,h="",f=N_,y=M_,v=x_,T=null,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks),o.formState!==void 0&&(D=o.formState)),a=aE(i,1,!0,a,o??null,u,h,f,y,v,T,D),a.context=sE(null),o=a.current,u=xn(),u=rt(u),h=sr(u),h.callback=null,or(o,h,u),o=u,a.current.lanes=o,se(a,o),yi(a),i[Zt]=a.current,ym(i),new qc(a)},ml.version="19.1.0",ml}var RE;function YI(){if(RE)return Lm.exports;RE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=QI(),Lm.exports}var XI=YI();/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dt.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const bE="popstate";function WI(t){t===void 0&&(t={});function e(r,s){let{pathname:l,search:c,hash:d}=r.location;return Ll("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ta(s)}return JI(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Us(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZI(){return Math.random().toString(36).substr(2,8)}function IE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ll(t,e,n,r){return n===void 0&&(n=null),dt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zr(e):e,{state:n,key:e&&e.key||r||ZI()})}function Ta(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JI(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d=Vt.Pop,m=null,p=g();p==null&&(p=0,c.replaceState(dt({},c.state,{idx:p}),""));function g(){return(c.state||{idx:null}).idx}function _(){d=Vt.Pop;let V=g(),F=V==null?null:V-p;p=V,m&&m({action:d,location:k.location,delta:F})}function E(V,F){d=Vt.Push;let G=Ll(k.location,V,F);p=g()+1;let $=IE(G,p),b=k.createHref(G);try{c.pushState($,"",b)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(b)}l&&m&&m({action:d,location:k.location,delta:1})}function w(V,F){d=Vt.Replace;let G=Ll(k.location,V,F);p=g();let $=IE(G,p),b=k.createHref(G);c.replaceState($,"",b),l&&m&&m({action:d,location:k.location,delta:0})}function I(V){let F=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof V=="string"?V:Ta(V);return Ve(F,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,F)}let k={get action(){return d},get location(){return t(s,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(bE,_),m=V,()=>{s.removeEventListener(bE,_),m=null}},createHref(V){return e(s,V)},createURL:I,encodeLocation(V){let F=I(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:w,go(V){return c.go(V)}};return k}var Pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pt||(Pt={}));const eC=new Set(["lazy","caseSensitive","path","id","index","children"]);function tC(t){return t.index===!0}function gp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,l)=>{let c=[...n,l],d=typeof s.id=="string"?s.id:c.join("-");if(Ve(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ve(!r[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),tC(s)){let m=dt({},s,e(s),{id:d});return r[d]=m,m}else{let m=dt({},s,e(s),{id:d,children:void 0});return r[d]=m,s.children&&(m.children=gp(s.children,e,c,r)),m}})}function Rs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zr(e):e,s=Js(r.pathname||"/",n);if(s==null)return null;let l=DA(t);nC(l);let c=null;for(let d=0;c==null&&d<l.length;++d)c=hC(l[d],mC(s));return c}function DA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ve(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=Qi([r,m.relativePath]),g=n.concat(m);l.children&&l.children.length>0&&(Ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),DA(l.children,e,g,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:uC(p,l.index),routesMeta:g})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let m of OA(l.path))s(l,c,m)}),e}function OA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=OA(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iC=/^:\w+$/,rC=3,aC=2,sC=1,oC=10,lC=-2,CE=t=>t==="*";function uC(t,e){let n=t.split("/"),r=n.length;return n.some(CE)&&(r+=lC),e&&(r+=aC),n.filter(s=>!CE(s)).reduce((s,l)=>s+(iC.test(l)?rC:l===""?sC:oC),r)}function cC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hC(t,e){let{routesMeta:n}=t,r={},s="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],m=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=fC({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p);if(!g)return null;Object.assign(r,g.params);let _=d.route;l.push({params:r,pathname:Qi([s,g.pathname]),pathnameBase:vC(Qi([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Qi([s,g.pathnameBase]))}return l}function fC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,g,_)=>{if(g==="*"){let E=d[_]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}return p[g]=pC(d[_]||"",g),p},{}),pathname:l,pathnameBase:c,pattern:t}}function dC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(c,d)=>(r.push(d),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mC(t){try{return decodeURI(t)}catch(e){return Us(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pC(t,e){try{return decodeURIComponent(t)}catch(n){return Us(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zr(t):t;return{pathname:n?n.startsWith("/")?n:yC(n,e):e,search:_C(r),hash:EC(s)}}function yC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function su(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=zr(t):(s=dt({},t),Ve(!s.pathname||!s.pathname.includes("?"),qm("?","pathname","search",s)),Ve(!s.pathname||!s.pathname.includes("#"),qm("#","pathname","hash",s)),Ve(!s.search||!s.search.includes("#"),qm("#","search","hash",s)));let l=t===""||s.pathname==="",c=l?"/":s.pathname,d;if(r||c==null)d=n;else{let _=e.length-1;if(c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}d=_>=0?e[_]:"/"}let m=gC(s,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),vC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_C=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ug{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function NA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MA=["post","put","patch","delete"],TC=new Set(MA),AC=["get",...MA],SC=new Set(AC),wC=new Set([301,302,303,307,308]),RC=new Set([307,308]),Hm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IC=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function CC(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;s=x=>({hasErrorBoundary:M(x)})}else s=IC;let l={},c=gp(t.routes,s,void 0,l),d,m=t.basename||"/",p=dt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),g=null,_=new Set,E=null,w=null,I=null,k=t.hydrationData!=null,V=Rs(c,t.history.location,m),F=null;if(V==null){let M=Yn(404,{pathname:t.history.location.pathname}),{matches:x,route:q}=kE(c);V=x,F={[q.id]:M}}let G=!V.some(M=>M.route.lazy)&&(!V.some(M=>M.route.loader)||t.hydrationData!=null),$,b={historyAction:t.history.action,location:t.history.location,matches:V,initialized:G,navigation:Hm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||F,fetchers:new Map,blockers:new Map},H=Vt.Pop,ne=!1,J,ze=!1,qe=!1,ct=[],Ut=[],Ce=new Map,En=0,fn=-1,it=new Map,P=new Set,Y=new Map,oe=new Map,Re=new Map,A=!1;function j(){return g=t.history.listen(M=>{let{action:x,location:q,delta:ie}=M;if(A){A=!1;return}Us(Re.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=Wt({currentLocation:b.location,nextLocation:q,historyAction:x});if(Ee&&ie!=null){A=!0,t.history.go(ie*-1),ci(Ee,{state:"blocked",location:q,proceed(){ci(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),t.history.go(ie)},reset(){let pe=new Map(b.blockers);pe.set(Ee,pl),W({blockers:pe})}});return}return Ne(x,q)}),b.initialized||Ne(Vt.Pop,b.location),$}function ee(){g&&g(),_.clear(),J&&J.abort(),b.fetchers.forEach((M,x)=>ka(x)),b.blockers.forEach((M,x)=>Ou(x))}function X(M){return _.add(M),()=>_.delete(M)}function W(M){b=dt({},b,M),_.forEach(x=>x(b))}function Se(M,x){var q,ie;let Ee=b.actionData!=null&&b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&b.navigation.state==="loading"&&((q=M.state)==null?void 0:q._isRedirect)!==!0,pe;x.actionData?Object.keys(x.actionData).length>0?pe=x.actionData:pe=null:Ee?pe=b.actionData:pe=null;let ye=x.loaderData?PE(b.loaderData,x.loaderData,x.matches||[],x.errors):b.loaderData,ce=b.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((Xe,Nt)=>ce.set(Nt,pl)));let se=ne===!0||b.navigation.formMethod!=null&&ri(b.navigation.formMethod)&&((ie=M.state)==null?void 0:ie._isRedirect)!==!0;d&&(c=d,d=void 0),ze||H===Vt.Pop||(H===Vt.Push?t.history.push(M,M.state):H===Vt.Replace&&t.history.replace(M,M.state)),W(dt({},x,{actionData:pe,loaderData:ye,historyAction:H,location:M,initialized:!0,navigation:Hm,revalidation:"idle",restoreScrollPosition:Mu(M,x.matches||b.matches),preventScrollReset:se,blockers:ce})),H=Vt.Pop,ne=!1,ze=!1,qe=!1,ct=[],Ut=[]}async function fe(M,x){if(typeof M=="number"){t.history.go(M);return}let q=yp(b.location,b.matches,m,p.v7_prependBasename,M,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:ie,submission:Ee,error:pe}=DE(p.v7_normalizeFormMethod,!1,q,x),ye=b.location,ce=Ll(b.location,ie,x&&x.state);ce=dt({},ce,t.history.encodeLocation(ce));let se=x&&x.replace!=null?x.replace:void 0,Xe=Vt.Push;se===!0?Xe=Vt.Replace:se===!1||Ee!=null&&ri(Ee.formMethod)&&Ee.formAction===b.location.pathname+b.location.search&&(Xe=Vt.Replace);let Nt=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,He=Wt({currentLocation:ye,nextLocation:ce,historyAction:Xe});if(He){ci(He,{state:"blocked",location:ce,proceed(){ci(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),fe(M,x)},reset(){let rt=new Map(b.blockers);rt.set(He,pl),W({blockers:rt})}});return}return await Ne(Xe,ce,{submission:Ee,pendingError:pe,preventScrollReset:Nt,replace:x&&x.replace})}function mt(){if(An(),W({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Ne(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Ne(H||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Ne(M,x,q){J&&J.abort(),J=null,H=M,ze=(q&&q.startUninterruptedRevalidation)===!0,Df(b.location,b.matches),ne=(q&&q.preventScrollReset)===!0;let ie=d||c,Ee=q&&q.overrideNavigation,pe=Rs(ie,x,m);if(!pe){let rt=Yn(404,{pathname:x.pathname}),{matches:yt,route:hi}=kE(ie);Ln(),Se(x,{matches:yt,loaderData:{},errors:{[hi.id]:rt}});return}if(b.initialized&&!qe&&xC(b.location,x)&&!(q&&q.submission&&ri(q.submission.formMethod))){Se(x,{matches:pe});return}J=new AbortController;let ye=yl(t.history,x,J.signal,q&&q.submission),ce,se;if(q&&q.pendingError)se={[bs(pe).route.id]:q.pendingError};else if(q&&q.submission&&ri(q.submission.formMethod)){let rt=await dn(ye,x,q.submission,pe,{replace:q.replace});if(rt.shortCircuited)return;ce=rt.pendingActionData,se=rt.pendingActionError,Ee=Fc(x,q.submission),ye=new Request(ye.url,{signal:ye.signal})}let{shortCircuited:Xe,loaderData:Nt,errors:He}=await Tn(ye,x,pe,Ee,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,ce,se);Xe||(J=null,Se(x,dt({matches:pe},ce?{actionData:ce}:{},{loaderData:Nt,errors:He})))}async function dn(M,x,q,ie,Ee){Ee===void 0&&(Ee={}),An();let pe=LC(x,q);W({navigation:pe});let ye,ce=_p(ie,x);if(!ce.route.action&&!ce.route.lazy)ye={type:Pt.error,error:Yn(405,{method:M.method,pathname:x.pathname,routeId:ce.route.id})};else if(ye=await gl("action",M,ce,ie,l,s,m),M.signal.aborted)return{shortCircuited:!0};if(Ds(ye)){let se;return Ee&&Ee.replace!=null?se=Ee.replace:se=ye.location===b.location.pathname+b.location.search,await Fr(b,ye,{submission:q,replace:se}),{shortCircuited:!0}}if(Dl(ye)){let se=bs(ie,ce.route.id);return(Ee&&Ee.replace)!==!0&&(H=Vt.Push),{pendingActionData:{},pendingActionError:{[se.route.id]:ye.error}}}if(ca(ye))throw Yn(400,{type:"defer-action"});return{pendingActionData:{[ce.route.id]:ye.data}}}async function Tn(M,x,q,ie,Ee,pe,ye,ce,se){let Xe=ie||Fc(x,Ee),Nt=Ee||pe||zE(Xe),He=d||c,[rt,yt]=OE(t.history,b,q,Nt,x,qe,ct,Ut,Y,P,He,m,ce,se);if(Ln(ke=>!(q&&q.some(pn=>pn.route.id===ke))||rt&&rt.some(pn=>pn.route.id===ke)),fn=++En,rt.length===0&&yt.length===0){let ke=Du();return Se(x,dt({matches:q,loaderData:{},errors:se||null},ce?{actionData:ce}:{},ke?{fetchers:new Map(b.fetchers)}:{})),{shortCircuited:!0}}if(!ze){yt.forEach(pn=>{let gn=b.fetchers.get(pn.key),fi=vl(void 0,gn?gn.data:void 0);b.fetchers.set(pn.key,fi)});let ke=ce||b.actionData;W(dt({navigation:Xe},ke?Object.keys(ke).length===0?{actionData:null}:{actionData:ke}:{},yt.length>0?{fetchers:new Map(b.fetchers)}:{}))}yt.forEach(ke=>{Ce.has(ke.key)&&ei(ke.key),ke.controller&&Ce.set(ke.key,ke.controller)});let hi=()=>yt.forEach(ke=>ei(ke.key));J&&J.signal.addEventListener("abort",hi);let{results:Ii,loaderResults:Sn,fetcherResults:wt}=await Cu(b.matches,q,rt,yt,M);if(M.signal.aborted)return{shortCircuited:!0};J&&J.signal.removeEventListener("abort",hi),yt.forEach(ke=>Ce.delete(ke.key));let ht=UE(Ii);if(ht){if(ht.idx>=rt.length){let ke=yt[ht.idx-rt.length].key;P.add(ke)}return await Fr(b,ht.result,{replace:ye}),{shortCircuited:!0}}let{loaderData:Zt,errors:nr}=VE(b,q,rt,Sn,se,yt,wt,oe);oe.forEach((ke,pn)=>{ke.subscribe(gn=>{(gn||ke.done)&&oe.delete(pn)})});let _o=Du(),Eo=vo(fn),La=_o||Eo||yt.length>0;return dt({loaderData:Zt,errors:nr},La?{fetchers:new Map(b.fetchers)}:{})}function Hr(M){return b.fetchers.get(M)||bC}function po(M,x,q,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ce.has(M)&&ei(M);let Ee=d||c,pe=yp(b.location,b.matches,m,p.v7_prependBasename,q,x,ie==null?void 0:ie.relative),ye=Rs(Ee,pe,m);if(!ye){Pa(M,x,Yn(404,{pathname:pe}));return}let{path:ce,submission:se,error:Xe}=DE(p.v7_normalizeFormMethod,!0,pe,ie);if(Xe){Pa(M,x,Xe);return}let Nt=_p(ye,ce);if(ne=(ie&&ie.preventScrollReset)===!0,se&&ri(se.formMethod)){go(M,x,ce,Nt,ye,se);return}Y.set(M,{routeId:x,path:ce}),yo(M,x,ce,Nt,ye,se)}async function go(M,x,q,ie,Ee,pe){if(An(),Y.delete(M),!ie.route.action&&!ie.route.lazy){let at=Yn(405,{method:pe.formMethod,pathname:q,routeId:x});Pa(M,x,at);return}let ye=b.fetchers.get(M),ce=zC(pe,ye);b.fetchers.set(M,ce),W({fetchers:new Map(b.fetchers)});let se=new AbortController,Xe=yl(t.history,q,se.signal,pe);Ce.set(M,se);let Nt=En,He=await gl("action",Xe,ie,Ee,l,s,m);if(Xe.signal.aborted){Ce.get(M)===se&&Ce.delete(M);return}if(Ds(He))if(Ce.delete(M),fn>Nt){let at=As(void 0);b.fetchers.set(M,at),W({fetchers:new Map(b.fetchers)});return}else{P.add(M);let at=vl(pe);return b.fetchers.set(M,at),W({fetchers:new Map(b.fetchers)}),Fr(b,He,{submission:pe,isFetchActionRedirect:!0})}if(Dl(He)){Pa(M,x,He.error);return}if(ca(He))throw Yn(400,{type:"defer-action"});let rt=b.navigation.location||b.location,yt=yl(t.history,rt,se.signal),hi=d||c,Ii=b.navigation.state!=="idle"?Rs(hi,b.navigation.location,m):b.matches;Ve(Ii,"Didn't find any matches after fetcher action");let Sn=++En;it.set(M,Sn);let wt=vl(pe,He.data);b.fetchers.set(M,wt);let[ht,Zt]=OE(t.history,b,Ii,pe,rt,qe,ct,Ut,Y,P,hi,m,{[ie.route.id]:He.data},void 0);Zt.filter(at=>at.key!==M).forEach(at=>{let zn=at.key,Tt=b.fetchers.get(zn),xu=vl(void 0,Tt?Tt.data:void 0);b.fetchers.set(zn,xu),Ce.has(zn)&&ei(zn),at.controller&&Ce.set(zn,at.controller)}),W({fetchers:new Map(b.fetchers)});let nr=()=>Zt.forEach(at=>ei(at.key));se.signal.addEventListener("abort",nr);let{results:_o,loaderResults:Eo,fetcherResults:La}=await Cu(b.matches,Ii,ht,Zt,yt);if(se.signal.aborted)return;se.signal.removeEventListener("abort",nr),it.delete(M),Ce.delete(M),Zt.forEach(at=>Ce.delete(at.key));let ke=UE(_o);if(ke){if(ke.idx>=ht.length){let at=Zt[ke.idx-ht.length].key;P.add(at)}return Fr(b,ke.result)}let{loaderData:pn,errors:gn}=VE(b,b.matches,ht,Eo,void 0,Zt,La,oe);if(b.fetchers.has(M)){let at=As(He.data);b.fetchers.set(M,at)}let fi=vo(Sn);b.navigation.state==="loading"&&Sn>fn?(Ve(H,"Expected pending action"),J&&J.abort(),Se(b.navigation.location,{matches:Ii,loaderData:pn,errors:gn,fetchers:new Map(b.fetchers)})):(W(dt({errors:gn,loaderData:PE(b.loaderData,pn,Ii,gn)},fi||Zt.length>0?{fetchers:new Map(b.fetchers)}:{})),qe=!1)}async function yo(M,x,q,ie,Ee,pe){let ye=b.fetchers.get(M),ce=vl(pe,ye?ye.data:void 0);b.fetchers.set(M,ce),W({fetchers:new Map(b.fetchers)});let se=new AbortController,Xe=yl(t.history,q,se.signal);Ce.set(M,se);let Nt=En,He=await gl("loader",Xe,ie,Ee,l,s,m);if(ca(He)&&(He=await kA(He,Xe.signal,!0)||He),Ce.get(M)===se&&Ce.delete(M),Xe.signal.aborted)return;if(Ds(He))if(fn>Nt){let yt=As(void 0);b.fetchers.set(M,yt),W({fetchers:new Map(b.fetchers)});return}else{P.add(M),await Fr(b,He);return}if(Dl(He)){let yt=bs(b.matches,x);b.fetchers.delete(M),W({fetchers:new Map(b.fetchers),errors:{[yt.route.id]:He.error}});return}Ve(!ca(He),"Unhandled fetcher deferred data");let rt=As(He.data);b.fetchers.set(M,rt),W({fetchers:new Map(b.fetchers)})}async function Fr(M,x,q){let{submission:ie,replace:Ee,isFetchActionRedirect:pe}=q===void 0?{}:q;x.revalidate&&(qe=!0);let ye=Ll(M.location,x.location,dt({_isRedirect:!0},pe?{_isFetchActionRedirect:!0}:{}));if(Ve(ye,"Expected a location on the redirect navigation"),xA.test(x.location)&&n){let Xe=t.history.createURL(x.location),Nt=Js(Xe.pathname,m)==null;if(e.location.origin!==Xe.origin||Nt){Ee?e.location.replace(x.location):e.location.assign(x.location);return}}J=null;let ce=Ee===!0?Vt.Replace:Vt.Push,se=ie||zE(M.navigation);if(RC.has(x.status)&&se&&ri(se.formMethod))await Ne(ce,ye,{submission:dt({},se,{formAction:x.location}),preventScrollReset:ne});else if(pe)await Ne(ce,ye,{overrideNavigation:Fc(ye),fetcherSubmission:se,preventScrollReset:ne});else{let Xe=Fc(ye,se);await Ne(ce,ye,{overrideNavigation:Xe,preventScrollReset:ne})}}async function Cu(M,x,q,ie,Ee){let pe=await Promise.all([...q.map(se=>gl("loader",Ee,se,x,l,s,m)),...ie.map(se=>se.matches&&se.match&&se.controller?gl("loader",yl(t.history,se.path,se.controller.signal),se.match,se.matches,l,s,m):{type:Pt.error,error:Yn(404,{pathname:se.path})})]),ye=pe.slice(0,q.length),ce=pe.slice(q.length);return await Promise.all([LE(M,q,ye,ye.map(()=>Ee.signal),!1,b.loaderData),LE(M,ie.map(se=>se.match),ce,ie.map(se=>se.controller?se.controller.signal:null),!0)]),{results:pe,loaderResults:ye,fetcherResults:ce}}function An(){qe=!0,ct.push(...Ln()),Y.forEach((M,x)=>{Ce.has(x)&&(Ut.push(x),ei(x))})}function Pa(M,x,q){let ie=bs(b.matches,x);ka(M),W({errors:{[ie.route.id]:q},fetchers:new Map(b.fetchers)})}function ka(M){let x=b.fetchers.get(M);Ce.has(M)&&!(x&&x.state==="loading"&&it.has(M))&&ei(M),Y.delete(M),it.delete(M),P.delete(M),b.fetchers.delete(M)}function ei(M){let x=Ce.get(M);Ve(x,"Expected fetch controller: "+M),x.abort(),Ce.delete(M)}function Gr(M){for(let x of M){let q=Hr(x),ie=As(q.data);b.fetchers.set(x,ie)}}function Du(){let M=[],x=!1;for(let q of P){let ie=b.fetchers.get(q);Ve(ie,"Expected fetcher: "+q),ie.state==="loading"&&(P.delete(q),M.push(q),x=!0)}return Gr(M),x}function vo(M){let x=[];for(let[q,ie]of it)if(ie<M){let Ee=b.fetchers.get(q);Ve(Ee,"Expected fetcher: "+q),Ee.state==="loading"&&(ei(q),it.delete(q),x.push(q))}return Gr(x),x.length>0}function Cf(M,x){let q=b.blockers.get(M)||pl;return Re.get(M)!==x&&Re.set(M,x),q}function Ou(M){b.blockers.delete(M),Re.delete(M)}function ci(M,x){let q=b.blockers.get(M)||pl;Ve(q.state==="unblocked"&&x.state==="blocked"||q.state==="blocked"&&x.state==="blocked"||q.state==="blocked"&&x.state==="proceeding"||q.state==="blocked"&&x.state==="unblocked"||q.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+x.state);let ie=new Map(b.blockers);ie.set(M,x),W({blockers:ie})}function Wt(M){let{currentLocation:x,nextLocation:q,historyAction:ie}=M;if(Re.size===0)return;Re.size>1&&Us(!1,"A router only supports one blocker at a time");let Ee=Array.from(Re.entries()),[pe,ye]=Ee[Ee.length-1],ce=b.blockers.get(pe);if(!(ce&&ce.state==="proceeding")&&ye({currentLocation:x,nextLocation:q,historyAction:ie}))return pe}function Ln(M){let x=[];return oe.forEach((q,ie)=>{(!M||M(ie))&&(q.cancel(),x.push(ie),oe.delete(ie))}),x}function mn(M,x,q){if(E=M,I=x,w=q||null,!k&&b.navigation===Hm){k=!0;let ie=Mu(b.location,b.matches);ie!=null&&W({restoreScrollPosition:ie})}return()=>{E=null,I=null,w=null}}function Nu(M,x){return w&&w(M,x.map(ie=>UC(ie,b.loaderData)))||M.key}function Df(M,x){if(E&&I){let q=Nu(M,x);E[q]=I()}}function Mu(M,x){if(E){let q=Nu(M,x),ie=E[q];if(typeof ie=="number")return ie}return null}function Ua(M){l={},d=gp(M,s,void 0,l)}return $={get basename(){return m},get state(){return b},get routes(){return c},initialize:j,subscribe:X,enableScrollRestoration:mn,navigate:fe,fetch:po,revalidate:mt,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:Hr,deleteFetcher:ka,dispose:ee,getBlocker:Cf,deleteBlocker:Ou,_internalFetchControllers:Ce,_internalActiveDeferreds:oe,_internalSetRoutes:Ua},$}function DC(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function yp(t,e,n,r,s,l,c){let d,m;if(l!=null&&c!=="path"){d=[];for(let g of e)if(d.push(g),g.route.id===l){m=g;break}}else d=e,m=e[e.length-1];let p=qh(s||".",su(d).map(g=>g.pathnameBase),Js(t.pathname,n)||t.pathname,c==="path");return s==null&&(p.search=t.search,p.hash=t.hash),(s==null||s===""||s===".")&&m&&m.route.index&&!cg(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Qi([n,p.pathname])),Ta(p)}function DE(t,e,n,r){if(!r||!DC(r))return{path:n};if(r.formMethod&&!kC(r.formMethod))return{path:n,error:Yn(405,{method:r.formMethod})};let s=()=>({path:n,error:Yn(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=t?l.toUpperCase():l.toLowerCase(),d=PA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ri(c))return s();let E=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,I)=>{let[k,V]=I;return""+w+k+"="+V+`
`},""):String(r.body);return{path:n,submission:{formMethod:c,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:E}}}else if(r.formEncType==="application/json"){if(!ri(c))return s();try{let E=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:d,formEncType:r.formEncType,formData:void 0,json:E,text:void 0}}}catch{return s()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let m,p;if(r.formData)m=vp(r.formData),p=r.formData;else if(r.body instanceof FormData)m=vp(r.body),p=r.body;else if(r.body instanceof URLSearchParams)m=r.body,p=xE(m);else if(r.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(r.body),p=xE(m)}catch{return s()}let g={formMethod:c,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ri(g.formMethod))return{path:n,submission:g};let _=zr(n);return e&&_.search&&cg(_.search)&&m.append("index",""),_.search="?"+m,{path:Ta(_),submission:g}}function OC(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function OE(t,e,n,r,s,l,c,d,m,p,g,_,E,w){let I=w?Object.values(w)[0]:E?Object.values(E)[0]:void 0,k=t.createURL(e.location),V=t.createURL(s),F=w?Object.keys(w)[0]:void 0,$=OC(n,F).filter((H,ne)=>{if(H.route.lazy)return!0;if(H.route.loader==null)return!1;if(NC(e.loaderData,e.matches[ne],H)||c.some(qe=>qe===H.route.id))return!0;let J=e.matches[ne],ze=H;return NE(H,dt({currentUrl:k,currentParams:J.params,nextUrl:V,nextParams:ze.params},r,{actionResult:I,defaultShouldRevalidate:l||k.pathname+k.search===V.pathname+V.search||k.search!==V.search||VA(J,ze)}))}),b=[];return m.forEach((H,ne)=>{if(!n.some(Ut=>Ut.route.id===H.routeId))return;let J=Rs(g,H.path,_);if(!J){b.push({key:ne,routeId:H.routeId,path:H.path,matches:null,match:null,controller:null});return}let ze=e.fetchers.get(ne),qe=_p(J,H.path),ct=!1;p.has(ne)?ct=!1:d.includes(ne)?ct=!0:ze&&ze.state!=="idle"&&ze.data===void 0?ct=l:ct=NE(qe,dt({currentUrl:k,currentParams:e.matches[e.matches.length-1].params,nextUrl:V,nextParams:n[n.length-1].params},r,{actionResult:I,defaultShouldRevalidate:l})),ct&&b.push({key:ne,routeId:H.routeId,path:H.path,matches:J,match:qe,controller:new AbortController})}),[$,b]}function NC(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function VA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function NE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function ME(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Ve(s,"No route found in manifest");let l={};for(let c in r){let m=s[c]!==void 0&&c!=="hasErrorBoundary";Us(!m,'Route "'+s.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!m&&!eC.has(c)&&(l[c]=r[c])}Object.assign(s,l),Object.assign(s,dt({},e(s),{lazy:void 0}))}async function gl(t,e,n,r,s,l,c,d){d===void 0&&(d={});let m,p,g,_=I=>{let k,V=new Promise((F,G)=>k=G);return g=()=>k(),e.signal.addEventListener("abort",g),Promise.race([I({request:e,params:n.params,context:d.requestContext}),V])};try{let I=n.route[t];if(n.route.lazy)if(I)p=(await Promise.all([_(I),ME(n.route,l,s)]))[0];else if(await ME(n.route,l,s),I=n.route[t],I)p=await _(I);else if(t==="action"){let k=new URL(e.url),V=k.pathname+k.search;throw Yn(405,{method:e.method,pathname:V,routeId:n.route.id})}else return{type:Pt.data,data:void 0};else if(I)p=await _(I);else{let k=new URL(e.url),V=k.pathname+k.search;throw Yn(404,{pathname:V})}Ve(p!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(I){m=Pt.error,p=I}finally{g&&e.signal.removeEventListener("abort",g)}if(PC(p)){let I=p.status;if(wC.has(I)){let F=p.headers.get("Location");if(Ve(F,"Redirects returned/thrown from loaders/actions must have a Location header"),!xA.test(F))F=yp(new URL(e.url),r.slice(0,r.indexOf(n)+1),c,!0,F);else if(!d.isStaticRequest){let G=new URL(e.url),$=F.startsWith("//")?new URL(G.protocol+F):new URL(F),b=Js($.pathname,c)!=null;$.origin===G.origin&&b&&(F=$.pathname+$.search+$.hash)}if(d.isStaticRequest)throw p.headers.set("Location",F),p;return{type:Pt.redirect,status:I,location:F,revalidate:p.headers.get("X-Remix-Revalidate")!==null}}if(d.isRouteRequest)throw{type:m||Pt.data,response:p};let k,V=p.headers.get("Content-Type");return V&&/\bapplication\/json\b/.test(V)?k=await p.json():k=await p.text(),m===Pt.error?{type:m,error:new ug(I,p.statusText,k),headers:p.headers}:{type:Pt.data,data:k,statusCode:p.status,headers:p.headers}}if(m===Pt.error)return{type:m,error:p};if(VC(p)){var E,w;return{type:Pt.deferred,deferredData:p,statusCode:(E=p.init)==null?void 0:E.status,headers:((w=p.init)==null?void 0:w.headers)&&new Headers(p.init.headers)}}return{type:Pt.data,data:p}}function yl(t,e,n,r){let s=t.createURL(PA(e)).toString(),l={signal:n};if(r&&ri(r.formMethod)){let{formMethod:c,formEncType:d}=r;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(r.json)):d==="text/plain"?l.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?l.body=vp(r.formData):l.body=r.formData}return new Request(s,l)}function vp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function xE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function MC(t,e,n,r,s){let l={},c=null,d,m=!1,p={};return n.forEach((g,_)=>{let E=e[_].route.id;if(Ve(!Ds(g),"Cannot handle redirect results in processLoaderData"),Dl(g)){let w=bs(t,E),I=g.error;r&&(I=Object.values(r)[0],r=void 0),c=c||{},c[w.route.id]==null&&(c[w.route.id]=I),l[E]=void 0,m||(m=!0,d=NA(g.error)?g.error.status:500),g.headers&&(p[E]=g.headers)}else ca(g)?(s.set(E,g.deferredData),l[E]=g.deferredData.data):l[E]=g.data,g.statusCode!=null&&g.statusCode!==200&&!m&&(d=g.statusCode),g.headers&&(p[E]=g.headers)}),r&&(c=r,l[Object.keys(r)[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:p}}function VE(t,e,n,r,s,l,c,d){let{loaderData:m,errors:p}=MC(e,n,r,s,d);for(let g=0;g<l.length;g++){let{key:_,match:E,controller:w}=l[g];Ve(c!==void 0&&c[g]!==void 0,"Did not find corresponding fetcher result");let I=c[g];if(!(w&&w.signal.aborted))if(Dl(I)){let k=bs(t.matches,E==null?void 0:E.route.id);p&&p[k.route.id]||(p=dt({},p,{[k.route.id]:I.error})),t.fetchers.delete(_)}else if(Ds(I))Ve(!1,"Unhandled fetcher revalidation redirect");else if(ca(I))Ve(!1,"Unhandled fetcher deferred data");else{let k=As(I.data);t.fetchers.set(_,k)}}return{loaderData:m,errors:p}}function PE(t,e,n,r){let s=dt({},e);for(let l of n){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(s[c]=e[c]):t[c]!==void 0&&l.route.loader&&(s[c]=t[c]),r&&r.hasOwnProperty(c))break}return s}function bs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function kE(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Yn(t,e){let{pathname:n,routeId:r,method:s,type:l}=e===void 0?{}:e,c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&n&&r?d="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":l==="defer-action"?d="defer() is not supported in actions":l==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d='Route "'+r+'" does not match URL "'+n+'"'):t===404?(c="Not Found",d='No route matches URL "'+n+'"'):t===405&&(c="Method Not Allowed",s&&n&&r?d="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(d='Invalid request method "'+s.toUpperCase()+'"')),new ug(t||500,c,new Error(d),!0)}function UE(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ds(n))return{result:n,idx:e}}}function PA(t){let e=typeof t=="string"?zr(t):t;return Ta(dt({},e,{hash:""}))}function xC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ca(t){return t.type===Pt.deferred}function Dl(t){return t.type===Pt.error}function Ds(t){return(t&&t.type)===Pt.redirect}function VC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kC(t){return SC.has(t.toLowerCase())}function ri(t){return TC.has(t.toLowerCase())}async function LE(t,e,n,r,s,l){for(let c=0;c<n.length;c++){let d=n[c],m=e[c];if(!m)continue;let p=t.find(_=>_.route.id===m.route.id),g=p!=null&&!VA(p,m)&&(l&&l[m.route.id])!==void 0;if(ca(d)&&(s||g)){let _=r[c];Ve(_,"Expected an AbortSignal for revalidating fetcher deferred result"),await kA(d,_,s).then(E=>{E&&(n[c]=E||n[c])})}}}async function kA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Pt.error,error:s}}return{type:Pt.data,data:t.deferredData.data}}}function cg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function UC(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function _p(t,e){let n=typeof e=="string"?zr(e).search:e.search;if(t[t.length-1].route.index&&cg(n||""))return t[t.length-1];let r=su(t);return r[r.length-1]}function zE(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:l,json:c}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:c,text:void 0}}}function Fc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function zC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function As(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ep.apply(this,arguments)}const Hh=Q.createContext(null),UA=Q.createContext(null),eo=Q.createContext(null),hg=Q.createContext(null),tr=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),LA=Q.createContext(null);function BC(t,e){let{relative:n}=e===void 0?{}:e;to()||Ve(!1);let{basename:r,navigator:s}=Q.useContext(eo),{hash:l,pathname:c,search:d}=BA(t,{relative:n}),m=c;return r!=="/"&&(m=c==="/"?r:Qi([r,c])),s.createHref({pathname:m,search:d,hash:l})}function to(){return Q.useContext(hg)!=null}function ou(){return to()||Ve(!1),Q.useContext(hg).location}function zA(t){Q.useContext(eo).static||Q.useLayoutEffect(t)}function no(){let{isDataRoute:t}=Q.useContext(tr);return t?eD():jC()}function jC(){to()||Ve(!1);let t=Q.useContext(Hh),{basename:e,navigator:n}=Q.useContext(eo),{matches:r}=Q.useContext(tr),{pathname:s}=ou(),l=JSON.stringify(su(r).map(m=>m.pathnameBase)),c=Q.useRef(!1);return zA(()=>{c.current=!0}),Q.useCallback(function(m,p){if(p===void 0&&(p={}),!c.current)return;if(typeof m=="number"){n.go(m);return}let g=qh(m,JSON.parse(l),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,s,t])}const qC=Q.createContext(null);function HC(t){let e=Q.useContext(tr).outlet;return e&&Q.createElement(qC.Provider,{value:t},e)}function BA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Q.useContext(tr),{pathname:s}=ou(),l=JSON.stringify(su(r).map(c=>c.pathnameBase));return Q.useMemo(()=>qh(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function FC(t,e,n){to()||Ve(!1);let{navigator:r}=Q.useContext(eo),{matches:s}=Q.useContext(tr),l=s[s.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=ou(),p;p=m;let g=p.pathname||"/",_=d==="/"?g:g.slice(d.length)||"/",E=Rs(t,{pathname:_});return YC(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Qi([d,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Qi([d,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n)}function GC(){let t=JC(),e=NA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:s},n):null,null)}const KC=Q.createElement(GC,null);class $C extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Q.createElement(tr.Provider,{value:this.props.routeContext},Q.createElement(LA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QC(t){let{routeContext:e,match:n,children:r}=t,s=Q.useContext(Hh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(tr.Provider,{value:e},r)}function YC(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let l=t,c=(r=n)==null?void 0:r.errors;if(c!=null){let d=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id]));d>=0||Ve(!1),l=l.slice(0,Math.min(l.length,d+1))}return l.reduceRight((d,m,p)=>{let g=m.route.id?c==null?void 0:c[m.route.id]:null,_=null;n&&(_=m.route.errorElement||KC);let E=e.concat(l.slice(0,p+1)),w=()=>{let I;return g?I=_:m.route.Component?I=Q.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=d,Q.createElement(QC,{match:m,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?Q.createElement($C,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var Tp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Tp||(Tp={}));var zl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(zl||(zl={}));function XC(t){let e=Q.useContext(Hh);return e||Ve(!1),e}function WC(t){let e=Q.useContext(UA);return e||Ve(!1),e}function ZC(t){let e=Q.useContext(tr);return e||Ve(!1),e}function jA(t){let e=ZC(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function JC(){var t;let e=Q.useContext(LA),n=WC(zl.UseRouteError),r=jA(zl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function eD(){let{router:t}=XC(Tp.UseNavigateStable),e=jA(zl.UseNavigateStable),n=Q.useRef(!1);return zA(()=>{n.current=!0}),Q.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ep({fromRouteId:e},l)))},[t,e])}const tD="startTransition",BE=HI[tD];function nD(t){let{fallbackElement:e,router:n,future:r}=t,[s,l]=Q.useState(n.state),{v7_startTransition:c}=r||{},d=Q.useCallback(_=>{c&&BE?BE(()=>l(_)):l(_)},[l,c]);Q.useLayoutEffect(()=>n.subscribe(d),[n,d]);let m=Q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,E,w)=>n.navigate(_,{state:E,preventScrollReset:w==null?void 0:w.preventScrollReset}),replace:(_,E,w)=>n.navigate(_,{replace:!0,state:E,preventScrollReset:w==null?void 0:w.preventScrollReset})}),[n]),p=n.basename||"/",g=Q.useMemo(()=>({router:n,navigator:m,static:!1,basename:p}),[n,m,p]);return Q.createElement(Q.Fragment,null,Q.createElement(Hh.Provider,{value:g},Q.createElement(UA.Provider,{value:s},Q.createElement(sD,{basename:p,location:s.location,navigationType:s.historyAction,navigator:m},s.initialized?Q.createElement(iD,{routes:n.routes,state:s}):e))),null)}function iD(t){let{routes:e,state:n}=t;return FC(e,void 0,n)}function rD(t){let{to:e,replace:n,state:r,relative:s}=t;to()||Ve(!1);let{matches:l}=Q.useContext(tr),{pathname:c}=ou(),d=no(),m=qh(e,su(l).map(g=>g.pathnameBase),c,s==="path"),p=JSON.stringify(m);return Q.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function aD(t){return HC(t.context)}function sD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vt.Pop,navigator:l,static:c=!1}=t;to()&&Ve(!1);let d=e.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:l,static:c}),[d,l,c]);typeof r=="string"&&(r=zr(r));let{pathname:p="/",search:g="",hash:_="",state:E=null,key:w="default"}=r,I=Q.useMemo(()=>{let k=Js(p,d);return k==null?null:{location:{pathname:k,search:g,hash:_,state:E,key:w},navigationType:s}},[d,p,g,_,E,w,s]);return I==null?null:Q.createElement(eo.Provider,{value:m},Q.createElement(hg.Provider,{children:n,value:I}))}var jE;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(jE||(jE={}));new Promise(()=>{});function oD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Q.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Q.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}function lD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,l;for(l=0;l<r.length;l++)s=r[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function uD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cD(t,e){return t.button===0&&(!e||e==="_self")&&!uD(t)}const hD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function fD(t,e){return CC({basename:void 0,future:Bl({},void 0,{v7_prependBasename:!0}),history:WI({window:void 0}),hydrationData:dD(),routes:t,mapRouteProperties:oD}).initialize()}function dD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Bl({},e,{errors:mD(e.errors)})),e}function mD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new ug(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",n[r]=c}catch{}}if(n[r]==null){let l=new Error(s.message);l.stack="",n[r]=l}}else n[r]=s;return n}const pD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=Q.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:g}=e,_=lD(e,hD),{basename:E}=Q.useContext(eo),w,I=!1;if(typeof p=="string"&&gD.test(p)&&(w=p,pD))try{let G=new URL(window.location.href),$=p.startsWith("//")?new URL(G.protocol+p):new URL(p),b=Js($.pathname,E);$.origin===G.origin&&b!=null?p=b+$.search+$.hash:I=!0}catch{}let k=BC(p,{relative:s}),V=yD(p,{replace:c,state:d,target:m,preventScrollReset:g,relative:s});function F(G){r&&r(G),G.defaultPrevented||V(G)}return Q.createElement("a",Bl({},_,{href:w||k,onClick:I||l?r:F,ref:n,target:m}))});var qE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(qE||(qE={}));var HE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(HE||(HE={}));function yD(t,e){let{target:n,replace:r,state:s,preventScrollReset:l,relative:c}=e===void 0?{}:e,d=no(),m=ou(),p=BA(t,{relative:c});return Q.useCallback(g=>{if(cD(g,n)){g.preventDefault();let _=r!==void 0?r:Ta(m)===Ta(p);d(t,{replace:_,state:s,preventScrollReset:l,relative:c})}},[m,d,p,r,s,n,t,l,c])}var sn=function(){return sn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},sn.apply(this,arguments)};function fg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jl(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,l;r<s;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var st="-ms-",Nl="-moz-",Ke="-webkit-",qA="comm",Fh="rule",dg="decl",vD="@import",HA="@keyframes",_D="@layer",FA=Math.abs,mg=String.fromCharCode,Ap=Object.assign;function ED(t,e){return qt(t,0)^45?(((e<<2^qt(t,0))<<2^qt(t,1))<<2^qt(t,2))<<2^qt(t,3):0}function GA(t){return t.trim()}function Hi(t,e){return(t=e.exec(t))?t[0]:t}function Ie(t,e,n){return t.replace(e,n)}function nh(t,e,n){return t.indexOf(e,n)}function qt(t,e){return t.charCodeAt(e)|0}function Ls(t,e,n){return t.slice(e,n)}function vi(t){return t.length}function KA(t){return t.length}function Tl(t,e){return e.push(t),t}function TD(t,e){return t.map(e).join("")}function FE(t,e){return t.filter(function(n){return!Hi(n,e)})}var Gh=1,zs=1,$A=0,Zn=0,Dt=0,io="";function Kh(t,e,n,r,s,l,c,d){return{value:t,root:e,parent:n,type:r,props:s,children:l,line:Gh,column:zs,length:c,return:"",siblings:d}}function br(t,e){return Ap(Kh("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Es(t){for(;t.root;)t=br(t.root,{children:[t]});Tl(t,t.siblings)}function AD(){return Dt}function SD(){return Dt=Zn>0?qt(io,--Zn):0,zs--,Dt===10&&(zs=1,Gh--),Dt}function si(){return Dt=Zn<$A?qt(io,Zn++):0,zs++,Dt===10&&(zs=1,Gh++),Dt}function ya(){return qt(io,Zn)}function ih(){return Zn}function $h(t,e){return Ls(io,t,e)}function Sp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wD(t){return Gh=zs=1,$A=vi(io=t),Zn=0,[]}function RD(t){return io="",t}function Fm(t){return GA($h(Zn-1,wp(t===91?t+2:t===40?t+1:t)))}function bD(t){for(;(Dt=ya())&&Dt<33;)si();return Sp(t)>2||Sp(Dt)>3?"":" "}function ID(t,e){for(;--e&&si()&&!(Dt<48||Dt>102||Dt>57&&Dt<65||Dt>70&&Dt<97););return $h(t,ih()+(e<6&&ya()==32&&si()==32))}function wp(t){for(;si();)switch(Dt){case t:return Zn;case 34:case 39:t!==34&&t!==39&&wp(Dt);break;case 40:t===41&&wp(t);break;case 92:si();break}return Zn}function CD(t,e){for(;si()&&t+Dt!==57;)if(t+Dt===84&&ya()===47)break;return"/*"+$h(e,Zn-1)+"*"+mg(t===47?t:si())}function DD(t){for(;!Sp(ya());)si();return $h(t,Zn)}function OD(t){return RD(rh("",null,null,null,[""],t=wD(t),0,[0],t))}function rh(t,e,n,r,s,l,c,d,m){for(var p=0,g=0,_=c,E=0,w=0,I=0,k=1,V=1,F=1,G=0,$="",b=s,H=l,ne=r,J=$;V;)switch(I=G,G=si()){case 40:if(I!=108&&qt(J,_-1)==58){nh(J+=Ie(Fm(G),"&","&\f"),"&\f",FA(p?d[p-1]:0))!=-1&&(F=-1);break}case 34:case 39:case 91:J+=Fm(G);break;case 9:case 10:case 13:case 32:J+=bD(I);break;case 92:J+=ID(ih()-1,7);continue;case 47:switch(ya()){case 42:case 47:Tl(ND(CD(si(),ih()),e,n,m),m);break;default:J+="/"}break;case 123*k:d[p++]=vi(J)*F;case 125*k:case 59:case 0:switch(G){case 0:case 125:V=0;case 59+g:F==-1&&(J=Ie(J,/\f/g,"")),w>0&&vi(J)-_&&Tl(w>32?KE(J+";",r,n,_-1,m):KE(Ie(J," ","")+";",r,n,_-2,m),m);break;case 59:J+=";";default:if(Tl(ne=GE(J,e,n,p,g,s,d,$,b=[],H=[],_,l),l),G===123)if(g===0)rh(J,e,ne,ne,b,l,_,d,H);else switch(E===99&&qt(J,3)===110?100:E){case 100:case 108:case 109:case 115:rh(t,ne,ne,r&&Tl(GE(t,ne,ne,0,0,s,d,$,s,b=[],_,H),H),s,H,_,d,r?b:H);break;default:rh(J,ne,ne,ne,[""],H,0,d,H)}}p=g=w=0,k=F=1,$=J="",_=c;break;case 58:_=1+vi(J),w=I;default:if(k<1){if(G==123)--k;else if(G==125&&k++==0&&SD()==125)continue}switch(J+=mg(G),G*k){case 38:F=g>0?1:(J+="\f",-1);break;case 44:d[p++]=(vi(J)-1)*F,F=1;break;case 64:ya()===45&&(J+=Fm(si())),E=ya(),g=_=vi($=J+=DD(ih())),G++;break;case 45:I===45&&vi(J)==2&&(k=0)}}return l}function GE(t,e,n,r,s,l,c,d,m,p,g,_){for(var E=s-1,w=s===0?l:[""],I=KA(w),k=0,V=0,F=0;k<r;++k)for(var G=0,$=Ls(t,E+1,E=FA(V=c[k])),b=t;G<I;++G)(b=GA(V>0?w[G]+" "+$:Ie($,/&\f/g,w[G])))&&(m[F++]=b);return Kh(t,e,n,s===0?Fh:d,m,p,g,_)}function ND(t,e,n,r){return Kh(t,e,n,qA,mg(AD()),Ls(t,2,-2),0,r)}function KE(t,e,n,r,s){return Kh(t,e,n,dg,Ls(t,0,r),Ls(t,r+1,-1),r,s)}function QA(t,e,n){switch(ED(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 4789:return Nl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+Nl+t+st+t+t;case 5936:switch(qt(t,e+11)){case 114:return Ke+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+st+Ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ke+t+st+t+t;case 6165:return Ke+t+st+"flex-"+t+t;case 5187:return Ke+t+Ie(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+st+"flex-$1$2")+t;case 5443:return Ke+t+st+"flex-item-"+Ie(t,/flex-|-self/g,"")+(Hi(t,/flex-|baseline/)?"":st+"grid-row-"+Ie(t,/flex-|-self/g,""))+t;case 4675:return Ke+t+st+"flex-line-pack"+Ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ke+t+st+Ie(t,"shrink","negative")+t;case 5292:return Ke+t+st+Ie(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ie(t,"-grow","")+Ke+t+st+Ie(t,"grow","positive")+t;case 4554:return Ke+Ie(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ie(Ie(Ie(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ie(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ie(Ie(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4200:if(!Hi(t,/flex-|baseline/))return st+"grid-column-align"+Ls(t,e)+t;break;case 2592:case 3360:return st+Ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,Hi(r.props,/grid-\w+-end/)})?~nh(t+(n=n[e].value),"span",0)?t:st+Ie(t,"-start","")+t+st+"grid-row-span:"+(~nh(n,"span",0)?Hi(n,/\d+/):+Hi(n,/\d+/)-+Hi(t,/\d+/))+";":st+Ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Hi(r.props,/grid-\w+-start/)})?t:st+Ie(Ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ie(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vi(t)-1-e>6)switch(qt(t,e+1)){case 109:if(qt(t,e+4)!==45)break;case 102:return Ie(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+Nl+(qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~nh(t,"stretch",0)?QA(Ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,l,c,d,m,p){return st+s+":"+l+p+(c?st+s+"-span:"+(d?m:+m-+l)+p:"")+t});case 4949:if(qt(t,e+6)===121)return Ie(t,":",":"+Ke)+t;break;case 6444:switch(qt(t,qt(t,14)===45?18:11)){case 120:return Ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ke+(qt(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+st+"$2box$3")+t;case 100:return Ie(t,":",":"+st)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ie(t,"scroll-","scroll-snap-")+t}return t}function mh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function MD(t,e,n,r){switch(t.type){case _D:if(t.children.length)break;case vD:case dg:return t.return=t.return||t.value;case qA:return"";case HA:return t.return=t.value+"{"+mh(t.children,r)+"}";case Fh:if(!vi(t.value=t.props.join(",")))return""}return vi(n=mh(t.children,r))?t.return=t.value+"{"+n+"}":""}function xD(t){var e=KA(t);return function(n,r,s,l){for(var c="",d=0;d<e;d++)c+=t[d](n,r,s,l)||"";return c}}function VD(t){return function(e){e.root||(e=e.return)&&t(e)}}function PD(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case dg:t.return=QA(t.value,t.length,n);return;case HA:return mh([br(t,{value:Ie(t.value,"@","@"+Ke)})],r);case Fh:if(t.length)return TD(n=t.props,function(s){switch(Hi(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Es(br(t,{props:[Ie(s,/:(read-\w+)/,":"+Nl+"$1")]})),Es(br(t,{props:[s]})),Ap(t,{props:FE(n,r)});break;case"::placeholder":Es(br(t,{props:[Ie(s,/:(plac\w+)/,":"+Ke+"input-$1")]})),Es(br(t,{props:[Ie(s,/:(plac\w+)/,":"+Nl+"$1")]})),Es(br(t,{props:[Ie(s,/:(plac\w+)/,st+"input-$1")]})),Es(br(t,{props:[s]})),Ap(t,{props:FE(n,r)});break}return""})}}var kD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pn={},Bs=typeof process<"u"&&Pn!==void 0&&(Pn.REACT_APP_SC_ATTR||Pn.SC_ATTR)||"data-styled",pg=typeof window<"u"&&"HTMLElement"in window,UD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==""?Pn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Pn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.SC_DISABLE_SPEEDY!==void 0&&Pn.SC_DISABLE_SPEEDY!==""&&Pn.SC_DISABLE_SPEEDY!=="false"&&Pn.SC_DISABLE_SPEEDY),LD={},Qh=Object.freeze([]),js=Object.freeze({});function YA(t,e,n){return n===void 0&&(n=js),t.theme!==n.theme&&t.theme||e||n.theme}var XA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),zD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,BD=/(^-|-$)/g;function $E(t){return t.replace(zD,"-").replace(BD,"")}var jD=/(a)(d)/gi,QE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Rp(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=QE(e%52)+n;return(QE(e%52)+n).replace(jD,"$1-$2")}var Gm,Is=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},WA=function(t){return Is(5381,t)};function ZA(t){return Rp(WA(t)>>>0)}function qD(t){return t.displayName||t.name||"Component"}function Km(t){return typeof t=="string"&&!0}var JA=typeof Symbol=="function"&&Symbol.for,eS=JA?Symbol.for("react.memo"):60115,HD=JA?Symbol.for("react.forward_ref"):60112,FD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KD=((Gm={})[HD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gm[eS]=tS,Gm);function YE(t){return("type"in(e=t)&&e.type.$$typeof)===eS?tS:"$$typeof"in t?KD[t.$$typeof]:FD;var e}var $D=Object.defineProperty,QD=Object.getOwnPropertyNames,XE=Object.getOwnPropertySymbols,YD=Object.getOwnPropertyDescriptor,XD=Object.getPrototypeOf,WE=Object.prototype;function nS(t,e,n){if(typeof e!="string"){if(WE){var r=XD(e);r&&r!==WE&&nS(t,r,n)}var s=QD(e);XE&&(s=s.concat(XE(e)));for(var l=YE(t),c=YE(e),d=0;d<s.length;++d){var m=s[d];if(!(m in GD||n&&n[m]||c&&m in c||l&&m in l)){var p=YD(e,m);try{$D(t,m,p)}catch{}}}}return t}function qs(t){return typeof t=="function"}function gg(t){return typeof t=="object"&&"styledComponentId"in t}function ha(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function bp(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ql(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Ip(t,e,n){if(n===void 0&&(n=!1),!n&&!ql(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Ip(t[r],e[r]);else if(ql(e))for(var r in e)t[r]=Ip(t[r],e[r]);return t}function yg(t,e){Object.defineProperty(t,"toString",{value:e})}function lu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var WD=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,l=s;e>=l;)if((l<<=1)<0)throw lu(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(r),this.length=l;for(var c=s;c<l;c++)this.groupSizes[c]=0}for(var d=this.indexOfGroup(e+1),m=(c=0,n.length);c<m;c++)this.tag.insertRule(d,n[c])&&(this.groupSizes[e]++,d++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var l=r;l<s;l++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),l=s+r,c=s;c<l;c++)n+="".concat(this.tag.getRule(c)).concat(`/*!sc*/
`);return n},t}(),ah=new Map,ph=new Map,$m=1,Gc=function(t){if(ah.has(t))return ah.get(t);for(;ph.has($m);)$m++;var e=$m++;return ah.set(t,e),ph.set(e,t),e},ZD=function(t,e){ah.set(t,e),ph.set(e,t)},JD="style[".concat(Bs,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),eO=new RegExp("^".concat(Bs,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),tO=function(t,e,n){for(var r,s=n.split(","),l=0,c=s.length;l<c;l++)(r=s[l])&&t.registerName(e,r)},nO=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),s=[],l=0,c=r.length;l<c;l++){var d=r[l].trim();if(d){var m=d.match(eO);if(m){var p=0|parseInt(m[1],10),g=m[2];p!==0&&(ZD(g,p),tO(t,g,m[3]),t.getTag().insertRules(p,s)),s.length=0}else s.push(d)}}};function iO(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var iS=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(d){var m=Array.from(d.querySelectorAll("style[".concat(Bs,"]")));return m[m.length-1]}(n),l=s!==void 0?s.nextSibling:null;r.setAttribute(Bs,"active"),r.setAttribute("data-styled-version","6.0.7");var c=iO();return c&&r.setAttribute("nonce",c),n.insertBefore(r,l),r},rO=function(){function t(e){this.element=iS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,l=r.length;s<l;s++){var c=r[s];if(c.ownerNode===n)return c}throw lu(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),aO=function(){function t(e){this.element=iS(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),sO=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),ZE=pg,oO={isServer:!pg,useCSSOMInjection:!UD},gh=function(){function t(e,n,r){e===void 0&&(e=js),n===void 0&&(n={});var s=this;this.options=sn(sn({},oO),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&pg&&ZE&&(ZE=!1,function(l){for(var c=document.querySelectorAll(JD),d=0,m=c.length;d<m;d++){var p=c[d];p&&p.getAttribute(Bs)!=="active"&&(nO(l,p),p.parentNode&&p.parentNode.removeChild(p))}}(this)),yg(this,function(){return function(l){for(var c=l.getTag(),d=c.length,m="",p=function(_){var E=function(F){return ph.get(F)}(_);if(E===void 0)return"continue";var w=l.names.get(E),I=c.getGroup(_);if(w===void 0||I.length===0)return"continue";var k="".concat(Bs,".g").concat(_,'[id="').concat(E,'"]'),V="";w!==void 0&&w.forEach(function(F){F.length>0&&(V+="".concat(F,","))}),m+="".concat(I).concat(k,'{content:"').concat(V,'"}').concat(`/*!sc*/
`)},g=0;g<d;g++)p(g);return m}(s)})}return t.registerId=function(e){return Gc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(sn(sn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new sO(s):r?new rO(s):new aO(s)}(this.options),new WD(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Gc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Gc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Gc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),lO=/&/g,uO=/^\s*\/\/.*$/gm;function rS(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=rS(n.children,e)),n})}function cO(t){var e,n,r,s=js,l=s.options,c=l===void 0?js:l,d=s.plugins,m=d===void 0?Qh:d,p=function(E,w,I){return I===n||I.startsWith(n)&&I.endsWith(n)&&I.replaceAll(n,"").length>0?".".concat(e):E},g=m.slice();g.push(function(E){E.type===Fh&&E.value.includes("&")&&(E.props[0]=E.props[0].replace(lO,n).replace(r,p))}),c.prefix&&g.push(PD),g.push(MD);var _=function(E,w,I,k){w===void 0&&(w=""),I===void 0&&(I=""),k===void 0&&(k="&"),e=k,n=w,r=new RegExp("\\".concat(n,"\\b"),"g");var V=E.replace(uO,""),F=OD(I||w?"".concat(I," ").concat(w," { ").concat(V," }"):V);c.namespace&&(F=rS(F,c.namespace));var G=[];return mh(F,xD(g.concat(VD(function($){return G.push($)})))),G};return _.hash=m.length?m.reduce(function(E,w){return w.name||lu(15),Is(E,w.name)},5381).toString():"",_}var hO=new gh,Cp=cO(),aS=Ei.createContext({shouldForwardProp:void 0,styleSheet:hO,stylis:Cp});aS.Consumer;Ei.createContext(void 0);function Dp(){return Q.useContext(aS)}var fO=function(){function t(e,n){var r=this;this.inject=function(s,l){l===void 0&&(l=Cp);var c=r.name+l.hash;s.hasNameForId(r.id,c)||s.insertRules(r.id,c,l(r.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,yg(this,function(){throw lu(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Cp),this.name+e.hash},t}(),dO=function(t){return t>="A"&&t<="Z"};function JE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;dO(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var sS=function(t){return t==null||t===!1||t===""},oS=function(t){var e,n,r=[];for(var s in t){var l=t[s];t.hasOwnProperty(s)&&!sS(l)&&(Array.isArray(l)&&l.isCss||qs(l)?r.push("".concat(JE(s),":"),l,";"):ql(l)?r.push.apply(r,jl(jl(["".concat(s," {")],oS(l),!1),["}"],!1)):r.push("".concat(JE(s),": ").concat((e=s,(n=l)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in kD||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Nr(t,e,n,r){if(sS(t))return[];if(gg(t))return[".".concat(t.styledComponentId)];if(qs(t)){if(!qs(l=t)||l.prototype&&l.prototype.isReactComponent||!e)return[t];var s=t(e);return Nr(s,e,n,r)}var l;return t instanceof fO?n?(t.inject(n,r),[t.getName(r)]):[t]:ql(t)?oS(t):Array.isArray(t)?Array.prototype.concat.apply(Qh,t.map(function(c){return Nr(c,e,n,r)})):[t.toString()]}function lS(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(qs(n)&&!gg(n))return!1}return!0}var mO=WA("6.0.7"),pO=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&lS(e),this.componentId=n,this.baseHash=Is(mO,n),this.baseStyle=r,gh.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=ha(s,this.staticRulesId);else{var l=bp(Nr(this.rules,e,n,r)),c=Rp(Is(this.baseHash,l)>>>0);if(!n.hasNameForId(this.componentId,c)){var d=r(l,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,d)}s=ha(s,c),this.staticRulesId=c}else{for(var m=Is(this.baseHash,r.hash),p="",g=0;g<this.rules.length;g++){var _=this.rules[g];if(typeof _=="string")p+=_;else if(_){var E=bp(Nr(_,e,n,r));m=Is(m,E),p+=E}}if(p){var w=Rp(m>>>0);n.hasNameForId(this.componentId,w)||n.insertRules(this.componentId,w,r(p,".".concat(w),void 0,this.componentId)),s=ha(s,w)}}return s},t}(),vg=Ei.createContext(void 0);vg.Consumer;var Qm={};function gO(t,e,n){var r=gg(t),s=t,l=!Km(t),c=e.attrs,d=c===void 0?Qh:c,m=e.componentId,p=m===void 0?function($,b){var H=typeof $!="string"?"sc":$E($);Qm[H]=(Qm[H]||0)+1;var ne="".concat(H,"-").concat(ZA("6.0.7"+H+Qm[H]));return b?"".concat(b,"-").concat(ne):ne}(e.displayName,e.parentComponentId):m,g=e.displayName;g===void 0&&function($){return Km($)?"styled.".concat($):"Styled(".concat(qD($),")")}(t);var _=e.displayName&&e.componentId?"".concat($E(e.displayName),"-").concat(e.componentId):e.componentId||p,E=r&&s.attrs?s.attrs.concat(d).filter(Boolean):d,w=e.shouldForwardProp;if(r&&s.shouldForwardProp){var I=s.shouldForwardProp;if(e.shouldForwardProp){var k=e.shouldForwardProp;w=function($,b){return I($,b)&&k($,b)}}else w=I}var V=new pO(n,_,r?s.componentStyle:void 0);function F($,b){return function(H,ne,J){var ze=H.attrs,qe=H.componentStyle,ct=H.defaultProps,Ut=H.foldedComponentIds,Ce=H.styledComponentId,En=H.target,fn=Ei.useContext(vg),it=Dp(),P=H.shouldForwardProp||it.shouldForwardProp,Y=function(X,W,Se){for(var fe,mt=sn(sn({},W),{className:void 0,theme:Se}),Ne=0;Ne<X.length;Ne+=1){var dn=qs(fe=X[Ne])?fe(mt):fe;for(var Tn in dn)mt[Tn]=Tn==="className"?ha(mt[Tn],dn[Tn]):Tn==="style"?sn(sn({},mt[Tn]),dn[Tn]):dn[Tn]}return W.className&&(mt.className=ha(mt.className,W.className)),mt}(ze,ne,YA(ne,fn,ct)||js),oe=Y.as||En,Re={};for(var A in Y)Y[A]===void 0||A[0]==="$"||A==="as"||A==="theme"||(A==="forwardedAs"?Re.as=Y.forwardedAs:P&&!P(A,oe)||(Re[A]=Y[A]));var j=function(X,W){var Se=Dp(),fe=X.generateAndInjectStyles(W,Se.styleSheet,Se.stylis);return fe}(qe,Y),ee=ha(Ut,Ce);return j&&(ee+=" "+j),Y.className&&(ee+=" "+Y.className),Re[Km(oe)&&!XA.has(oe)?"class":"className"]=ee,Re.ref=J,Q.createElement(oe,Re)}(G,$,b)}var G=Ei.forwardRef(F);return G.attrs=E,G.componentStyle=V,G.shouldForwardProp=w,G.foldedComponentIds=r?ha(s.foldedComponentIds,s.styledComponentId):"",G.styledComponentId=_,G.target=r?s.target:t,Object.defineProperty(G,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=r?function(b){for(var H=[],ne=1;ne<arguments.length;ne++)H[ne-1]=arguments[ne];for(var J=0,ze=H;J<ze.length;J++)Ip(b,ze[J],!0);return b}({},s.defaultProps,$):$}}),yg(G,function(){return".".concat(G.styledComponentId)}),l&&nS(G,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),G}function eT(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var tT=function(t){return Object.assign(t,{isCss:!0})};function _g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qs(t)||ql(t)){var r=t;return tT(Nr(eT(Qh,jl([r],e,!0))))}var s=t;return e.length===0&&s.length===1&&typeof s[0]=="string"?Nr(s):tT(Nr(eT(s,e)))}function Op(t,e,n){if(n===void 0&&(n=js),!e)throw lu(1,e);var r=function(s){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return t(e,n,_g.apply(void 0,jl([s],l,!1)))};return r.attrs=function(s){return Op(t,e,sn(sn({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return Op(t,e,sn(sn({},n),s))},r}var uS=function(t){return Op(gO,t)},et=uS;XA.forEach(function(t){et[t]=uS(t)});var yO=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=lS(e),gh.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,s){var l=s(bp(Nr(this.rules,n,r,s)),""),c=this.componentId+e;r.insertRules(c,c,l)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,s){e>2&&gh.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,s)},t}();function cS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=_g.apply(void 0,jl([t],e,!1)),s="sc-global-".concat(ZA(JSON.stringify(r))),l=new yO(r,s),c=function(m){var p=Dp(),g=Ei.useContext(vg),_=Ei.useRef(p.styleSheet.allocateGSInstance(s)).current;return p.styleSheet.server&&d(_,m,p.styleSheet,g,p.stylis),Ei.useLayoutEffect(function(){if(!p.styleSheet.server)return d(_,m,p.styleSheet,g,p.stylis),function(){return l.removeStyles(_,p.styleSheet)}},[_,m,p.styleSheet,g,p.stylis]),null};function d(m,p,g,_,E){if(l.isStatic)l.renderStyles(m,LD,g,E);else{var w=sn(sn({},p),{theme:YA(p,_,c.defaultProps)});l.renderStyles(m,w,g,E)}}return Ei.memo(c)}var nT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=t[n++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=t[n++],c=t[n++],d=t[n++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const l=t[s],c=s+1<t.length,d=c?t[s+1]:0,m=s+2<t.length,p=m?t[s+2]:0,g=l>>2,_=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,w=p&63;m||(w=64,c||(E=64)),r.push(n[g],n[_],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const l=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,l==null||d==null||p==null||_==null)throw new _O;const E=l<<2|d>>4;if(r.push(E),p!==64){const w=d<<4&240|p>>2;if(r.push(w),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EO=function(t){const e=hS(t);return fS.encodeByteArray(e,!0)},yh=function(t){return EO(t).replace(/\./g,"")},dS=function(t){try{return fS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=()=>TO().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof nT>"u")return;const t=nT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return AO()||SO()||wO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RO=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pS=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},gS=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yh(JSON.stringify(n)),yh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function DO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MO(){try{return typeof indexedDB=="object"}catch{return!1}}function xO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VO,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?PO(l,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ui(s,d,r)}}function PO(t,e){return t.replace(kO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kO=/\{\$([^}]+)}/g;function UO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const l=t[s],c=e[s];if(iT(l)&&iT(c)){if(!vh(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,l]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LO(t,e){const n=new zO(t,e);return n.subscribe.bind(n)}class zO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ym),s.error===void 0&&(s.error=Ym),s.complete===void 0&&(s.complete=Ym);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Aa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qO(t){return t===ua?void 0:t}function HO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const GO={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},KO=je.INFO,$O={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},QO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$O[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tg{constructor(e){this.name=e,this._logLevel=KO,this._logHandler=QO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const YO=(t,e)=>e.some(n=>t instanceof n);let rT,aT;function XO(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return aT||(aT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yS=new WeakMap,Np=new WeakMap,vS=new WeakMap,Xm=new WeakMap,Ag=new WeakMap;function ZO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Mr(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&yS.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function JO(t){if(Np.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Np.set(t,e)}let Mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eN(t){Mp=t(Mp)}function tN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wm(this),e,...n);return vS.set(r,e.sort?e.sort():[e]),Mr(r)}:WO().includes(t)?function(...e){return t.apply(Wm(this),e),Mr(yS.get(this))}:function(...e){return Mr(t.apply(Wm(this),e))}}function nN(t){return typeof t=="function"?tN(t):(t instanceof IDBTransaction&&JO(t),YO(t,XO())?new Proxy(t,Mp):t)}function Mr(t){if(t instanceof IDBRequest)return ZO(t);if(Xm.has(t))return Xm.get(t);const e=nN(t);return e!==t&&(Xm.set(t,e),Ag.set(e,t)),e}const Wm=t=>Ag.get(t);function iN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(t,e),d=Mr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Mr(c.result),m.oldVersion,m.newVersion,Mr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const rN=["get","getKey","getAll","getAllKeys","count"],aN=["put","add","delete","clear"],Zm=new Map;function sT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&m.done]))[0]};return Zm.set(e,l),l}eN(t=>({...t,get:(e,n,r)=>sT(e,n)||t.get(e,n,r),has:(e,n)=>!!sT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",oT="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Tg("@firebase/app"),lN="@firebase/app-compat",uN="@firebase/analytics-compat",cN="@firebase/analytics",hN="@firebase/app-check-compat",fN="@firebase/app-check",dN="@firebase/auth",mN="@firebase/auth-compat",pN="@firebase/database",gN="@firebase/database-compat",yN="@firebase/functions",vN="@firebase/functions-compat",_N="@firebase/installations",EN="@firebase/installations-compat",TN="@firebase/messaging",AN="@firebase/messaging-compat",SN="@firebase/performance",wN="@firebase/performance-compat",RN="@firebase/remote-config",bN="@firebase/remote-config-compat",IN="@firebase/storage",CN="@firebase/storage-compat",DN="@firebase/firestore",ON="@firebase/firestore-compat",NN="firebase",MN="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",xN={[xp]:"fire-core",[lN]:"fire-core-compat",[cN]:"fire-analytics",[uN]:"fire-analytics-compat",[fN]:"fire-app-check",[hN]:"fire-app-check-compat",[dN]:"fire-auth",[mN]:"fire-auth-compat",[pN]:"fire-rtdb",[gN]:"fire-rtdb-compat",[yN]:"fire-fn",[vN]:"fire-fn-compat",[_N]:"fire-iid",[EN]:"fire-iid-compat",[TN]:"fire-fcm",[AN]:"fire-fcm-compat",[SN]:"fire-perf",[wN]:"fire-perf-compat",[RN]:"fire-rc",[bN]:"fire-rc-compat",[IN]:"fire-gcs",[CN]:"fire-gcs-compat",[DN]:"fire-fst",[ON]:"fire-fst-compat","fire-js":"fire-js",[NN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,Pp=new Map;function VN(t,e){try{t.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(Pp.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(const n of _h.values())VN(n,t);return!0}function Sg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xr=new uu("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=MN;function _S(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xr.create("bad-app-name",{appName:String(s)});if(n||(n=pS()),!n)throw xr.create("no-options");const l=_h.get(s);if(l){if(vh(n,l.options)&&vh(r,l.config))return l;throw xr.create("duplicate-app",{appName:s})}const c=new FO(s);for(const m of Pp.values())c.addComponent(m);const d=new kN(n,r,c);return _h.set(s,d),d}function ES(t=Vp){const e=_h.get(t);if(!e&&t===Vp&&pS())return _S();if(!e)throw xr.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let s=(r=xN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(d.join(" "));return}Hs(new Aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="firebase-heartbeat-database",LN=1,Hl="firebase-heartbeat-store";let Jm=null;function TS(){return Jm||(Jm=iN(UN,LN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hl)}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),Jm}async function zN(t){try{return await(await TS()).transaction(Hl).objectStore(Hl).get(AS(t))}catch(e){if(e instanceof ui)Sa.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function lT(t,e){try{const r=(await TS()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,AS(t)),await r.done}catch(n){if(n instanceof ui)Sa.warn(n.message);else{const r=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(r.message)}}}function AS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,jN=30*24*60*60*1e3;class qN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=jN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uT(),{heartbeatsToSend:n,unsentEntries:r}=HN(this._heartbeatsCache.heartbeats),s=yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function uT(){return new Date().toISOString().substring(0,10)}function HN(t,e=BN){const n=[];let r=t.slice();for(const s of t){const l=n.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),cT(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MO()?xO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cT(t){return yh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){Hs(new Aa("platform-logger",e=>new sN(e),"PRIVATE")),Hs(new Aa("heartbeat",e=>new qN(e),"PRIVATE")),Vr(xp,oT,t),Vr(xp,oT,"esm2017"),Vr("fire-js","")}GN("");var KN="firebase",$N="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(KN,$N,"app");function SS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QN=SS,wS=new uu("auth","Firebase",SS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Tg("@firebase/auth");function YN(t,...e){Eh.logLevel<=je.WARN&&Eh.warn(`Auth (${ro}): ${t}`,...e)}function sh(t,...e){Eh.logLevel<=je.ERROR&&Eh.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw wg(t,...e)}function Si(t,...e){return wg(t,...e)}function RS(t,e,n){const r=Object.assign(Object.assign({},QN()),{[e]:n});return new uu("auth","Firebase",r).create(e,{appName:t.name})}function XN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),RS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wS.create(t,...e)}function ve(t,e,...n){if(!t)throw wg(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function Xi(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WN(){return hT()==="http:"||hT()==="https:"}function hT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WN()||DO()||"connection"in navigator)?navigator.onLine:!0}function JN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=CO()||OO()}get(){return ZN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new hu(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Da(t,e,n,r,s={}){return IS(t,s,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=cu(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),bS.fetch()(CS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))})}async function IS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},eM),e);try{const s=new nM(t),l=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Kc(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Kc(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Kc(t,"user-disabled",c);const g=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw RS(t,g,p);Jn(t,g)}}catch(s){if(s instanceof ui)throw s;Jn(t,"network-request-failed",{message:String(s)})}}async function fu(t,e,n,r,s={}){const l=await Da(t,e,n,r,s);return"mfaPendingCredential"in l&&Jn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function CS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Rg(t.config,s):`${t.config.apiScheme}://${s}`}class nM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),tM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Si(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function rM(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aM(t,e=!1){const n=_n(t),r=await n.getIdToken(e),s=bg(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:Ml(ep(s.auth_time)),issuedAtTime:Ml(ep(s.iat)),expirationTime:Ml(ep(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ep(t){return Number(t)*1e3}function bg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=dS(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sM(t){const e=bg(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&oM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Fs(t,rM(n,{idToken:r}));ve(s==null?void 0:s.users.length,n,"internal-error");const l=s.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?hM(l.providerUserInfo):[],d=cM(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),g=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new DS(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function uM(t){const e=_n(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hM(t){return t.map(e=>{var{providerId:n}=e,r=fg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){const n=await IS(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=t.config,c=CS(t,s,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",bS.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:l}=await fM(e,n);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:l}=n,c=new Fl;return r&&(ve(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class va{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,l=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new DS(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Fs(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aM(this,e)}reload(){return uM(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Fs(this,iM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,l,c,d,m,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,w=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(d=n.tenantId)!==null&&d!==void 0?d:void 0,V=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,F=(p=n.createdAt)!==null&&p!==void 0?p:void 0,G=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:b,isAnonymous:H,providerData:ne,stsTokenManager:J}=n;ve($&&J,e,"internal-error");const ze=Fl.fromJSON(this.name,J);ve(typeof $=="string",e,"internal-error"),Rr(_,e.name),Rr(E,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof H=="boolean",e,"internal-error"),Rr(w,e.name),Rr(I,e.name),Rr(k,e.name),Rr(V,e.name),Rr(F,e.name),Rr(G,e.name);const qe=new va({uid:$,auth:e,email:E,emailVerified:b,displayName:_,isAnonymous:H,photoURL:I,phoneNumber:w,tenantId:k,stsTokenManager:ze,createdAt:F,lastLoginAt:G});return ne&&Array.isArray(ne)&&(qe.providerData=ne.map(ct=>Object.assign({},ct))),V&&(qe._redirectEventId=V),qe}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fl;s.updateFromServerResponse(n);const l=new va({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;function Ki(t){Xi(t instanceof Function,"Expected a class definition");let e=fT.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OS.type="NONE";const dT=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=oh(this.userKey,s.apiKey,l),this.fullPersistenceKey=oh("persistence",s.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Os(Ki(dT),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Ki(dT);const c=oh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(c);if(g){const _=va._fromJSON(e,g);p!==l&&(d=_),l=p;break}}catch{}const m=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Os(l,e,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Os(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PS(e))return"Blackberry";if(kS(e))return"Webos";if(Ig(e))return"Safari";if((e.includes("chrome/")||MS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NS(t=cn()){return/firefox\//i.test(t)}function Ig(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MS(t=cn()){return/crios\//i.test(t)}function xS(t=cn()){return/iemobile/i.test(t)}function VS(t=cn()){return/android/i.test(t)}function PS(t=cn()){return/blackberry/i.test(t)}function kS(t=cn()){return/webos/i.test(t)}function Yh(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dM(t=cn()){var e;return Yh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mM(){return NO()&&document.documentMode===10}function US(t=cn()){return Yh(t)||VS(t)||kS(t)||PS(t)||/windows phone/i.test(t)||xS(t)}function pM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e=[]){let n;switch(t){case"Browser":n=mT(cn());break;case"Worker":n=`${mT(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${r}`}async function zS(t,e){return Da(t,"GET","/v2/recaptchaConfig",ao(t,e))}function pT(t){return t!==void 0&&t.enterprise!==void 0}class BS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const l=Si("internal-error");l.customData=s,n(l)},r.type="text/javascript",r.charset="UTF-8",gM().appendChild(r)})}function yM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vM="https://www.google.com/recaptcha/enterprise.js?render=",_M="recaptcha-enterprise",EM="NO_RECAPTCHA";class qS{constructor(e){this.type=_M,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{zS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new BS(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function s(l,c,d){const m=window.grecaptcha;pT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(EM)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{r(this.auth).then(d=>{if(!n&&pT(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}jS(vM+d).then(()=>{s(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Ah(t,e,n,r=!1){const s=new qS(t);let l;try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c=Object.assign({},e);return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new TM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}async initializeRecaptchaConfig(){const e=await zS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new BS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new qS(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),c=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(c,this,"internal-error"),c.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return _n(t)}class gT{constructor(e){this.auth=e,this.observer=null,this.addObserver=LO(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=Sg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),l=n.getOptions();if(vh(l,e??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:e})}function wM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RM(t,e,n){const r=Oa(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=HS(e),{host:c,port:d}=bM(e),m=d===null?"":`:${d}`;r.config.emulator={url:`${l}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),IM()}function HS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bM(t){const e=HS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:yT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:yT(c)}}}function yT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function CM(t,e){return Da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function OM(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Cg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Ah(e,r,"signInWithPassword");return tp(e,s)}else return tp(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Ah(e,r,"signInWithPassword");return tp(e,l)}else return Promise.reject(s)});case"emailLink":return DM(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OM(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class wa extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,l=fg(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new wa(r,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ns(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ns(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ns(e,n)}buildRequest(){const e={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xM(t){const e=Al(Sl(t)).link,n=e?Al(Sl(e)).deep_link_id:null,r=Al(Sl(t)).deep_link_id;return(r?Al(Sl(r)).link:null)||r||n||e||t}class Dg{constructor(e){var n,r,s,l,c,d;const m=Al(Sl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,g=(r=m.oobCode)!==null&&r!==void 0?r:null,_=MM((s=m.mode)!==null&&s!==void 0?s:null);ve(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=xM(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return ve(r,"argument-error"),Gl._fromEmailAndCode(e,r.code,r.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends du{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends du{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends du{constructor(){super("twitter.com")}static credential(e,n){return wa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t,e){return fu(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const l=await va._fromIdTokenResponse(e,r,s),c=vT(r);return new Ra({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=vT(r);return new Ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function vT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ui{constructor(e,n,r,s){var l;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function FS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,l,e,r):l})}async function VM(t,e,n=!1){const r=await Fs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const l=await Fs(t,FS(r,s,e,t),n);ve(l.idToken,r,"internal-error");const c=bg(l.idToken);ve(c,r,"internal-error");const{sub:d}=c;return ve(t.uid===d,r,"user-mismatch"),Ra._forOperation(t,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,n=!1){const r="signIn",s=await FS(t,r,e),l=await Ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(l.user),l}async function kM(t,e){return GS(Oa(t),e)}async function UM(t,e,n){var r;const s=Oa(t),l={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let c;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const p=await Ah(s,l,"signUpPassword");c=np(s,p)}else c=np(s,l).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await Ah(s,l,"signUpPassword");return np(s,g)}else return Promise.reject(p)});const d=await c.catch(p=>Promise.reject(p)),m=await Ra._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function LM(t,e,n){return kM(_n(t),so.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return Da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_n(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Fs(r,zM(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function jM(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function qM(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){const t=cn();return Ig(t)||Yh(t)}const FM=1e3,GM=10;class $S extends KS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HM()&&pM(),this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(r);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);mM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$S.type="LOCAL";const KM=$S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends KS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QS.type="SESSION";const YS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:l}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await $M(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Ng("",20);s.port1.start();const g=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(g),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function YM(t){wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function XM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZM(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebaseLocalStorageDb",JM=1,Rh="firebaseLocalStorage",ZS="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function ex(){const t=indexedDB.deleteDatabase(WS);return new mu(t).toPromise()}function Up(){const t=indexedDB.open(WS,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:ZS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await ex(),e(await Up()))})})}async function _T(t,e,n){const r=Wh(t,!0).put({[ZS]:e,value:n});return new mu(r).toPromise()}async function tx(t,e){const n=Wh(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function ET(t,e){const n=Wh(t,!0).delete(e);return new mu(n).toPromise()}const nx=800,ix=3;class JS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ix)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XM(),!this.activeServiceWorker)return;this.sender=new QM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await _T(e,wh,"1"),await ET(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_T(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ET(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Wh(s,!1).getAll();return new mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JS.type="LOCAL";const rx=JS;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){return e?Ki(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ax(t){return GS(t.auth,new Mg(t),t.bypassAuthState)}function sx(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),PM(n,new Mg(t),t.bypassAuthState)}async function ox(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),VM(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ax;case"linkViaPopup":case"linkViaRedirect":return ox;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:Jn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new hu(2e3,1e4);async function ux(t,e,n){const r=Oa(t);XN(t,e,Og);const s=ew(r,n);return new fa(r,"signInViaPopup",e,s).executeNotNull()}class fa extends tw{constructor(e,n,r,s,l){super(e,n,s,l),this.provider=r,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lx.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="pendingRedirect",lh=new Map;class hx extends tw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fx(t,e){const n=px(e),r=mx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dx(t,e){lh.set(t._key(),e)}function mx(t){return Ki(t._redirectPersistence)}function px(t){return oh(cx,t.config.apiKey,t.name)}async function gx(t,e,n=!1){const r=Oa(t),s=ew(r,e),c=await new hx(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=10*60*1e3;class vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_x(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yx&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(e))}saveEventToCache(e){this.cachedEventUids.add(TT(e)),this.lastProcessedEventTime=Date.now()}}function TT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _x(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e={}){return Da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ax=/^https?/;async function Sx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ex(t);for(const n of e)try{if(wx(n))return}catch{}Jn(t,"unauthorized-domain")}function wx(t){const e=kp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Ax.test(n))return!1;if(Tx.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new hu(3e4,6e4);function AT(){const t=wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bx(t){return new Promise((e,n)=>{var r,s,l;function c(){AT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AT(),n(Si(t,"network-request-failed"))},timeout:Rx.get()})}if(!((s=(r=wi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=wi().gapi)===null||l===void 0)&&l.load)c();else{const d=yM("iframefcb");return wi()[d]=()=>{gapi.load?c():n(Si(t,"network-request-failed"))},jS(`https://apis.google.com/js/api.js?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw uh=null,e})}let uh=null;function Ix(t){return uh=uh||bx(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new hu(5e3,15e3),Dx="__/auth/iframe",Ox="emulator/auth/iframe",Nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xx(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,Ox):`https://${t.config.authDomain}/${Dx}`,r={apiKey:e.apiKey,appName:t.name,v:ro},s=Mx.get(t.config.apiHost);s&&(r.eid=s);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${cu(r).slice(1)}`}async function Vx(t){const e=await Ix(t),n=wi().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:xx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nx,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const c=Si(t,"network-request-failed"),d=wi().setTimeout(()=>{l(c)},Cx.get());function m(){wi().clearTimeout(d),s(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,Ux=600,Lx="_blank",zx="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bx(t,e,n,r=kx,s=Ux){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},Px),{width:r.toString(),height:s.toString(),top:l,left:c}),p=cn().toLowerCase();n&&(d=MS(p)?Lx:n),NS(p)&&(e=e||zx,m.scrollbars="yes");const g=Object.entries(m).reduce((E,[w,I])=>`${E}${w}=${I},`,"");if(dM(p)&&d!=="_self")return jx(e||"",d),new ST(null);const _=window.open(e||"",d,g);ve(_,t,"popup-blocked");try{_.focus()}catch{}return new ST(_)}function jx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="__/auth/handler",Hx="emulator/auth/handler",Fx=encodeURIComponent("fac");async function wT(t,e,n,r,s,l){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ro,eventId:s};if(e instanceof Og){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",UO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))c[g]=_}if(e instanceof du){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const m=await t._getAppCheckToken(),p=m?`#${Fx}=${encodeURIComponent(m)}`:"";return`${Gx(t)}?${cu(d).slice(1)}${p}`}function Gx({config:t}){return t.emulator?Rg(t,Hx):`https://${t.authDomain}/${qx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class Kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=gx,this._overrideRedirectResult=dx}async _openPopup(e,n,r,s){var l;Xi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await wT(e,n,r,kp(),s);return Bx(e,c,Ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const l=await wT(e,n,r,kp(),s);return YM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:l}=this.eventManagers[n];return s?Promise.resolve(s):(Xi(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vx(e),r=new vx(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[ip];c!==void 0&&n(!!c),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||Ig()||Yh()}}const $x=Kx;var RT="@firebase/auth",bT="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Xx(t){Hs(new Aa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LS(t)},p=new AM(r,s,l,m);return wM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new Aa("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new Qx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(RT,bT,Yx(t)),Vr(RT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=5*60,Zx=gS("authIdTokenMaxAge")||Wx;let IT=null;const Jx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zx)return;const s=n==null?void 0:n.token;IT!==s&&(IT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eV(t=ES()){const e=Sg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:$x,persistence:[rx,KM,YS]}),r=gS("authTokenSyncURL");if(r){const l=Jx(r);qM(n,l,()=>l(n.currentUser)),jM(n,c=>l(c))}const s=mS("auth");return s&&RM(n,`http://${s}`),n}Xx("Browser");var tV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,xg=xg||{},Te=tV||self;function Zh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function nV(t,e,n){return t.call.apply(t.bind,arguments)}function iV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?on=nV:on=iV,on.apply(null,arguments)}function $c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,l){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[s].apply(r,c)}}function Br(){this.s=this.s,this.o=this.o}var rV=0;Br.prototype.s=!1;Br.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),rV!=0)};Br.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function CT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zh(r)){const s=t.length||0,l=r.length||0;t.length=s+l;for(let c=0;c<l;c++)t[s+c]=r[c]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var aV=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Te.addEventListener("test",()=>{},e),Te.removeEventListener("test",()=>{},e)}catch{}return t}();function Kl(t){return/^[\s\xa0]*$/.test(t)}function ef(){var t=Te.navigator;return t&&(t=t.userAgent)?t:""}function _i(t){return ef().indexOf(t)!=-1}function Pg(t){return Pg[" "](t),t}Pg[" "]=function(){};function sV(t,e){var n=JV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var oV=_i("Opera"),Gs=_i("Trident")||_i("MSIE"),rw=_i("Edge"),Lp=rw||Gs,aw=_i("Gecko")&&!(ef().toLowerCase().indexOf("webkit")!=-1&&!_i("Edge"))&&!(_i("Trident")||_i("MSIE"))&&!_i("Edge"),lV=ef().toLowerCase().indexOf("webkit")!=-1&&!_i("Edge");function sw(){var t=Te.document;return t?t.documentMode:void 0}var zp;e:{var rp="",ap=function(){var t=ef();if(aw)return/rv:([^\);]+)(\)|;)/.exec(t);if(rw)return/Edge\/([\d\.]+)/.exec(t);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lV)return/WebKit\/(\S+)/.exec(t);if(oV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ap&&(rp=ap?ap[1]:""),Gs){var sp=sw();if(sp!=null&&sp>parseFloat(rp)){zp=String(sp);break e}}zp=rp}var Bp;if(Te.document&&Gs){var DT=sw();Bp=DT||parseInt(zp,10)||void 0}else Bp=void 0;var uV=Bp;function $l(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aw){e:{try{Pg(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$l.$.h.call(this)}}Ft($l,ln);var cV={2:"touch",3:"pen",4:"mouse"};$l.prototype.h=function(){$l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),hV=0;function fV(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++hV,this.fa=this.ia=!1}function nf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ow(t){const e={};for(const n in t)e[n]=t[n];return e}const OT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lw(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let l=0;l<OT.length;l++)n=OT[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function rf(t){this.src=t,this.g={},this.h=0}rf.prototype.add=function(t,e,n,r,s){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var c=qp(t,e,r,s);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new fV(e,this.src,l,!!r,s),e.ia=n,t.push(e)),e};function jp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=iw(r,e),l;(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qp(t,e,n,r){for(var s=0;s<t.length;++s){var l=t[s];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==r)return s}return-1}var Ug="closure_lm_"+(1e6*Math.random()|0),op={};function uw(t,e,n,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)uw(t,e[l],n,r,s);return null}return n=fw(n),t&&t[tf]?t.O(e,n,Jh(r)?!!r.capture:!1,s):mV(t,e,n,!1,r,s)}function mV(t,e,n,r,s,l){if(!e)throw Error("Invalid event type");var c=Jh(s)?!!s.capture:!!s,d=zg(t);if(d||(t[Ug]=d=new rf(t)),n=d.add(e,n,r,c,l),n.proxy)return n;if(r=pV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)aV||(s=c),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(hw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pV(){function t(n){return e.call(t.src,t.listener,n)}const e=gV;return t}function cw(t,e,n,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)cw(t,e[l],n,r,s);else r=Jh(r)?!!r.capture:!!r,n=fw(n),t&&t[tf]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=qp(l,n,r,s),-1<n&&(nf(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=zg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qp(e,n,r,s)),(n=-1<t?e[t]:null)&&Lg(n))}function Lg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[tf])jp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zg(e))?(jp(n,t),n.h==0&&(n.src=null,e[Ug]=null)):nf(t)}}}function hw(t){return t in op?op[t]:op[t]="on"+t}function gV(t,e){if(t.fa)t=!0;else{e=new $l(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Lg(t),t=n.call(r,e)}return t}function zg(t){return t=t[Ug],t instanceof rf?t:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fw(t){return typeof t=="function"?t:(t[lp]||(t[lp]=function(e){return t.handleEvent(e)}),t[lp])}function Ht(){Br.call(this),this.i=new rf(this),this.S=this,this.J=null}Ft(Ht,Br);Ht.prototype[tf]=!0;Ht.prototype.removeEventListener=function(t,e,n,r){cw(this,t,e,n,r)};function Xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var s=e;e=new ln(r,t),lw(e,s)}if(s=!0,n)for(var l=n.length-1;0<=l;l--){var c=e.g=n[l];s=Qc(c,r,!0,e)&&s}if(c=e.g=t,s=Qc(c,r,!0,e)&&s,s=Qc(c,r,!1,e)&&s,n)for(l=0;l<n.length;l++)c=e.g=n[l],s=Qc(c,r,!1,e)&&s}Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nf(n[r]);delete t.g[e],t.h--}}this.J=null};Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==n){var d=c.listener,m=c.la||c.src;c.ia&&jp(t.i,c),s=d.call(m,r)!==!1&&s}}return s&&!r.defaultPrevented}var Bg=Te.JSON.stringify;class yV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function vV(){var t=jg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class _V{constructor(){this.h=this.g=null}add(e,n){const r=dw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var dw=new yV(()=>new EV,t=>t.reset());class EV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function TV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function AV(t){Te.setTimeout(()=>{throw t},0)}let Ql,Yl=!1,jg=new _V,mw=()=>{const t=Te.Promise.resolve(void 0);Ql=()=>{t.then(SV)}};var SV=()=>{for(var t;t=vV();){try{t.h.call(t.g)}catch(n){AV(n)}var e=dw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yl=!1};function af(t,e){Ht.call(this),this.h=t||1,this.g=e||Te,this.j=on(this.qb,this),this.l=Date.now()}Ft(af,Ht);Z=af.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(qg(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){af.$.N.call(this),qg(this),delete this.g};function Hg(t,e,n){if(typeof t=="function")n&&(t=on(t,n));else if(t&&typeof t.handleEvent=="function")t=on(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Te.setTimeout(t,e||0)}function pw(t){t.g=Hg(()=>{t.g=null,t.i&&(t.i=!1,pw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wV extends Br{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pw(this)}N(){super.N(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xl(t){Br.call(this),this.h=t,this.g={}}Ft(Xl,Br);var NT=[];function gw(t,e,n,r){Array.isArray(n)||(n&&(NT[0]=n.toString()),n=NT);for(var s=0;s<n.length;s++){var l=uw(e,n[s],r||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function yw(t){kg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lg(e)},t),t.g={}}Xl.prototype.N=function(){Xl.$.N.call(this),yw(this)};Xl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sf(){this.g=!0}sf.prototype.Ea=function(){this.g=!1};function RV(t,e,n,r,s,l){t.info(function(){if(t.g)if(l)for(var c="",d=l.split("&"),m=0;m<d.length;m++){var p=d[m].split("=");if(1<p.length){var g=p[0];p=p[1];var _=g.split("_");c=2<=_.length&&_[1]=="type"?c+(g+"="+p+"&"):c+(g+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+c})}function bV(t,e,n,r,s,l,c){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+l+" "+c})}function Cs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CV(t,n)+(r?" "+r:"")})}function IV(t,e){t.info(function(){return"TIMEOUT: "+e})}sf.prototype.info=function(){};function CV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<s.length;c++)s[c]=""}}}}return Bg(n)}catch{return e}}var Na={},MT=null;function of(){return MT=MT||new Ht}Na.Ta="serverreachability";function vw(t){ln.call(this,Na.Ta,t)}Ft(vw,ln);function Wl(t){const e=of();Xt(e,new vw(e))}Na.STAT_EVENT="statevent";function _w(t,e){ln.call(this,Na.STAT_EVENT,t),this.stat=e}Ft(_w,ln);function vn(t){const e=of();Xt(e,new _w(e,t))}Na.Ua="timingevent";function Ew(t,e){ln.call(this,Na.Ua,t),this.size=e}Ft(Ew,ln);function pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){t()},e)}var lf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fg(){}Fg.prototype.h=null;function xT(t){return t.h||(t.h=t.i())}function Aw(){}var gu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gg(){ln.call(this,"d")}Ft(Gg,ln);function Kg(){ln.call(this,"c")}Ft(Kg,ln);var Hp;function uf(){}Ft(uf,Fg);uf.prototype.g=function(){return new XMLHttpRequest};uf.prototype.i=function(){return{}};Hp=new uf;function yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xl(this),this.P=DV,t=Lp?125:void 0,this.V=new af(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sw}function Sw(){this.i=null,this.g="",this.h=!1}var DV=45e3,Fp={},bh={};Z=yu.prototype;Z.setTimeout=function(t){this.P=t};function Gp(t,e,n){t.L=1,t.v=hf(Wi(e)),t.s=n,t.S=!0,ww(t,null)}function ww(t,e){t.G=Date.now(),vu(t),t.A=Wi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Mw(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Sw,t.g=Jw(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wV(on(t.Pa,t,t.g),t.O)),gw(t.U,t.g,"readystatechange",t.nb),e=t.I?ow(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wl(),RV(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&Ti(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const g=Ti(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>g)&&(g!=3||Lp||this.g&&(this.h.h||this.g.ja()||UT(this.g)))){this.J||g!=4||e==7||(e==8||0>=_?Wl(3):Wl(2)),cf(this);var n=this.g.da();this.ca=n;t:if(Rw(this)){var r=UT(this.g);t="";var s=r.length,l=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){da(this),xl(this);var c="";break t}this.h.i=new Te.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,bV(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,m=this.g;if((d=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kl(d)){var p=d;break t}}p=null}if(n=p)Cs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kp(this,n);else{this.i=!1,this.o=3,vn(12),da(this),xl(this);break e}}this.S?(bw(this,g,c),Lp&&this.i&&g==3&&(gw(this.U,this.V,"tick",this.mb),this.V.start())):(Cs(this.j,this.m,c,null),Kp(this,c)),g==4&&da(this),this.i&&!this.J&&(g==4?Yw(this.l,this):(this.i=!1,vu(this)))}else XV(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),da(this),xl(this)}}}catch{}finally{}};function Rw(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function bw(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=OV(t,n),s==bh){e==4&&(t.o=4,vn(14),r=!1),Cs(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Fp){t.o=4,vn(15),Cs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Cs(t.j,t.m,s,null),Kp(t,s);Rw(t)&&s!=bh&&s!=Fp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zg(e),e.M=!0,vn(11))):(Cs(t.j,t.m,n,"[Invalid Chunked Response]"),da(t),xl(t))}Z.mb=function(){if(this.g){var t=Ti(this.g),e=this.g.ja();this.C<e.length&&(cf(this),bw(this,t,e),this.i&&t!=4&&vu(this))}};function OV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?bh:(n=Number(e.substring(n,r)),isNaN(n)?Fp:(r+=1,r+n>e.length?bh:(e=e.slice(r,r+n),t.C=r+n,e)))}Z.cancel=function(){this.J=!0,da(this)};function vu(t){t.Y=Date.now()+t.P,Iw(t,t.P)}function Iw(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=pu(on(t.lb,t),e)}function cf(t){t.B&&(Te.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(IV(this.j,this.A),this.L!=2&&(Wl(),vn(17)),da(this),this.o=2,xl(this)):Iw(this,this.Y-t)};function xl(t){t.l.H==0||t.J||Yw(t.l,t)}function da(t){cf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qg(t.V),yw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$p(n.i,t))){if(!t.K&&$p(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Dh(n),mf(n);else break e;Wg(n),vn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=pu(on(n.ib,n),6e3));if(1>=Pw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ma(n,11)}else if((t.K||n.g==t)&&Dh(n),!Kl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let p=s[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const g=p[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const _=p[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const E=p[5];E!=null&&typeof E=="number"&&0<E&&(r=1.5*E,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const I=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var l=r.i;l.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&($g(l,l.h),l.h=null))}if(r.F){const k=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(r.Da=k,ot(r.I,r.F,k))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var c=t;if(r.wa=Zw(r,r.J?r.pa:null,r.Y),c.K){kw(r.i,c);var d=c,m=r.L;m&&d.setTimeout(m),d.B&&(cf(d),vu(d)),r.g=c}else $w(r);0<n.j.length&&pf(n)}else p[0]!="stop"&&p[0]!="close"||ma(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?ma(n,7):Xg(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}Wl(4)}catch{}}function NV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function MV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Cw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MV(t),r=NV(t),s=r.length,l=0;l<s;l++)e.call(void 0,r[l],n&&n[l],t)}var Dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var l=t[n].substring(0,r);s=t[n].substring(r+1)}else l=t[n];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function _a(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _a){this.h=t.h,Ih(this,t.j),this.s=t.s,this.g=t.g,Ch(this,t.m),this.l=t.l;var e=t.i,n=new Zl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VT(this,n),this.o=t.o}else t&&(e=String(t).match(Dw))?(this.h=!1,Ih(this,e[1]||"",!0),this.s=wl(e[2]||""),this.g=wl(e[3]||"",!0),Ch(this,e[4]),this.l=wl(e[5]||"",!0),VT(this,e[6]||"",!0),this.o=wl(e[7]||"")):(this.h=!1,this.i=new Zl(null,this.h))}_a.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rl(e,PT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Rl(e,PT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Rl(n,n.charAt(0)=="/"?kV:PV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rl(n,LV)),t.join("")};function Wi(t){return new _a(t)}function Ih(t,e,n){t.j=n?wl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VT(t,e,n){e instanceof Zl?(t.i=e,zV(t.i,t.h)):(n||(e=Rl(e,UV)),t.i=new Zl(e,t.h))}function ot(t,e,n){t.i.set(e,n)}function hf(t){return ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PT=/[#\/\?@]/g,PV=/[#\?:]/g,kV=/[#\?]/g,UV=/[#\?@]/g,LV=/#/g;function Zl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jr(t){t.g||(t.g=new Map,t.h=0,t.i&&xV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=Zl.prototype;Z.add=function(t,e){jr(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ow(t,e){jr(t),e=oo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Nw(t,e){return jr(t),e=oo(t,e),t.g.has(e)}Z.forEach=function(t,e){jr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Z.ta=function(){jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let l=0;l<s.length;l++)n.push(e[r])}return n};Z.Z=function(t){jr(this);let e=[];if(typeof t=="string")Nw(this,t)&&(e=e.concat(this.g.get(oo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return jr(this),this.i=null,t=oo(this,t),Nw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Mw(t,e,n){Ow(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),Vg(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const l=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=l;c[r]!==""&&(s+="="+encodeURIComponent(String(c[r]))),t.push(s)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zV(t,e){e&&!t.j&&(jr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Ow(this,r),Mw(this,s,n))},t)),t.j=e}var BV=class{constructor(t,e){this.g=t,this.map=e}};function xw(t){this.l=t||jV,Te.PerformanceNavigationTiming?(t=Te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Te.g&&Te.g.Ka&&Te.g.Ka()&&Te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jV=10;function Vw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Pw(t){return t.h?1:t.g?t.g.size:0}function $p(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $g(t,e){t.g?t.g.add(e):t.h=e}function kw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xw.prototype.cancel=function(){if(this.i=Uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Uw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vg(t.i)}var qV=class{stringify(t){return Te.JSON.stringify(t,void 0)}parse(t){return Te.JSON.parse(t,void 0)}};function HV(){this.g=new qV}function FV(t,e,n){const r=n||"";try{Cw(t,function(s,l){let c=s;Jh(s)&&(c=Bg(s)),e.push(r+l+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function GV(t,e){const n=new sf;if(Te.Image){const r=new Image;r.onload=$c(Yc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$c(Yc,n,r,"TestLoadImage: error",!1,e),r.onabort=$c(Yc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$c(Yc,n,r,"TestLoadImage: timeout",!1,e),Te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function _u(t){this.l=t.fc||null,this.j=t.ob||!1}Ft(_u,Fg);_u.prototype.g=function(){return new ff(this.l,this.j)};_u.prototype.i=function(t){return function(){return t}}({});function ff(t,e){Ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(ff,Ht);var Qg=0;Z=ff.prototype;Z.open=function(t,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=Qg};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Lw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eu(this):Jl(this),this.readyState==3&&Lw(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,Eu(this))};Z.Ya=function(t){this.g&&(this.response=t,Eu(this))};Z.ka=function(){this.g&&Eu(this)};function Eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var KV=Te.JSON.parse;function Et(t){Ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zw,this.L=this.M=!1}Ft(Et,Ht);var zw="",$V=/^https?$/i,QV=["POST","PUT"];Z=Et.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hp.g(),this.C=this.u?xT(this.u):xT(Hp),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){kT(this,l);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const l of r.keys())n.set(l,r.get(l));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),s=Te.FormData&&t instanceof Te.FormData,!(0<=iw(QV,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qw(this),0<this.B&&((this.L=YV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=Hg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){kT(this,l)}};function YV(t){return Gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof xg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))};function kT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bw(t),df(t)}function Bw(t){t.F||(t.F=!0,Xt(t,"complete"),Xt(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xt(this,"complete"),Xt(this,"abort"),df(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),df(this,!0)),Et.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?jw(this):this.kb())};Z.kb=function(){jw(this)};function jw(t){if(t.h&&typeof xg<"u"&&(!t.C[1]||Ti(t)!=4||t.da()!=2)){if(t.v&&Ti(t)==4)Hg(t.La,0,t);else if(Xt(t,"readystatechange"),Ti(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=c===0){var s=String(t.I).match(Dw)[1]||null;!s&&Te.self&&Te.self.location&&(s=Te.self.location.protocol.slice(0,-1)),r=!$V.test(s?s.toLowerCase():"")}n=r}if(n)Xt(t,"complete"),Xt(t,"success");else{t.m=6;try{var l=2<Ti(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",Bw(t)}}finally{df(t)}}}}function df(t,e){if(t.g){qw(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function qw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Te.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function Ti(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),KV(e)}};function UT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zw:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function XV(t){const e={};t=(t.g&&2<=Ti(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Kl(t[r]))continue;var n=TV(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[s]||[];e[s]=l,l.push(n)}dV(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Hw(t){let e="";return kg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ot(t,e,n))}function _l(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fw(t){this.Ga=0,this.j=[],this.l=new sf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_l("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_l("baseRetryDelayMs",5e3,t),this.hb=_l("retryDelaySeedMs",1e4,t),this.eb=_l("forwardChannelMaxRetries",2,t),this.xa=_l("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new xw(t&&t.concurrentRequestLimit),this.Ja=new HV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=Fw.prototype;Z.ra=8;Z.H=1;function Xg(t){if(Gw(t),t.H==3){var e=t.W++,n=Wi(t.I);if(ot(n,"SID",t.K),ot(n,"RID",e),ot(n,"TYPE","terminate"),Tu(t,n),e=new yu(t,t.l,e),e.L=2,e.v=hf(Wi(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon)try{n=Te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Te.Image&&(new Image().src=e.v,n=!0),n||(e.g=Jw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vu(e)}Ww(t)}function mf(t){t.g&&(Zg(t),t.g.cancel(),t.g=null)}function Gw(t){mf(t),t.u&&(Te.clearTimeout(t.u),t.u=null),Dh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Te.clearTimeout(t.m),t.m=null)}function pf(t){if(!Vw(t.i)&&!t.m){t.m=!0;var e=t.Na;Ql||mw(),Yl||(Ql(),Yl=!0),jg.add(e,t),t.C=0}}function WV(t,e){return Pw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pu(on(t.Na,t,e),Xw(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new yu(this,this.l,t);let l=this.s;if(this.U&&(l?(l=ow(l),lw(l,this.U)):l=this.U),this.o!==null||this.O||(s.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Kw(this,s,e),n=Wi(this.I),ot(n,"RID",t),ot(n,"CVER",22),this.F&&ot(n,"X-HTTP-Session-Id",this.F),Tu(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(Hw(l)))+"&"+e:this.o&&Yg(n,this.o,l)),$g(this.i,s),this.bb&&ot(n,"TYPE","init"),this.P?(ot(n,"$req",e),ot(n,"SID","null"),s.aa=!0,Gp(s,n,null)):Gp(s,n,e),this.H=2}}else this.H==3&&(t?LT(this,t):this.j.length==0||Vw(this.i)||LT(this))};function LT(t,e){var n;e?n=e.m:n=t.W++;const r=Wi(t.I);ot(r,"SID",t.K),ot(r,"RID",n),ot(r,"AID",t.V),Tu(t,r),t.o&&t.s&&Yg(r,t.o,t.s),n=new yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Kw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$g(t.i,n),Gp(n,r,e)}function Tu(t,e){t.na&&kg(t.na,function(n,r){ot(e,r,n)}),t.h&&Cw({},function(n,r){ot(e,r,n)})}function Kw(t,e,n){n=Math.min(t.j.length,n);var r=t.h?on(t.h.Va,t.h,t):null;e:{var s=t.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=s[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let d=!0;for(let m=0;m<n;m++){let p=s[m].g;const g=s[m].map;if(p-=l,0>p)l=Math.max(0,s[m].g-100),d=!1;else try{FV(g,c,"req"+p+"_")}catch{r&&r(g)}}if(d){r=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $w(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ql||mw(),Yl||(Ql(),Yl=!0),jg.add(e,t),t.A=0}}function Wg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pu(on(t.Ma,t),Xw(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,Qw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pu(on(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vn(10),mf(this),Qw(this))};function Zg(t){t.B!=null&&(Te.clearTimeout(t.B),t.B=null)}function Qw(t){t.g=new yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wi(t.wa);ot(e,"RID","rpc"),ot(e,"SID",t.K),ot(e,"AID",t.V),ot(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ot(e,"TO",t.qa),ot(e,"TYPE","xmlhttp"),Tu(t,e),t.o&&t.s&&Yg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hf(Wi(e)),n.s=null,n.S=!0,ww(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,mf(this),Wg(this),vn(19))};function Dh(t){t.v!=null&&(Te.clearTimeout(t.v),t.v=null)}function Yw(t,e){var n=null;if(t.g==e){Dh(t),Zg(t),t.g=null;var r=2}else if($p(t.i,e))n=e.F,kw(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=of(),Xt(r,new Ew(r,n)),pf(t)}else $w(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&WV(t,e)||r==2&&Wg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ma(t,5);break;case 4:ma(t,10);break;case 3:ma(t,6);break;default:ma(t,2)}}}function Xw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ma(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=on(t.pb,t);n||(n=new _a("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||Ih(n,"https"),hf(n)),GV(n.toString(),r)}else vn(2);t.H=0,t.h&&t.h.za(e),Ww(t),Gw(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vn(2)):(this.l.info("Failed to ping google.com"),vn(1))};function Ww(t){if(t.H=0,t.ma=[],t.h){const e=Uw(t.i);(e.length!=0||t.j.length!=0)&&(CT(t.ma,e),CT(t.ma,t.j),t.i.i.length=0,Vg(t.j),t.j.length=0),t.h.ya()}}function Zw(t,e,n){var r=n instanceof _a?Wi(n):new _a(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ch(r,r.m);else{var s=Te.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var l=new _a(null);r&&Ih(l,r),e&&(l.g=e),s&&Ch(l,s),n&&(l.l=n),r=l}return n=t.F,e=t.Da,n&&e&&ot(r,n,e),ot(r,"VER",t.ra),Tu(t,r),r}function Jw(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Et(new _u({ob:!0})):new Et(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function eR(){}Z=eR.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function Oh(){if(Gs&&!(10<=Number(uV)))throw Error("Environmental error: no available transport.")}Oh.prototype.g=function(t,e){return new Un(t,e)};function Un(t,e){Ht.call(this),this.g=new Fw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new lo(this)}Ft(Un,Ht);Un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Zw(t,null,t.Y),pf(t)};Un.prototype.close=function(){Xg(this.g)};Un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bg(t),t=n);e.j.push(new BV(e.fb++,t)),e.H==3&&pf(e)};Un.prototype.N=function(){this.g.h=null,delete this.j,Xg(this.g),delete this.g,Un.$.N.call(this)};function tR(t){Gg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(tR,Gg);function nR(){Kg.call(this),this.status=1}Ft(nR,Kg);function lo(t){this.g=t}Ft(lo,eR);lo.prototype.Ba=function(){Xt(this.g,"a")};lo.prototype.Aa=function(t){Xt(this.g,new tR(t))};lo.prototype.za=function(t){Xt(this.g,new nR)};lo.prototype.ya=function(){Xt(this.g,"b")};function ZV(){this.blockSize=-1}function oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ft(oi,ZV);oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function up(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var l=t.g[3],c=e+(l^n&(s^l))+r[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=l+(s^e&(n^s))+r[1]+3905402710&4294967295,l=e+(c<<12&4294967295|c>>>20),c=s+(n^l&(e^n))+r[2]+606105819&4294967295,s=l+(c<<17&4294967295|c>>>15),c=n+(e^s&(l^e))+r[3]+3250441966&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(l^n&(s^l))+r[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(s^e&(n^s))+r[5]+1200080426&4294967295,l=e+(c<<12&4294967295|c>>>20),c=s+(n^l&(e^n))+r[6]+2821735955&4294967295,s=l+(c<<17&4294967295|c>>>15),c=n+(e^s&(l^e))+r[7]+4249261313&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(l^n&(s^l))+r[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(s^e&(n^s))+r[9]+2336552879&4294967295,l=e+(c<<12&4294967295|c>>>20),c=s+(n^l&(e^n))+r[10]+4294925233&4294967295,s=l+(c<<17&4294967295|c>>>15),c=n+(e^s&(l^e))+r[11]+2304563134&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(l^n&(s^l))+r[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(s^e&(n^s))+r[13]+4254626195&4294967295,l=e+(c<<12&4294967295|c>>>20),c=s+(n^l&(e^n))+r[14]+2792965006&4294967295,s=l+(c<<17&4294967295|c>>>15),c=n+(e^s&(l^e))+r[15]+1236535329&4294967295,n=s+(c<<22&4294967295|c>>>10),c=e+(s^l&(n^s))+r[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^s&(e^n))+r[6]+3225465664&4294967295,l=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(l^e))+r[11]+643717713&4294967295,s=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(s^l))+r[0]+3921069994&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^l&(n^s))+r[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^s&(e^n))+r[10]+38016083&4294967295,l=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(l^e))+r[15]+3634488961&4294967295,s=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(s^l))+r[4]+3889429448&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^l&(n^s))+r[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^s&(e^n))+r[14]+3275163606&4294967295,l=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(l^e))+r[3]+4107603335&4294967295,s=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(s^l))+r[8]+1163531501&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(s^l&(n^s))+r[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^s&(e^n))+r[2]+4243563512&4294967295,l=e+(c<<9&4294967295|c>>>23),c=s+(e^n&(l^e))+r[7]+1735328473&4294967295,s=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(s^l))+r[12]+2368359562&4294967295,n=s+(c<<20&4294967295|c>>>12),c=e+(n^s^l)+r[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^s)+r[8]+2272392833&4294967295,l=e+(c<<11&4294967295|c>>>21),c=s+(l^e^n)+r[11]+1839030562&4294967295,s=l+(c<<16&4294967295|c>>>16),c=n+(s^l^e)+r[14]+4259657740&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^l)+r[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^s)+r[4]+1272893353&4294967295,l=e+(c<<11&4294967295|c>>>21),c=s+(l^e^n)+r[7]+4139469664&4294967295,s=l+(c<<16&4294967295|c>>>16),c=n+(s^l^e)+r[10]+3200236656&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^l)+r[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^s)+r[0]+3936430074&4294967295,l=e+(c<<11&4294967295|c>>>21),c=s+(l^e^n)+r[3]+3572445317&4294967295,s=l+(c<<16&4294967295|c>>>16),c=n+(s^l^e)+r[6]+76029189&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(n^s^l)+r[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^s)+r[12]+3873151461&4294967295,l=e+(c<<11&4294967295|c>>>21),c=s+(l^e^n)+r[15]+530742520&4294967295,s=l+(c<<16&4294967295|c>>>16),c=n+(s^l^e)+r[2]+3299628645&4294967295,n=s+(c<<23&4294967295|c>>>9),c=e+(s^(n|~l))+r[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~s))+r[7]+1126891415&4294967295,l=e+(c<<10&4294967295|c>>>22),c=s+(e^(l|~n))+r[14]+2878612391&4294967295,s=l+(c<<15&4294967295|c>>>17),c=n+(l^(s|~e))+r[5]+4237533241&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~l))+r[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~s))+r[3]+2399980690&4294967295,l=e+(c<<10&4294967295|c>>>22),c=s+(e^(l|~n))+r[10]+4293915773&4294967295,s=l+(c<<15&4294967295|c>>>17),c=n+(l^(s|~e))+r[1]+2240044497&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~l))+r[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~s))+r[15]+4264355552&4294967295,l=e+(c<<10&4294967295|c>>>22),c=s+(e^(l|~n))+r[6]+2734768916&4294967295,s=l+(c<<15&4294967295|c>>>17),c=n+(l^(s|~e))+r[13]+1309151649&4294967295,n=s+(c<<21&4294967295|c>>>11),c=e+(s^(n|~l))+r[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~s))+r[11]+3174756917&4294967295,l=e+(c<<10&4294967295|c>>>22),c=s+(e^(l|~n))+r[2]+718787259&4294967295,s=l+(c<<15&4294967295|c>>>17),c=n+(l^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+l&4294967295}oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,l=0;l<e;){if(s==0)for(;l<=n;)up(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(r[s++]=t.charCodeAt(l++),s==this.blockSize){up(this,r),s=0;break}}else for(;l<e;)if(r[s++]=t[l++],s==this.blockSize){up(this,r),s=0;break}}this.h=s,this.i+=e};oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var l=t[s]|0;r&&l==e||(n[s]=l,r=!1)}this.g=n}var JV={};function Jg(t){return-128<=t&&128>t?sV(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function Ai(t){if(isNaN(t)||!isFinite(t))return Ms;if(0>t)return Yt(Ai(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qp;return new Ye(e,0)}function iR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Yt(iR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ai(Math.pow(e,8)),r=Ms,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),e);8>l?(l=Ai(Math.pow(e,l)),r=r.R(l).add(Ai(c))):(r=r.R(n),r=r.add(Ai(c)))}return r}var Qp=4294967296,Ms=Jg(0),Yp=Jg(1),zT=Jg(16777216);Z=Ye.prototype;Z.ea=function(){if(Xn(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qp+r)*e,e*=Qp}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($i(this))return"0";if(Xn(this))return"-"+Yt(this).toString(t);for(var e=Ai(Math.pow(t,6)),n=this,r="";;){var s=Mh(n,e).g;n=Nh(n,s.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,$i(n))return l+r;for(;6>l.length;)l="0"+l;r=l+r}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $i(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Xn(t){return t.h==-1}Z.X=function(t){return t=Nh(this,t),Xn(t)?-1:$i(t)?0:1};function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Yp)}Z.abs=function(){return Xn(this)?Yt(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var l=r+(this.D(s)&65535)+(t.D(s)&65535),c=(l>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=c>>>16,l&=65535,c&=65535,n[s]=c<<16|l}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function Nh(t,e){return t.add(Yt(e))}Z.R=function(t){if($i(this)||$i(t))return Ms;if(Xn(this))return Xn(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(Xn(t))return Yt(this.R(Yt(t)));if(0>this.X(zT)&&0>t.X(zT))return Ai(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var l=this.D(r)>>>16,c=this.D(r)&65535,d=t.D(s)>>>16,m=t.D(s)&65535;n[2*r+2*s]+=c*m,Xc(n,2*r+2*s),n[2*r+2*s+1]+=l*m,Xc(n,2*r+2*s+1),n[2*r+2*s+1]+=c*d,Xc(n,2*r+2*s+1),n[2*r+2*s+2]+=l*d,Xc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function Xc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function El(t,e){this.g=t,this.h=e}function Mh(t,e){if($i(e))throw Error("division by zero");if($i(t))return new El(Ms,Ms);if(Xn(t))return e=Mh(Yt(t),e),new El(Yt(e.g),Yt(e.h));if(Xn(e))return e=Mh(t,Yt(e)),new El(Yt(e.g),e.h);if(30<t.g.length){if(Xn(t)||Xn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yp,r=e;0>=r.X(t);)n=BT(n),r=BT(r);var s=Ts(n,1),l=Ts(r,1);for(r=Ts(r,2),n=Ts(n,2);!$i(r);){var c=l.add(r);0>=c.X(t)&&(s=s.add(n),l=c),r=Ts(r,1),n=Ts(n,1)}return e=Nh(t,s.R(e)),new El(s,e)}for(s=Ms;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),l=Ai(n),c=l.R(e);Xn(c)||0<c.X(t);)n-=r,l=Ai(n),c=l.R(e);$i(l)&&(l=Yp),s=s.add(l),t=Nh(t,c)}return new El(s,t)}Z.gb=function(t){return Mh(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function BT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function Ts(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],l=0;l<r;l++)s[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new Ye(s,t.h)}Oh.prototype.createWebChannel=Oh.prototype.g;Un.prototype.send=Un.prototype.u;Un.prototype.open=Un.prototype.m;Un.prototype.close=Un.prototype.close;lf.NO_ERROR=0;lf.TIMEOUT=8;lf.HTTP_ERROR=6;Tw.COMPLETE="complete";Aw.EventType=gu;gu.OPEN="a";gu.CLOSE="b";gu.ERROR="c";gu.MESSAGE="d";Ht.prototype.listen=Ht.prototype.O;Et.prototype.listenOnce=Et.prototype.P;Et.prototype.getLastError=Et.prototype.Sa;Et.prototype.getLastErrorCode=Et.prototype.Ia;Et.prototype.getStatus=Et.prototype.da;Et.prototype.getResponseJson=Et.prototype.Wa;Et.prototype.getResponseText=Et.prototype.ja;Et.prototype.send=Et.prototype.ha;Et.prototype.setWithCredentials=Et.prototype.Oa;oi.prototype.digest=oi.prototype.l;oi.prototype.reset=oi.prototype.reset;oi.prototype.update=oi.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=Ai;Ye.fromString=iR;var eP=function(){return new Oh},tP=function(){return of()},cp=lf,nP=Tw,iP=Na,jT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rP=_u,Wc=Aw,aP=Et,sP=oi,xs=Ye;const qT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Tg("@firebase/firestore");function HT(){return ba.logLevel}function le(t,...e){if(ba.logLevel<=je.DEBUG){const n=e.map(ey);ba.debug(`Firestore (${uo}): ${t}`,...n)}}function Zi(t,...e){if(ba.logLevel<=je.ERROR){const n=e.map(ey);ba.error(`Firestore (${uo}): ${t}`,...n)}}function Ks(t,...e){if(ba.logLevel<=je.WARN){const n=e.map(ey);ba.warn(`Firestore (${uo}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function ut(t,e){t||_e()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class lP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uP{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ea,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ea)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new rR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new nn(e)}}class cP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new fP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mP(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<n&&(r+=e.charAt(s[l]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function $s(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new kt(0,0))}static max(){return new Ae(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof eu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const l=e.get(s),c=n.get(s);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends eu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends eu{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const l=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(l(),s++)}if(l(),c)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(lt.fromString(e))}static fromName(e){return new he(lt.fromString(e).popFirst(5))}static empty(){return new he(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new lt(e.slice()))}}function gP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new kr(s,he.empty(),e)}function yP(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(Ae.min(),he.empty(),-1)}static max(){return new kr(Ae.max(),he.empty(),-1)}}function vP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==_P)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,l=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++l,c&&l===s&&n()},m=>r(m))}),c=!0,l===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,l)=>{r.push(n.call(this,s,l))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(g=>{c[p]=g,++d,d===l&&r(c)},g=>s(g))}})}static doWhile(e,n){return new K((r,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):r()};l()})}}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ty.ae=-1;function gf(t){return t==null}function xh(t){return t===0&&1/t==-1/0}function TP(t){return typeof t=="number"&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,l){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,l){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,r),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,s,l){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new ai([])}unionWith(e){let n=new un(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new oR("Invalid base64 string: "+l):l}}(e);return new hn(n)}static fromUint8Array(e){const n=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const AP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(ut(!!t),typeof t=="string"){let e=0;const n=AP.exec(t);if(ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ia(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iy(t){const e=t.mapValue.fields.__previous_value__;return ny(e)?iy(e):e}function tu(t){const e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,s,l,c,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}class nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc={mapValue:{}};function Ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:wP(t)?9007199254740991:10:_e()}function bi(t,e){if(t===e)return!0;const n=Ca(t);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tu(t).isEqual(tu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ur(s.timestampValue),d=Ur(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,l){return Ia(s.bytesValue).isEqual(Ia(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,l){return Ct(s.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(s.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)}(t,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ct(s.integerValue)===Ct(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ct(s.doubleValue),d=Ct(l.doubleValue);return c===d?xh(c)===xh(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:return function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(FT(c)!==FT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!bi(c[m],d[m])))return!1;return!0}(t,e);default:return _e()}}function iu(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function Qs(t,e){if(t===e)return 0;const n=Ca(t),r=Ca(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return KT(t.timestampValue,e.timestampValue);case 4:return KT(tu(t),tu(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Ia(l),m=Ia(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const g=Ge(d[p],m[p]);if(g!==0)return g}return Ge(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ge(Ct(l.latitude),Ct(c.latitude));return d!==0?d:Ge(Ct(l.longitude),Ct(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(l,c){const d=l.values||[],m=c.values||[];for(let p=0;p<d.length&&p<m.length;++p){const g=Qs(d[p],m[p]);if(g)return g}return Ge(d.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(l,c){if(l===Jc.mapValue&&c===Jc.mapValue)return 0;if(l===Jc.mapValue)return 1;if(c===Jc.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},g=Object.keys(p);m.sort(),g.sort();for(let _=0;_<m.length&&_<g.length;++_){const E=Ge(m[_],g[_]);if(E!==0)return E;const w=Qs(d[m[_]],p[g[_]]);if(w!==0)return w}return Ge(m.length,g.length)}(t.mapValue,e.mapValue);default:throw _e()}}function KT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Ur(t),r=Ur(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function Ys(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const l of n.values||[])s?s=!1:r+=",",r+=Xp(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${Xp(n.fields[c])}`;return s+"}"}(t.mapValue):_e()}function $T(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wp(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function QT(t){return!!t&&"nullValue"in t}function YT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=an.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Vl(c):s.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,s)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){co(n,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new Wn(Vl(this.value))}}function lR(t){const e=[];return co(t.fields,(n,r)=>{const s=new an([n]);if(ch(r)){const l=lR(r.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Ae.min(),Ae.min(),Ae.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,Ae.min(),Ae.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ae.min(),Ae.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function XT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const l=e[s],c=t.position[s];if(l.field.isKeyField()?r=he.comparator(he.fromName(c.referenceValue),n.key):r=Qs(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function WT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n="asc"){this.field=e,this.dir=n}}function RP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{}class Ot extends uR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IP(e,n,r):n==="array-contains"?new OP(e,r):n==="in"?new NP(e,r):n==="not-in"?new MP(e,r):n==="array-contains-any"?new xP(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CP(e,r):new DP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qs(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(Qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends uR{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new li(e,n)}matches(e){return cR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function cR(t){return t.op==="and"}function hR(t){return bP(t)&&cR(t)}function bP(t){for(const e of t.filters)if(e instanceof li)return!1;return!0}function Zp(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Ys(t.value);if(hR(t))return t.filters.map(e=>Zp(e)).join(",");{const e=t.filters.map(n=>Zp(n)).join(",");return`${t.op}(${e})`}}function fR(t,e){return t instanceof Ot?function(r,s){return s instanceof Ot&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof li?function(r,s){return s instanceof li&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,c,d)=>l&&fR(c,s.filters[d]),!0):!1}(t,e):void _e()}function dR(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(t):t instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(dR).join(" ,")+"}"}(t):"Filter"}class IP extends Ot{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class CP extends Ot{constructor(e,n){super(e,"in",n),this.keys=mR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DP extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=mR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class OP extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&iu(n.arrayValue,this.value)}}class NP extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class MP extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iu(this.value.arrayValue,n)}}class xP extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n=null,r=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.he=null}}function ZT(t,e=null,n=[],r=[],s=null,l=null,c=null){return new VP(t,e,n,r,s,l,c)}function ay(t){const e=we(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ys(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ys(r)).join(",")),e.he=n}return e.he}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WT(t.startAt,e.startAt)&&WT(t.endAt,e.endAt)}function Jp(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n=null,r=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function PP(t,e,n,r,s,l,c,d){return new ho(t,e,n,r,s,l,c,d)}function oy(t){return new ho(t)}function JT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ly(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function pR(t){return t.collectionGroup!==null}function Ps(t){const e=we(t);if(e.Pe===null){e.Pe=[];const n=yf(e),r=ly(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Vs(n)),e.Pe.push(new Vs(an.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.Pe.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Vs(an.keyField(),l))}}}return e.Pe}function Ji(t){const e=we(t);if(!e.Ie)if(e.limitType==="F")e.Ie=ZT(e.path,e.collectionGroup,Ps(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Ps(e)){const c=l.dir==="desc"?"asc":"desc";n.push(new Vs(l.field,c))}const r=e.endAt?new Vh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Vh(e.startAt.position,e.startAt.inclusive):null;e.Ie=ZT(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.Ie}function eg(t,e){e.getFirstInequalityField(),yf(t);const n=t.filters.concat([e]);return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ph(t,e,n){return new ho(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return sy(Ji(t),Ji(e))&&t.limitType===e.limitType}function gR(t){return`${ay(Ji(t))}|lt:${t.limitType}`}function tg(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dR(s)).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ys(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ys(s)).join(",")),`Target(${r})`}(Ji(t))}; limitType=${t.limitType})`}function _f(t,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):he.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,s){for(const l of Ps(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,m){const p=XT(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Ps(r),s)||r.endAt&&!function(c,d,m){const p=XT(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Ps(r),s))}(t,e)}function kP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yR(t){return(e,n)=>{let r=!1;for(const s of Ps(t)){const l=UP(s,e,n);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function UP(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Qs(m,p):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return sR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new gt(he.comparator);function er(){return LP}const vR=new gt(he.comparator);function bl(...t){let e=vR;for(const n of t)e=e.insert(n.key,n);return e}function _R(t){let e=vR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pa(){return Pl()}function ER(){return Pl()}function Pl(){return new fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const zP=new gt(he.comparator),BP=new un(he.comparator);function Pe(...t){let e=BP;for(const n of t)e=e.add(n);return e}const jP=new un(Ge);function qP(){return jP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function HP(t,e){return TP(e)?AR(e):TR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function FP(t,e,n){return t instanceof kh?function(s,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&ny(l)&&(l=iy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(n,e):t instanceof ru?wR(t,e):t instanceof au?RR(t,e):function(s,l){const c=SR(s,l),d=eA(c)+eA(s.Te);return Wp(c)&&Wp(s.Te)?AR(d):TR(s.serializer,d)}(t,e)}function GP(t,e,n){return t instanceof ru?wR(t,e):t instanceof au?RR(t,e):n}function SR(t,e){return t instanceof Uh?function(r){return Wp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class kh extends Ef{}class ru extends Ef{constructor(e){super(),this.elements=e}}function wR(t,e){const n=bR(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class au extends Ef{constructor(e){super(),this.elements=e}}function RR(t,e){let n=bR(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class Uh extends Ef{constructor(e,n){super(),this.serializer=e,this.Te=n}}function eA(t){return Ct(t.integerValue||t.doubleValue)}function bR(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KP(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ru&&s instanceof ru||r instanceof au&&s instanceof au?$s(r.elements,s.elements,bi):r instanceof Uh&&s instanceof Uh?bi(r.Te,s.Te):r instanceof kh&&s instanceof kh}(t.transform,e.transform)}class $P{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tf{}function IR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DR(t.key,Yi.none()):new wu(t.key,t.data,Yi.none());{const n=t.data,r=Wn.empty();let s=new un(an.comparator);for(let l of e.fields)if(!s.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),s=s.add(l)}return new Ma(t.key,r,new ai(s.toArray()),Yi.none())}}function QP(t,e,n){t instanceof wu?function(s,l,c){const d=s.value.clone(),m=nA(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(s,l,c){if(!hh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nA(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(CR(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function kl(t,e,n,r){return t instanceof wu?function(l,c,d,m){if(!hh(l.precondition,c))return d;const p=l.value.clone(),g=iA(l.fieldTransforms,m,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ma?function(l,c,d,m){if(!hh(l.precondition,c))return d;const p=iA(l.fieldTransforms,m,c),g=c.data;return g.setAll(CR(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(l,c,d){return hh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function YP(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),l=SR(r.transform,s||null);l!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,l))}return n||null}function tA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$s(r,s,(l,c)=>KP(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends Tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ma extends Tf{constructor(e,n,r,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nA(t,e,n){const r=new Map;ut(t.length===n.length);for(let s=0;s<n.length;s++){const l=t[s],c=l.transform,d=e.data.field(l.field);r.set(l.field,GP(c,d,n[s]))}return r}function iA(t,e,n){const r=new Map;for(const s of t){const l=s.transform,c=n.data.field(s.field);r.set(s.field,FP(l,c,e))}return r}class DR extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XP extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&QP(l,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ER();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(s.key)?null:d;const m=IR(c,d);m!==null&&r.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>tA(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>tA(n,r))}}class uy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ut(e.mutations.length===r.length);let s=function(){return zP}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new uy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Le;function e4(t){switch(t){default:return _e();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function OR(t){if(t===void 0)return Zi("GRPC error has no .code"),B.UNKNOWN;switch(t){case It.OK:return B.OK;case It.CANCELLED:return B.CANCELLED;case It.UNKNOWN:return B.UNKNOWN;case It.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case It.INTERNAL:return B.INTERNAL;case It.UNAVAILABLE:return B.UNAVAILABLE;case It.UNAUTHENTICATED:return B.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case It.NOT_FOUND:return B.NOT_FOUND;case It.ALREADY_EXISTS:return B.ALREADY_EXISTS;case It.PERMISSION_DENIED:return B.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case It.ABORTED:return B.ABORTED;case It.OUT_OF_RANGE:return B.OUT_OF_RANGE;case It.UNIMPLEMENTED:return B.UNIMPLEMENTED;case It.DATA_LOSS:return B.DATA_LOSS;default:return _e()}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return eh}static getOrCreateInstance(){return eh===null&&(eh=new cy),eh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let eh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new xs([4294967295,4294967295],0);function rA(t){const e=t4().encode(t),n=new sP;return n.update(e),new Uint8Array(n.digest())}function aA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xs([n,r],0),new xs([s,l],0)]}class hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=xs.fromNumber(this.de)}Re(e,n,r){let s=e.add(n.multiply(xs.fromNumber(r)));return s.compare(n4)===1&&(s=new xs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=rA(e),[r,s]=aA(n);for(let l=0;l<this.hashCount;l++){const c=this.Re(r,s,l);if(!this.Ve(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hy(l,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.de===0)return;const n=rA(e),[r,s]=aA(n);for(let l=0;l<this.hashCount;l++){const c=this.Re(r,s,l);this.me(c)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(Ae.min(),s,new gt(Ge),er(),Pe())}}class Ru{constructor(e,n,r,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,s){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=s}}class NR{constructor(e,n){this.targetId=e,this.pe=n}}class MR{constructor(e,n,r=hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sA{constructor(){this.ye=0,this.we=lA(),this.Se=hn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Pe(),n=Pe(),r=Pe();return this.we.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e()}}),new Ru(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=lA()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class i4{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=er(),this.$e=oA(),this.Ue=new gt(Ge)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){var n,r;const s=e.targetId,l=e.pe.count,c=this.Xe(s);if(c){const d=c.target;if(Jp(d))if(l===0){const m=new he(d.path);this.ze(s,m,rn.newNoDocument(m,Ae.min()))}else ut(l===1);else{const m=this.et(s);if(m!==l){const p=this.tt(e,m);if(p.status!==0){this.Ye(s);const g=p.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,g)}(n=cy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(_,E,w,I){var k,V,F,G,$,b;const H={localCacheCount:w,existenceFilterCount:I.count},ne=I.unchangedNames;return ne&&(H.bloomFilter={applied:_===0,hashCount:(k=ne==null?void 0:ne.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(G=(F=(V=ne==null?void 0:ne.bits)===null||V===void 0?void 0:V.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(b=($=ne==null?void 0:ne.bits)===null||$===void 0?void 0:$.padding)!==null&&b!==void 0?b:0},E&&(H.bloomFilter.mightContain=E)),H}(p.status,(r=p.nt)!==null&&r!==void 0?r:null,m,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:s}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:l="",padding:c=0},hashCount:d=0}=r;let m,p;try{m=Ia(l).toUint8Array()}catch(_){if(_ instanceof oR)return Ks("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw _}try{p=new hy(m,c,d)}catch(_){return Ks(_ instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",_),{status:1}}const g=_=>{const E=this.qe.rt();return p.mightContain(`projects/${E.projectId}/databases/${E.database}/documents/${_}`)};return p.de===0?{status:1}:{status:s===n-this.it(e.targetId,g)?0:2,nt:g}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let s=0;return r.forEach(l=>{n(l.path.canonicalString())||(this.ze(e,l,null),s++)}),s}st(e){const n=new Map;this.Qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Jp(d.target)){const m=new he(d.target.path);this.Ke.get(m)!==null||this.ot(c,m)||this.ze(c,m,rn.newNoDocument(m,e))}l.Ce&&(n.set(c,l.Me()),l.xe())}});let r=Pe();this.$e.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Ke.forEach((l,c)=>c.setReadTime(e));const s=new Af(e,n,this.Ue,this.Ke,r);return this.Ke=er(),this.$e=oA(),this.Ue=new gt(Ge),s}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ot(e,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new sA,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new un(Ge),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new sA),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function oA(){return new gt(he.comparator)}function lA(){return new gt(he.comparator)}const r4={asc:"ASCENDING",desc:"DESCENDING"},a4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class o4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l4(t,e){return Lh(t,e.toTimestamp())}function Ri(t){return ut(!!t),Ae.fromTimestamp(function(n){const r=Ur(n);return new kt(r.seconds,r.nanos)}(t))}function fy(t,e){return function(r){return new lt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function VR(t){const e=lt.fromString(t);return ut(LR(e)),e}function ig(t,e){return fy(t.databaseId,e.path)}function hp(t,e){const n=VR(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(PR(n))}function rg(t,e){return fy(t.databaseId,e)}function u4(t){const e=VR(t);return e.length===4?lt.emptyPath():PR(e)}function ag(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PR(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uA(t,e,n){return{name:ig(t,e),fields:n.value.mapValue.fields}}function c4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,g){return p.useProto3Json?(ut(g===void 0||typeof g=="string"),hn.fromBase64String(g||"")):(ut(g===void 0||g instanceof Uint8Array),hn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?B.UNKNOWN:OR(p.code);return new re(g,p.message||"")}(c);n=new MR(r,s,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hp(t,r.document.name),l=Ri(r.document.updateTime),c=r.document.createTime?Ri(r.document.createTime):Ae.min(),d=new Wn({mapValue:{fields:r.document.fields}}),m=rn.newFoundDocument(s,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new fh(p,g,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hp(t,r.document),l=r.readTime?Ri(r.readTime):Ae.min(),c=rn.newNoDocument(s,l),d=r.removedTargetIds||[];n=new fh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hp(t,r.document),l=r.removedTargetIds||[];n=new fh([],l,s,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,c=new JP(s,l),d=r.targetId;n=new NR(d,c)}}return n}function h4(t,e){let n;if(e instanceof wu)n={update:uA(t,e.key,e.value)};else if(e instanceof DR)n={delete:ig(t,e.key)};else if(e instanceof Ma)n={update:uA(t,e.key,e.data),updateMask:E4(e.fieldMask)};else{if(!(e instanceof XP))return _e();n={verify:ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof kh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof au)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uh)return{fieldPath:c.field.canonicalString(),increment:d.Te};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:l4(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(t,e.precondition)),n}function f4(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(s,l){let c=s.updateTime?Ri(s.updateTime):Ri(l);return c.isEqual(Ae.min())&&(c=Ri(l)),new $P(c,s.transformResults||[])}(n,e))):[]}function d4(t,e){return{documents:[rg(t,e.path)]}}function m4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=rg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(m){if(m.length!==0)return UR(li.create(m,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const l=function(m){if(m.length!==0)return m.map(p=>function(_){return{field:Ss(_.field),direction:y4(_.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=ng(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function p4(t){let e=u4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ut(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(_){const E=kR(_);return E instanceof li&&hR(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(I){return new Vs(ws(I.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,gf(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,w=_.values||[];return new Vh(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,w=_.values||[];return new Vh(w,E)}(n.endAt)),PP(e,s,c,l,d,"F",m,p)}function g4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ws(n.unaryFilter.field);return Ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ws(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ws(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(ws(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(r=>kR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function y4(t){return r4[t]}function v4(t){return a4[t]}function _4(t){return s4[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function ws(t){return an.fromServerFormat(t.fieldPath)}function UR(t){return t instanceof Ot?function(n){if(n.op==="=="){if(YT(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(QT(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YT(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(QT(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:v4(n.op),value:n.value}}}(t):t instanceof li?function(n){const r=n.getFilters().map(s=>UR(s));return r.length===1?r[0]:{compositeFilter:{op:_4(n.op),filters:r}}}(t):_e()}function E4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,s,l=Ae.min(),c=Ae.min(),d=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.ct=e}}function A4(t){const e=p4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.sn=new w4}addToCollectionParentIndex(e,n){return this.sn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(kr.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class w4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new un(lt.comparator),l=!s.has(r);return this.index[n]=s.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Xs(0)}static On(){return new Xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.changes=new fo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kl(r.mutation,s,ai.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const s=pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(l=>{let c=bl();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let l=er();const c=Pl(),d=function(){return Pl()}();return n.forEach((m,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ma)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),kl(g.mutation,p,g.mutation.getFieldMask(),kt.now())):c.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,g)=>c.set(p,g)),n.forEach((p,g)=>{var _;return d.set(p,new b4(g,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Pl();let s=new gt((c,d)=>c-d),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let g=r.get(m)||ai.empty();g=d.applyToLocalView(p,g),r.set(m,g);const _=(s.get(d.batchId)||Pe()).add(m);s=s.insert(d.batchId,_)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,g=m.value,_=ER();g.forEach(E=>{if(!l.has(E)){const w=IR(n.get(E),r.get(E));w!==null&&_.set(E,w),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return K.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(l){return he.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-l.size):K.resolve(pa());let d=-1,m=l;return c.next(p=>K.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(g)?K.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{m=m.insert(g,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Pe())).next(g=>({batchId:d,changes:_R(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let s=bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let l=bl();return this.indexManager.getCollectionParents(e,s).next(c=>K.forEach(c,d=>{const m=function(g,_){return new ho(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r).next(p=>{p.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(l=>{s.forEach((d,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,rn.newInvalidDocument(p)))});let c=bl();return l.forEach((d,m)=>{const p=s.get(d);p!==void 0&&kl(p.mutation,m,ai.empty(),kt.now()),_f(n,m)&&(c=c.insert(d,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return K.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ri(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(s){return{name:s.name,query:A4(s.bundledQuery),readTime:Ri(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.overlays=new gt(he.comparator),this.cr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return K.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,l)=>{this.ht(e,n,l)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.cr.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.cr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=pa(),l=n.length+1,c=new he(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&s.set(m.getKey(),m)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let l=new gt((p,g)=>p-g);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=pa(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=s)););return K.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.cr.get(s.largestBatchId).delete(r.key);this.cr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ZP(n,r));let l=this.cr.get(n);l===void 0&&(l=Pe(),this.cr.set(n,l)),this.cr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.lr=new un(jt.hr),this.Pr=new un(jt.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new jt(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new he(new lt([])),r=new jt(n,e),s=new jt(n,e+1),l=[];return this.Pr.forEachInRange([r,s],c=>{this.Er(c),l.push(c.key)}),l}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new he(new lt([])),r=new jt(n,e),s=new jt(n,e+1);let l=Pe();return this.Pr.forEachInRange([r,s],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new jt(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return he.comparator(e.key,n.key)||Ge(e.mr,n.mr)}static Ir(e,n){return Ge(e.mr,n.mr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new un(jt.hr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const l=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WP(l,n,r,s);this.mutationQueue.push(c);for(const d of s)this.pr=this.pr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,n){return K.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.wr(r),l=s<0?0:s;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),l=[];return this.pr.forEachInRange([r,s],c=>{const d=this.yr(c.mr);l.push(d)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Ge);return n.forEach(s=>{const l=new jt(s,0),c=new jt(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([l,c],d=>{r=r.add(d.mr)})}),K.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let l=r;he.isDocumentKey(l)||(l=l.child(""));const c=new jt(new he(l),0);let d=new un(Ge);return this.pr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(m.mr)),!0)},c),K.resolve(this.Sr(d))}Sr(e){const n=[];return e.forEach(r=>{const s=this.yr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ut(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return K.forEach(n.mutations,s=>{const l=new jt(s.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new jt(n,0),s=this.pr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.Dr=e,this.docs=function(){return new gt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),l=s?s.size:0,c=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():rn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let l=er();const c=n.path,d=new he(c.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:g}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||vP(yP(g),r)<=0||(s.has(g.key)||_f(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,n,r,s){_e()}vr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M4(this)}getSize(e){return K.resolve(this.size)}}class M4 extends R4{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(e,s)):this.sr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.persistence=e,this.Cr=new fo(n=>ay(n),sy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new dy,this.targetCount=0,this.Or=Xs.xn()}forEachTarget(e,n){return this.Cr.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),K.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Xs(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Ln(n),K.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const l=[];return this.Cr.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Cr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),K.waitFor(l).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.Nr={},this.overlays={},this.Br=new ty(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new x4(this),this.indexManager=new S4,this.remoteDocumentCache=function(s){return new N4(s)}(r=>this.referenceDelegate.qr(r)),this.serializer=new T4(n),this.Qr=new C4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new O4(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new P4(this.Br.next());return this.referenceDelegate.Kr(),r(s).next(l=>this.referenceDelegate.$r(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ur(e,n){return K.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class P4 extends EP{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Wr=new dy,this.Gr=null}static zr(e){return new my(e)}get jr(){if(this.Gr)return this.Gr;throw _e()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.jr.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.jr,r=>{const s=he.fromPath(r);return this.Hr(e,s).next(l=>{l||n.removeEntry(s,Ae.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return K.or([()=>K.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=s}static qi(e,n){let r=Pe(),s=Pe();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new py(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.$i(e,n).next(l=>l||this.Ui(e,n,s,r)).next(l=>l||this.Wi(e,n))}$i(e,n){if(JT(n))return K.resolve(null);let r=Ji(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ph(n,null,"F"),r=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Pe(...l);return this.Ki.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const p=this.Gi(n,d);return this.zi(n,p,c,m.readTime)?this.$i(e,Ph(n,null,"F")):this.ji(e,p,n,m)}))})))}Ui(e,n,r,s){return JT(n)||s.isEqual(Ae.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(l=>{const c=this.Gi(n,l);return this.zi(n,c,r,s)?this.Wi(e,n):(HT()<=je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),tg(n)),this.ji(e,c,n,gP(s,-1)))})}Gi(e,n){let r=new un(yR(e));return n.forEach((s,l)=>{_f(e,l)&&(r=r.add(l))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Wi(e,n){return HT()<=je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",tg(n)),this.Ki.getDocumentsMatchingQuery(e,n,kr.min())}ji(e,n,r,s){return this.Ki.getDocumentsMatchingQuery(e,r,s).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new gt(Ge),this.Yi=new fo(l=>ay(l),sy),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I4(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function L4(t,e,n,r){return new U4(t,e,n,r)}async function zR(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Pe();for(const p of s){c.push(p.batchId);for(const g of p.mutations)m=m.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)m=m.add(g.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ts:p,removedBatchIds:c,addedBatchIds:d}))})})}function z4(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=n.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,p,g){const _=p.batch,E=_.keys();let w=K.resolve();return E.forEach(I=>{w=w.next(()=>g.getEntry(m,I)).next(k=>{const V=p.docVersions.get(I);ut(V!==null),k.version.compareTo(V)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),g.addEntry(k)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Pe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BR(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function B4(t,e){const n=we(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const d=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;d.push(n.kr.removeMatchingKeys(l,g.removedDocuments,_).next(()=>n.kr.addMatchingKeys(l,g.addedDocuments,_)));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(hn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),s=s.insert(_,w),function(k,V,F){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,w,g)&&d.push(n.kr.updateTargetData(l,w))});let m=er(),p=Pe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),d.push(j4(l,c,e.documentUpdates).next(g=>{m=g.ns,p=g.rs})),!r.isEqual(Ae.min())){const g=n.kr.getLastRemoteSnapshotVersion(l).next(_=>n.kr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(g)}return K.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ji=s,l))}function j4(t,e,n){let r=Pe(),s=Pe();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let c=er();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):le("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{ns:c,rs:s}})}function q4(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H4(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.kr.getTargetData(r,e).next(l=>l?(s=l,K.resolve(s)):n.kr.allocateTargetId(r).next(c=>(s=new Or(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function sg(t,e,n){const r=we(t),s=r.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Su(c))throw c;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function cA(t,e,n){const r=we(t);let s=Ae.min(),l=Pe();return r.persistence.runTransaction("Execute query","readonly",c=>function(m,p,g){const _=we(m),E=_.Yi.get(g);return E!==void 0?K.resolve(_.Ji.get(E)):_.kr.getTargetData(p,g)}(r,c,Ji(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,n?s:Ae.min(),n?l:Pe())).next(d=>(F4(r,kP(e),d),{documents:d,ss:l})))}function F4(t,e,n){let r=t.Zi.get(e)||Ae.min();n.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Zi.set(e,r)}class hA{constructor(){this.activeTargetIds=qP()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G4{constructor(){this.Hs=new hA,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new hA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function fp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class Y4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${s}/databases/${l}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}get Ro(){return!1}Vo(n,r,s,l,c){const d=fp(),m=this.mo(n,r);le("RestConnection",`Sending RPC '${n}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(p,l,c),this.po(n,m,p,s).then(g=>(le("RestConnection",`Received RPC '${n}' ${d}: `,g),g),g=>{throw Ks("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",m,"request:",s),g})}yo(n,r,s,l,c,d){return this.Vo(n,r,s,l,c)}fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,c)=>n[c]=l),s&&s.headers.forEach((l,c)=>n[c]=l)}mo(n,r){const s=$4[n];return`${this.To}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,s){const l=fp();return new Promise((c,d)=>{const m=new aP;m.setWithCredentials(!0),m.listenOnce(nP.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case cp.NO_ERROR:const g=m.getResponseJson();le(tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case cp.TIMEOUT:le(tn,`RPC '${e}' ${l} timed out`),d(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const _=m.getStatus();if(le(tn,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const I=function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(F)>=0?F:B.UNKNOWN}(w.status);d(new re(I,w.message))}else d(new re(B.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new re(B.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{le(tn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);le(tn,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",p,r,15)})}wo(e,n,r){const s=fp(),l=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=eP(),d=tP(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.xmlHttpFactory=new rP({})),this.fo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=l.join("");le(tn,`Creating RPC '${e}' stream ${s}: ${g}`,m);const _=c.createWebChannel(g,m);let E=!1,w=!1;const I=new Q4({so:V=>{w?le(tn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(E||(le(tn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),le(tn,`RPC '${e}' stream ${s} sending:`,V),_.send(V))},oo:()=>_.close()}),k=(V,F,G)=>{V.listen(F,$=>{try{G($)}catch(b){setTimeout(()=>{throw b},0)}})};return k(_,Wc.EventType.OPEN,()=>{w||le(tn,`RPC '${e}' stream ${s} transport opened.`)}),k(_,Wc.EventType.CLOSE,()=>{w||(w=!0,le(tn,`RPC '${e}' stream ${s} transport closed`),I.Po())}),k(_,Wc.EventType.ERROR,V=>{w||(w=!0,Ks(tn,`RPC '${e}' stream ${s} transport errored:`,V),I.Po(new re(B.UNAVAILABLE,"The operation could not be completed")))}),k(_,Wc.EventType.MESSAGE,V=>{var F;if(!w){const G=V.data[0];ut(!!G);const $=G,b=$.error||((F=$[0])===null||F===void 0?void 0:F.error);if(b){le(tn,`RPC '${e}' stream ${s} received error:`,b);const H=b.status;let ne=function(qe){const ct=It[qe];if(ct!==void 0)return OR(ct)}(H),J=b.message;ne===void 0&&(ne=B.INTERNAL,J="Unknown error status: "+H+" with message "+b.message),w=!0,I.Po(new re(ne,J)),_.close()}else le(tn,`RPC '${e}' stream ${s} received:`,G),I.Io(G)}}),k(d,iP.STAT_EVENT,V=>{V.stat===jT.PROXY?le(tn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===jT.NOPROXY&&le(tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.ho()},0),I}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new o4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r=1e3,s=1.5,l=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=s,this.Do=l,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,s,l,c,d,m){this.ii=e,this.Bo=r,this.Lo=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new jR(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.ko===n&&this.e_(r,s)},r=>{e(()=>{const s=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(s)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{r(()=>this.t_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X4 extends qR{constructor(e,n,r,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=c4(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Ri(c.readTime):Ae.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=ag(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Jp(m)?{documents:d4(l,m)}:{query:m4(l,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xR(l,c.resumeToken);const p=ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Lh(l,c.snapshotVersion.toTimestamp());const p=ng(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=g4(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=ag(this.serializer),n.removeTarget=e,this.Ho(n)}}class W4 extends qR{constructor(e,n,r,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=l,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=f4(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.u_(r,n)}return ut(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=ag(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h4(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Vo(e,n,r,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(B.UNKNOWN,s.toString())})}yo(e,n,r,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.yo(e,n,r,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new re(B.UNKNOWN,l.toString())})}terminate(){this.h_=!0}}class J4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Zi(n),this.d_=!1):le("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=l,this.S_.Ys(c=>{r.enqueueAndForget(async()=>{xa(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=we(m);p.y_.add(4),await bu(p),p.b_.set("Unknown"),p.y_.delete(4),await wf(p)}(this))})}),this.b_=new J4(r,s)}}async function wf(t){if(xa(t))for(const e of t.w_)await e(!0)}async function bu(t){for(const e of t.w_)await e(!1)}function HR(t,e){const n=we(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),vy(n)?yy(n):mo(n).Uo()&&gy(n,e))}function FR(t,e){const n=we(t),r=mo(n);n.p_.delete(e),r.Uo()&&GR(n,e),n.p_.size===0&&(r.Uo()?r.zo():xa(n)&&n.b_.set("Unknown"))}function gy(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mo(t).i_(e)}function GR(t,e){t.D_.Be(e),mo(t).s_(e)}function yy(t){t.D_=new i4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),mo(t).start(),t.b_.A_()}function vy(t){return xa(t)&&!mo(t).$o()&&t.p_.size>0}function xa(t){return we(t).y_.size===0}function KR(t){t.D_=void 0}async function tk(t){t.p_.forEach((e,n)=>{gy(t,e)})}async function nk(t,e){KR(t),vy(t)?(t.b_.m_(e),yy(t)):t.b_.set("Unknown")}async function ik(t,e,n){if(t.b_.set("Online"),e instanceof MR&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const d of l.targetIds)s.p_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.p_.delete(d),s.D_.removeTarget(d))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(t,r)}else if(e instanceof fh?t.D_.We(e):e instanceof NR?t.D_.Ze(e):t.D_.je(e),!n.isEqual(Ae.min()))try{const r=await BR(t.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.D_.st(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const g=l.p_.get(p);g&&l.p_.set(p,g.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const g=l.p_.get(m);if(!g)return;l.p_.set(m,g.withResumeToken(hn.EMPTY_BYTE_STRING,g.snapshotVersion)),GR(l,m);const _=new Or(g.target,m,p,g.sequenceNumber);gy(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await zh(t,r)}}async function zh(t,e,n){if(!Su(e))throw e;t.y_.add(1),await bu(t),t.b_.set("Offline"),n||(n=()=>BR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await wf(t)})}function $R(t,e){return e().catch(n=>zh(t,n,e))}async function Rf(t){const e=we(t),n=Lr(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;rk(e);)try{const s=await q4(e.localStore,r);if(s===null){e.g_.length===0&&n.zo();break}r=s.batchId,ak(e,s)}catch(s){await zh(e,s)}QR(e)&&YR(e)}function rk(t){return xa(t)&&t.g_.length<10}function ak(t,e){t.g_.push(e);const n=Lr(t);n.Uo()&&n.__&&n.a_(e.mutations)}function QR(t){return xa(t)&&!Lr(t).$o()&&t.g_.length>0}function YR(t){Lr(t).start()}async function sk(t){Lr(t).l_()}async function ok(t){const e=Lr(t);for(const n of t.g_)e.a_(n.mutations)}async function lk(t,e,n){const r=t.g_.shift(),s=uy.from(r,e,n);await $R(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Rf(t)}async function uk(t,e){e&&Lr(t).__&&await async function(r,s){if(function(c){return e4(c)&&c!==B.ABORTED}(s.code)){const l=r.g_.shift();Lr(r).Go(),await $R(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Rf(r)}}(t,e),QR(t)&&YR(t)}async function dA(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.y_.add(3),await bu(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await wf(n)}async function ck(t,e){const n=we(t);e?(n.y_.delete(2),await wf(n)):e||(n.y_.add(2),await bu(n),n.b_.set("Unknown"))}function mo(t){return t.v_||(t.v_=function(n,r,s){const l=we(n);return l.P_(),new X4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{_o:tk.bind(null,t),uo:nk.bind(null,t),r_:ik.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),vy(t)?yy(t):t.b_.set("Unknown")):(await t.v_.stop(),KR(t))})),t.v_}function Lr(t){return t.C_||(t.C_=function(n,r,s){const l=we(n);return l.P_(),new W4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(t.datastore,t.asyncQueue,{_o:sk.bind(null,t),uo:uk.bind(null,t),c_:ok.bind(null,t),u_:lk.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await Rf(t)):(await t.C_.stop(),t.g_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,r,s,l){const c=Date.now()+r,d=new _y(e,n,c,s,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Su(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.F_=new gt(he.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):_e():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ws{constructor(e,n,r,s,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ws(e,n,ks.emptySet(n),c,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.x_=void 0,this.listeners=[]}}class fk{constructor(){this.queries=new fo(e=>gR(e),vf),this.onlineState="Unknown",this.O_=new Set}}async function dk(t,e){const n=we(t),r=e.query;let s=!1,l=n.queries.get(r);if(l||(s=!0,l=new hk),s)try{l.x_=await n.onListen(r)}catch(c){const d=Ey(c,`Initialization of query '${tg(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,l),l.listeners.push(e),e.N_(n.onlineState),l.x_&&e.B_(l.x_)&&Ty(n)}async function mk(t,e){const n=we(t),r=e.query;let s=!1;const l=n.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),s=l.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function pk(t,e){const n=we(t);let r=!1;for(const s of e){const l=s.query,c=n.queries.get(l);if(c){for(const d of c.listeners)d.B_(s)&&(r=!0);c.x_=s}}r&&Ty(n)}function gk(t,e,n){const r=we(t),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(n);r.queries.delete(e)}function Ty(t){t.O_.forEach(e=>{e.next()})}class yk{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.key=e}}class WR{constructor(e){this.key=e}}class vk{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Pe(),this.mutatedKeys=Pe(),this.na=yR(e),this.ra=new ks(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new mA,s=n?n.ra:this.ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),w=_f(this.query,_)?_:null,I=!!E&&this.mutatedKeys.has(E.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;E&&w?E.data.isEqual(w.data)?I!==k&&(r.track({type:3,doc:w}),V=!0):this._a(E,w)||(r.track({type:2,doc:w}),V=!0,(m&&this.na(w,m)>0||p&&this.na(w,p)<0)&&(d=!0)):!E&&w?(r.track({type:0,doc:w}),V=!0):E&&!w&&(r.track({type:1,doc:E}),V=!0,(m||p)&&(d=!0)),V&&(w?(c=c.add(w),l=k?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{ra:c,oa:r,zi:d,mutatedKeys:l}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const l=e.oa.M_();l.sort((p,g)=>function(E,w){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return I(E)-I(w)}(p.type,g.type)||this.na(p.doc,g.doc)),this.aa(r);const c=n?this.ua():[],d=this.ta.size===0&&this.current?1:0,m=d!==this.ea;return this.ea=d,l.length!==0||m?{snapshot:new Ws(this.query,e.ra,s,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:c}:{ca:c}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new mA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Pe(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new WR(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new XR(r))}),n}ha(e){this.X_=e.ss,this.ta=Pe();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return Ws.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class _k{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ek{constructor(e){this.key=e,this.Ia=!1}}class Tk{constructor(e,n,r,s,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ta={},this.Ea=new fo(d=>gR(d),vf),this.da=new Map,this.Aa=new Set,this.Ra=new gt(he.comparator),this.Va=new Map,this.ma=new dy,this.fa={},this.ga=new Map,this.pa=Xs.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function Ak(t,e){const n=Mk(t);let r,s;const l=n.Ea.get(e);if(l)r=l.targetId,n.sharedClientState.addLocalQueryTarget(r),s=l.view.Pa();else{const c=await H4(n.localStore,Ji(e)),d=n.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=await Sk(n,e,r,d==="current",c.resumeToken),n.isPrimaryClient&&HR(n.remoteStore,c)}return s}async function Sk(t,e,n,r,s){t.wa=(_,E,w)=>async function(k,V,F,G){let $=V.view.sa(F);$.zi&&($=await cA(k.localStore,V.query,!1).then(({documents:ne})=>V.view.sa(ne,$)));const b=G&&G.targetChanges.get(V.targetId),H=V.view.applyChanges($,k.isPrimaryClient,b);return gA(k,V.targetId,H.ca),H.snapshot}(t,_,E,w);const l=await cA(t.localStore,e,!0),c=new vk(e,l.ss),d=c.sa(l.documents),m=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,m);gA(t,n,p.ca);const g=new _k(e,n,c);return t.Ea.set(e,g),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),p.snapshot}async function wk(t,e){const n=we(t),r=n.Ea.get(e),s=n.da.get(r.targetId);if(s.length>1)return n.da.set(r.targetId,s.filter(l=>!vf(l,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),FR(n.remoteStore,r.targetId),og(n,r.targetId)}).catch(Au)):(og(n,r.targetId),await sg(n.localStore,r.targetId,!0))}async function Rk(t,e,n){const r=xk(t);try{const s=await function(c,d){const m=we(c),p=kt.now(),g=d.reduce((w,I)=>w.add(I.key),Pe());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let I=er(),k=Pe();return m.Xi.getEntries(w,g).next(V=>{I=V,I.forEach((F,G)=>{G.isValidDocument()||(k=k.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,I)).next(V=>{_=V;const F=[];for(const G of d){const $=YP(G,_.get(G.key).overlayedDocument);$!=null&&F.push(new Ma(G.key,$,lR($.value.mapValue),Yi.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,F,d)}).next(V=>{E=V;const F=V.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(w,V.batchId,F)})}).then(()=>({batchId:E.batchId,changes:_R(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let p=c.fa[c.currentUser.toKey()];p||(p=new gt(Ge)),p=p.insert(d,m),c.fa[c.currentUser.toKey()]=p}(r,s.batchId,n),await Iu(r,s.changes),await Rf(r.remoteStore)}catch(s){const l=Ey(s,"Failed to persist write");n.reject(l)}}async function ZR(t,e){const n=we(t);try{const r=await B4(n.localStore,e);e.targetChanges.forEach((s,l)=>{const c=n.Va.get(l);c&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ia=!0:s.modifiedDocuments.size>0?ut(c.Ia):s.removedDocuments.size>0&&(ut(c.Ia),c.Ia=!1))}),await Iu(n,r,e)}catch(r){await Au(r)}}function pA(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Ea.forEach((l,c)=>{const d=c.view.N_(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=we(c);m.onlineState=d;let p=!1;m.queries.forEach((g,_)=>{for(const E of _.listeners)E.N_(d)&&(p=!0)}),p&&Ty(m)}(r.eventManager,e),s.length&&r.Ta.r_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bk(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Va.get(e),l=s&&s.key;if(l){let c=new gt(he.comparator);c=c.insert(l,rn.newNoDocument(l,Ae.min()));const d=Pe().add(l),m=new Af(Ae.min(),new Map,new gt(Ge),c,d);await ZR(r,m),r.Ra=r.Ra.remove(l),r.Va.delete(e),Ay(r)}else await sg(r.localStore,e,!1).then(()=>og(r,e,n)).catch(Au)}async function Ik(t,e){const n=we(t),r=e.batch.batchId;try{const s=await z4(n.localStore,e);eb(n,r,null),JR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(n,s)}catch(s){await Au(s)}}async function Ck(t,e,n){const r=we(t);try{const s=await function(c,d){const m=we(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(ut(_!==null),g=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>m.localDocuments.getDocuments(p,g))})}(r.localStore,e);eb(r,e,n),JR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Iu(r,s)}catch(s){await Au(s)}}function JR(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function eb(t,e,n){const r=we(t);let s=r.fa[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),r.fa[r.currentUser.toKey()]=s}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||tb(t,r)})}function tb(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(FR(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),Ay(t))}function gA(t,e,n){for(const r of n)r instanceof XR?(t.ma.addReference(r.key,e),Dk(t,r)):r instanceof WR?(le("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||tb(t,r.key)):_e()}function Dk(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Aa.add(r),Ay(t))}function Ay(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new he(lt.fromString(e)),r=t.pa.next();t.Va.set(r,new Ek(n)),t.Ra=t.Ra.insert(n,r),HR(t.remoteStore,new Or(Ji(oy(n.path)),r,"TargetPurposeLimboResolution",ty.ae))}}async function Iu(t,e,n){const r=we(t),s=[],l=[],c=[];r.Ea.isEmpty()||(r.Ea.forEach((d,m)=>{c.push(r.wa(m,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,p!=null&&p.fromCache?"not-current":"current"),p){s.push(p);const g=py.qi(m.targetId,p);l.push(g)}}))}),await Promise.all(c),r.Ta.r_(s),await async function(m,p){const g=we(m);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>K.forEach(p,E=>K.forEach(E.Li,w=>g.persistence.referenceDelegate.addReference(_,E.targetId,w)).next(()=>K.forEach(E.ki,w=>g.persistence.referenceDelegate.removeReference(_,E.targetId,w)))))}catch(_){if(!Su(_))throw _;le("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const w=g.Ji.get(E),I=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(I);g.Ji=g.Ji.insert(E,k)}}}(r.localStore,l))}async function Ok(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await zR(n.localStore,e);n.currentUser=e,function(l,c){l.ga.forEach(d=>{d.forEach(m=>{m.reject(new re(B.CANCELLED,c))})}),l.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(n,r.ts)}}function Nk(t,e){const n=we(t),r=n.Va.get(e);if(r&&r.Ia)return Pe().add(r.key);{let s=Pe();const l=n.da.get(e);if(!l)return s;for(const c of l){const d=n.Ea.get(c);s=s.unionWith(d.view.ia)}return s}}function Mk(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bk.bind(null,e),e.Ta.r_=pk.bind(null,e.eventManager),e.Ta.Sa=gk.bind(null,e.eventManager),e}function xk(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class yA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return L4(this.persistence,new k4,e.initialUser,this.serializer)}createPersistence(e){return new V4(my.zr,this.serializer)}createSharedClientState(e){return new G4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Vk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ok.bind(null,this.syncEngine),await ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fk}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=function(l){return new Y4(l)}(e.databaseInfo);return function(l,c,d,m){return new Z4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,l,c,d){return new ek(r,s,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>pA(this.syncEngine,n,0),function(){return fA.v()?new fA:new K4}())}createSyncEngine(e,n){return function(s,l,c,d,m,p,g){const _=new Tk(s,l,c,d,m,p);return g&&(_.ya=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=we(n);le("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await bu(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=aR.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async l=>{le("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(le("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lk(t);le("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>dA(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,l)=>dA(e.remoteStore,l)),t._onlineComponents=e}function Uk(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Lk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Uk(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new yA)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await mp(t,new yA);return t._offlineComponents}async function nb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await vA(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await vA(t,new Vk))),t._onlineComponents}function zk(t){return nb(t).then(e=>e.syncEngine)}async function _A(t){const e=await nb(t),n=e.eventManager;return n.onListen=Ak.bind(null,e.syncEngine),n.onUnlisten=wk.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bk(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TA(t){if(!he.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AA(t){if(he.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Ul(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bf(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oP;switch(r.type){case"firstParty":return new hP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EA.get(n);r&&(le("ComponentProvider","Removing Datastore"),EA.delete(n),r.terminate())}(this),Promise.resolve()}}function jk(t,e,n,r={}){var s;const l=(t=Ul(t,If))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=nn.MOCK_USER;else{d=IO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new nn(p)}t._authCredentials=new lP(new rR(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Pr extends qr{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new he(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function ab(t,e,...n){if(t=_n(t),rb("collection","path",e),t instanceof If){const r=lt.fromString(e,...n);return AA(r),new Pr(t,null,r)}{if(!(t instanceof kn||t instanceof Pr))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return AA(r),new Pr(t.firestore,null,r)}}function qk(t,e,...n){if(t=_n(t),arguments.length===1&&(e=aR.V()),rb("doc","path",e),t instanceof If){const r=lt.fromString(e,...n);return TA(r),new kn(t,null,new he(r))}{if(!(t instanceof kn||t instanceof Pr))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return TA(r),new kn(t.firestore,t instanceof Pr?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new jR(this,"async_queue_retry"),this.Xa=()=>{const n=dp();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=dp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new Ea;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!Su(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw Zi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const s=_y.createAndSchedule(this,e,n,r,l=>this.ru(l));return this.ja.push(s),s}eu(){this.Ha&&_e()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}function wA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const l of r)if(l in s&&typeof s[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Bh extends If{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Hk}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}function Fk(t,e){const n=typeof t=="object"?t:ES(),r=typeof t=="string"?t:"(default)",s=Sg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=RO("firestore");l&&jk(s,...l)}return s}function sb(t){return t._firestoreClient||ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ob(t){var e,n,r;const s=t._freezeSettings(),l=function(d,m,p,g){return new SP(d,m,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ib(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kk(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(hn.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=/^__.*__$/;class Kk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}function ub(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class Ry{constructor(e,n,r,s,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.au(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new Ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.cu({path:r,hu:!1});return s.Pu(e),s}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.cu({path:r,hu:!1});return s.au(),s}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return jh(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(ub(this.uu)&&Gk.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class $k{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Ru(e,n,r,s=!1){return new Ry({uu:e,methodName:n,Au:r,path:an.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cb(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new $k(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qk(t,e,n,r,s,l={}){const c=t.Ru(l.merge||l.mergeFields?2:0,e,n,s);db("Data must be an object, but it was:",c,r);const d=hb(r,c);let m,p;if(l.merge)m=new ai(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const _ of l.mergeFields){const E=Xk(e,_,n);if(!c.contains(E))throw new re(B.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Zk(g,E)||g.push(E)}m=new ai(g),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new Kk(new Wn(d),m,p)}function Yk(t,e,n,r=!1){return by(n,t.Ru(r?4:3,e))}function by(t,e){if(fb(t=_n(t)))return db("Unsupported field value:",e,t),hb(t,e);if(t instanceof lb)return function(r,s){if(!ub(s.uu))throw s.Eu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,s){const l=[];let c=0;for(const d of r){let m=by(d,s.Tu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(r,s){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=kt.fromDate(r);return{timestampValue:Lh(s.serializer,l)}}if(r instanceof kt){const l=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,l)}}if(r instanceof wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zs)return{bytesValue:xR(s.serializer,r._byteString)};if(r instanceof kn){const l=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw s.Eu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Eu(`Unsupported field value: ${bf(r)}`)}(t,e)}function hb(t,e){const n={};return sR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,s)=>{const l=by(s,e.lu(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function fb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof wy||t instanceof Zs||t instanceof kn||t instanceof lb)}function db(t,e,n){if(!fb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=bf(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function Xk(t,e,n){if((e=_n(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return mb(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wk=new RegExp("[~\\*/\\[\\]]");function mb(t,e,n){if(e.search(Wk)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,s){const l=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${s}`),m+=")"),new re(B.INVALID_ARGUMENT,d+t+m)}function Zk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,s,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jk extends pb{data(){return super.data()}}function Iy(t,e){return typeof e=="string"?mb(t,e):e instanceof Sy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cy{}class Dy extends Cy{}function t2(t,e,...n){let r=[];e instanceof Cy&&r.push(e),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof Ny).length,d=l.filter(m=>m instanceof Oy).length;if(c>1||c>0&&d>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Oy extends Dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){const n=this._parse(e);return gb(e._query,n),new qr(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=cb(e.firestore);return function(l,c,d,m,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bA(_,g);const w=[];for(const I of _)w.push(RA(m,l,I));E={arrayValue:{values:w}}}else E=RA(m,l,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bA(_,g),E=Yk(d,c,_,g==="in"||g==="not-in");return Ot.create(p,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ny extends Cy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)gb(c,m),c=eg(c,m)}(e._query,n),new qr(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class My extends Dy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new My(e,n)}_apply(e){const n=function(s,l,c){if(s.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Vs(l,c);return function(p,g){if(ly(p)===null){const _=yf(p);_!==null&&yb(p,_,g.field)}}(s,d),d}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(s,l){const c=s.explicitOrderBy.concat([l]);return new ho(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function n2(t,e="asc"){const n=e,r=Iy("orderBy",t);return My._create(r,n)}class xy extends Dy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xy(e,n,r)}_apply(e){return new qr(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function i2(t){return xy._create("limit",t,"F")}function RA(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pR(e)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!he.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $T(t,new he(r))}if(n instanceof kn)return $T(t,n._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(n)}.`)}function bA(t,e){if(!Array.isArray(t)||t.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gb(t,e){if(e.isInequality()){const r=yf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new re(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const l=ly(t);l!==null&&yb(t,s,l)}const n=function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function yb(t,e,n){if(!n.isEqual(e))throw new re(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class r2{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(s,l)=>{r[s]=this.convertValue(l,n)}),r}convertGeoPoint(e){return new wy(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);ut(LR(r));const s=new nu(r.get(1),r.get(3)),l=new he(r.popFirst(5));return s.isEqual(n)||Zi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vb extends pb{constructor(e,n,r,s,l,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dh extends vb{data(e={}){return super.data(e)}}class s2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dh(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new dh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Cl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new dh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Cl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:o2(d.type),doc:m,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class _b extends r2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function l2(t,e){const n=Ul(t.firestore,Bh),r=qk(t),s=a2(t.converter,e);return c2(n,[Qk(cb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yi.exists(!1))]).then(()=>r)}function u2(t,...e){var n,r,s;t=_n(t);let l={includeMetadataChanges:!1},c=0;typeof e[c]!="object"||wA(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges};if(wA(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[c+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let m,p,g;if(t instanceof kn)p=Ul(t.firestore,Bh),g=oy(t._key.path),m={next:_=>{e[c]&&e[c](h2(p,t,_))},error:e[c+1],complete:e[c+2]};else{const _=Ul(t,qr);p=Ul(_.firestore,Bh),g=_._query;const E=new _b(p);m={next:w=>{e[c]&&e[c](new s2(p,E,_,w))},error:e[c+1],complete:e[c+2]},e2(t._query)}return function(E,w,I,k){const V=new Pk(k),F=new yk(w,V,I);return E.asyncQueue.enqueueAndForget(async()=>dk(await _A(E),F)),()=>{V.Ca(),E.asyncQueue.enqueueAndForget(async()=>mk(await _A(E),F))}}(sb(p),g,d,m)}function c2(t,e){return function(r,s){const l=new Ea;return r.asyncQueue.enqueueAndForget(async()=>Rk(await zk(r),s,l)),l.promise}(sb(t),e)}function h2(t,e,n){const r=n.docs.get(e._key),s=new _b(t);return new vb(t,s,e._key,r,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){uo=s})(ro),Hs(new Aa("firestore",(r,{instanceIdentifier:s,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Bh(new uP(r.getProvider("auth-internal")),new dP(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(p.options.projectId,g)}(c,s),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Vr(qT,"4.1.0",e),Vr(qT,"4.1.0","esm2017")})();const f2={apiKey:"AIzaSyDCVJAiJ2km5qIPQVBCoIt42j6mBu14mSc",authDomain:"soheetwit.firebaseapp.com",projectId:"soheetwit",storageBucket:"soheetwit.firebasestorage.app",messagingSenderId:"155464582969",appId:"1:155464582969:web:f19aac667e5d5934b00ae8"},Eb=_S(f2),Va=eV(Eb),Tb=Fk(Eb),d2=et.div`
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr 4fr;
  height: 100px;
  padding: 50px 0px;
  width: 100%;
  max-width: 860px;
`,m2=et.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
`,pp=et.div`
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid white;
  height: 50px;
  width: 50px;
  border-radius: 50%;
  svg {
    width: 30px;
    fill: white;
  }
  &.log-out {
    border-color: tomato;
    svg {
      fill: tomato;
    }
  }
`;function p2(){const t=no(),e=async()=>{confirm("Are you sure you want to log out?")&&(await Va.signOut(),t("/login"))};return te.jsxs(d2,{children:[te.jsxs(m2,{children:[te.jsx(Ol,{to:"/",children:te.jsx(pp,{children:te.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:te.jsx("path",{d:"M8.543 2.232a.75.75 0 0 0-1.085 0l-5.25 5.5A.75.75 0 0 0 2.75 9H4v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 1 1 2 0v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V9h1.25a.75.75 0 0 0 .543-1.268l-5.25-5.5Z"})})})}),te.jsx(Ol,{to:"/profile",children:te.jsx(pp,{children:te.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:te.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})})})}),te.jsx(Ol,{to:"/profile",children:te.jsx(pp,{onClick:e,className:"log-out",children:te.jsxs("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[te.jsx("path",{d:"M4.75 2A2.75 2.75 0 0 0 2 4.75v6.5A2.75 2.75 0 0 0 4.75 14h3a2.75 2.75 0 0 0 2.75-2.75v-.5a.75.75 0 0 0-1.5 0v.5c0 .69-.56 1.25-1.25 1.25h-3c-.69 0-1.25-.56-1.25-1.25v-6.5c0-.69.56-1.25 1.25-1.25h3C8.44 3.5 9 4.06 9 4.75v.5a.75.75 0 0 0 1.5 0v-.5A2.75 2.75 0 0 0 7.75 2h-3Z"}),te.jsx("path",{d:"M8.03 6.28a.75.75 0 0 0-1.06-1.06L4.72 7.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 1 0 1.06-1.06l-.97-.97h7.19a.75.75 0 0 0 0-1.5H7.06l.97-.97Z"})]})})})]}),te.jsx(aD,{})]})}const g2=et.form`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,y2=et.textarea`
  border: 2px solid white;
  padding: 20px;
  border-radius: 20px;
  font-size: 16px;
  color: white;
  background-color: black;
  width: 100%;
  resize: none;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  &::placeholder {
    font-size: 16px;
  }
  &:focus {
    outline: none;
    border-color: skyblue;
  }
`,v2=et.label`
  padding: 10px 0px;
  color: skyblue;
  text-align: center;
  border-radius: 20px;
  border: 1px solid skyblue;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
`,_2=et.input`
  display: none;
`,E2=et.input`
  background-color: skyblue;
  color: white;
  border: none;
  padding: 10px 0px;
  border-radius: 16px;
  cursor: pointer;
  &:hover,
  &:active {
    opacity: 0.9;
  }
`;function T2(){const[t,e]=Q.useState(!1),[n,r]=Q.useState(""),[s,l]=Q.useState(null),c=g=>{r(g.target.value)},d=g=>{const{files:_}=g.target;_&&_.length===1&&l(_[0])},m=async g=>{g.preventDefault();const _=Va.currentUser;if(!(!_||t||n===""||n.length>180))try{e(!0);let E=null;if(s&&(E=await p(s,500,.7),E.length>1048487)){alert("이미지 크기가 너무 큽니다. 다른 이미지를 선택해주세요.");return}await l2(ab(Tb,"tweets"),{tweet:n,createdAt:Date.now(),username:_.displayName||"Anonymous",userId:_.uid,photo:E}),r(""),l(null)}catch(E){console.log(E)}finally{e(!1)}},p=(g,_=500,E=.7)=>new Promise((w,I)=>{const k=new Image,V=new FileReader;V.onload=()=>{if(typeof V.result!="string")return I("Invalid file");k.src=V.result,k.onload=()=>{const F=document.createElement("canvas"),G=_/k.width;F.width=_,F.height=k.height*G;const $=F.getContext("2d");if(!$)return I("Canvas not supported");$.drawImage(k,0,0,F.width,F.height);const b=F.toDataURL("image/jpeg",E);w(b)},k.onerror=I},V.onerror=I,V.readAsDataURL(g)});return te.jsxs(g2,{onSubmit:m,children:[te.jsx(y2,{required:!0,rows:5,maxLength:180,onChange:c,value:n,placeholder:"What is happening?"}),te.jsx(v2,{htmlFor:"file",children:s?"Photo added✅":"Add Photo"}),te.jsx(_2,{onChange:d,type:"file",id:"file",accept:"image/*"}),te.jsx(E2,{type:"submit",value:t?"Posting":"Post Tweet"})]})}const A2=et.div`
  display: grid;
  grid-template-columns: 3fr 1fr;
  padding: 20px;
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 15px;
  gap: 20px;
`,S2=et.div`
  display: flex;
  flex-direction: column;
`,w2=et.div``,R2=et.img`
  width: 100px;
  height: 100px;
  border-radius: 15px;
`,b2=et.div`
  font-weight: 600;
  font-size: 15px;
`,I2=et.p`
  margin: 10px 0px;
  font-size: 18px;
`;function C2({username:t,photo:e,tweet:n}){return te.jsxs(A2,{children:[te.jsxs(S2,{children:[te.jsx(b2,{children:t}),te.jsx(I2,{children:n})]}),e?te.jsx(w2,{children:te.jsx(R2,{src:e})}):null]})}const D2=et.div`
  display: flex;
  gap: 10px;
  flex-direction: column;
`;function O2(){const[t,e]=Q.useState([]);return Q.useEffect(()=>{let n=null;return(()=>{const s=t2(ab(Tb,"tweets"),n2("createdAt","desc"),i2(25));n=u2(s,l=>{const c=l.docs.map(d=>{const{tweet:m,createdAt:p,useId:g,username:_,photo:E}=d.data();return{id:d.id,tweet:m,createdAt:p,useId:g,username:_,photo:E}});e(c)})})(),()=>{n==null||n()}},[]),te.jsx(D2,{children:t.map(n=>te.jsx(C2,{...n},n.id))})}const N2=et.div`
  display: grid;
  gap: 50px;
  //overflow-y: scroll;
  grid-template-rows: 1fr 5fr;
`;function M2(){return te.jsxs(N2,{children:[te.jsx(T2,{}),te.jsx(O2,{})]})}function x2(){return te.jsx("h1",{children:"Profile!"})}const Ab=et.div`
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 420px;
    padding: 50px 0px;
`,Sb=et.h1`
    font-size: 42px;
    color: red;
`,wb=et.form`
    margin-top: 50px;
    margin-bottom: 10px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
`,ga=et.input`
    padding: 10px 20px;
    border-radius: 50px;
    border: none;
    width: 100%;
    font-size: 16px;
    &[type="submit"]{
        cursor: pointer;
        &:hover{
            opacity: 0.8;
        }
    }
`,Rb=et.span`
    font-weight: 600px;
    color: tomato;
`,bb=et.span`
    margin-top: 20px;
    a {
        color: skyblue;
    }
`,V2=et.span`
    margin-top: 50px;
    background-color: white;
    font-weight: 500;
    width: 100%;
    color: black;
    padding: 10px 20px;
    border-radius: 50px;
    border: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
`,P2=et.img`
    height: 25px;
    margin-right: 8px; 
`;function Ib(){const t=no(),e=async()=>{try{const n=new Fi;await ux(Va,n),t("/")}catch(n){console.log(n)}};return te.jsxs(V2,{onClick:e,children:[te.jsx(P2,{src:"/github-logo.svg"}),"Continue with Github"]})}function k2(){const t=no(),[e,n]=Q.useState(!1),[r,s]=Q.useState(""),[l,c]=Q.useState(""),[d,m]=Q.useState(""),p=_=>{const{target:{name:E,value:w}}=_;E==="email"?s(w):E==="password"&&c(w)},g=async _=>{if(_.preventDefault(),m(""),!(e||r===""||l==="")){try{n(!0),await LM(Va,r,l),t("/")}catch(E){E instanceof ui&&(console.log("e code : "+E.code,", e.message : "+E.message),m(E.message)),console.log(E)}finally{n(!1)}console.log(r,l)}};return te.jsxs(Ab,{children:[te.jsx(Sb,{children:"Login soheetwit"}),te.jsxs(wb,{onSubmit:g,children:[te.jsx(ga,{onChange:p,name:"email",value:r,placeholder:"Email",type:"email",required:!0}),te.jsx(ga,{onChange:p,name:"password",value:l,placeholder:"Password",type:"password",required:!0}),te.jsx(ga,{type:"submit",value:e?"Loading...":"Login"})]}),d!==""?te.jsx(Rb,{children:d}):null,te.jsxs(bb,{children:["Don't have an account?"," ",te.jsx(Ol,{to:"/create-account",children:"Create one"})]}),te.jsx(Ib,{})]})}function U2(){const t=no(),[e,n]=Q.useState(!1),[r,s]=Q.useState(""),[l,c]=Q.useState(""),[d,m]=Q.useState(""),[p,g]=Q.useState(""),_=w=>{const{target:{name:I,value:k}}=w;I==="name"?s(k):I==="email"?c(k):I==="password"&&m(k)},E=async w=>{if(w.preventDefault(),g(""),!(e||r===""||l===""||d==="")){try{n(!0);const I=await UM(Va,l,d);console.log(I.user),await BM(I.user,{displayName:r}),t("/")}catch(I){I instanceof ui&&(console.log("e code : "+I.code,", e.message : "+I.message),g(I.message)),console.log(I)}finally{n(!1)}console.log(r,l,d)}};return te.jsxs(Ab,{children:[te.jsx(Sb,{children:"Join soheetwit"}),te.jsxs(wb,{onSubmit:E,children:[te.jsx(ga,{onChange:_,name:"name",value:r,placeholder:"Name",type:"text",required:!0}),te.jsx(ga,{onChange:_,name:"email",value:l,placeholder:"Email",type:"email",required:!0}),te.jsx(ga,{onChange:_,name:"password",value:d,placeholder:"Password",type:"password",required:!0}),te.jsx(ga,{type:"submit",value:e?"Loading...":"Create Acount"})]}),p!==""?te.jsx(Rb,{children:p}):null,te.jsxs(bb,{children:["Already have an account?"," ",te.jsx(Ol,{to:"/login",children:"Log in"})]}),te.jsx(Ib,{})]})}var Cb=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Db=_g(IA||(IA=Cb([`
/* http://meyerweb.com/eric/tools/css/reset/
   v5.0.1 | 20191019
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, menu, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
main, menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, main, menu, nav, section {
  display: block;
}
/* HTML5 hidden-attribute fix for newer browsers */
*[hidden] {
    display: none;
}
body {
  line-height: 1;
}
menu, ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
`],[`
/* http://meyerweb.com/eric/tools/css/reset/
   v5.0.1 | 20191019
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, menu, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
main, menu, nav, output, ruby, section, summary,
time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, main, menu, nav, section {
  display: block;
}
/* HTML5 hidden-attribute fix for newer browsers */
*[hidden] {
    display: none;
}
body {
  line-height: 1;
}
menu, ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
`])));cS(CA||(CA=Cb(["",""],["",""])),Db);var IA,CA;const L2=et.div`
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
`,z2=et.span`
    font-size: 24;
`;function B2(){return te.jsx(L2,{children:te.jsx(z2,{children:"Loading..."})})}function j2({children:t}){const e=Va.currentUser;return console.log(e),e?t:te.jsx(rD,{to:"/login"})}const q2=fD([{path:"/",element:te.jsx(j2,{children:te.jsx(p2,{})}),children:[{path:"",element:te.jsx(M2,{})},{path:"profile",element:te.jsx(x2,{})}]},{path:"/login",element:te.jsx(k2,{})},{path:"/create-account",element:te.jsx(U2,{})}]),H2=cS`
  ${Db};
  *{
    box-sizing: border-box;
  }
  body{
    background-color: black;
    color:white;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 
    'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 
    'Helvetica Neue', sans-serif;
  }
`,F2=et.div`
  height: 100vh;
  display: flex;
  justify-content: center;
`;function G2(){const[t,e]=Q.useState(!0),n=async()=>{await Va.authStateReady(),e(!1)};return Q.useEffect(()=>{n()},[]),te.jsxs(F2,{children:[te.jsx(H2,{}),t?te.jsx(B2,{}):te.jsx(nD,{router:q2})]})}XI.createRoot(document.getElementById("root")).render(te.jsx(Q.StrictMode,{children:te.jsx(G2,{})}));
